{"version":3,"sources":["components/Partials/ReviewCommentsCard/reviewCommentsCard.module.css","components/Pages/Reviews/review.module.css","components/Partials/ReviewCard/reviewCard.module.css","components/Pages/Home/home.module.css","components/App/app.module.css","components/Pages/Photos/photos.module.css","serviceWorker.js","components/Firebase/context.js","components/Firebase/firebase.js","components/Firebase/index.js","components/Partials/SignOut/index.js","constants/routes.js","components/Session/context.js","components/Session/withAuthentication.js","components/Session/withAuthorization.js","components/Navigation/index.js","components/Pages/Landing/index.js","components/Partials/SignUp/index.js","components/Partials/PasswordForget/index.js","components/Pages/SignIn/index.js","components/Partials/ReviewCard/index.js","components/ThirdParty/AutoSuggestShops/index.js","components/Pages/Home/index.js","components/Pages/Reviews/reviewModal.js","components/Partials/ReviewCommentsCard/index.js","components/Pages/Reviews/index.js","components/Pages/Shops/index.js","components/ThirdParty/AutoSuggestUsers/index.js","components/Pages/Users/index.js","components/Pages/Photos/addPhotoModal.js","components/Pages/Photos/index.js","components/Partials/PasswordChange/index.js","components/Pages/Account/index.js","components/Pages/Admin/index.js","components/Pages/Test/index.js","components/App/index.js","index.js","components/Navigation/navigation.module.css","components/Pages/Landing/landing.module.css","components/Partials/SignUp/signUp.module.css","components/Pages/SignIn/signIn.module.css","components/Pages/Shops/shops.module.css","components/Pages/Users/users.module.css"],"names":["module","exports","headerLink","scoreLine","scoreHeader","note","dateTime","reviewCard","borderTop","comments","addCommentButton","commentText","recentReviews","reviewWell","commentsWell","commentWell","recentComment","updateButton","inline","locationInput","reviewInput","submitForm","submitButton","starRating","well","noReviewsWell","inputTop","left","right","rightHeader","textarea","scoreReviewHeader","main","uploadBtn","header","info","Boolean","window","location","hostname","match","FirebaseContext","React","createContext","withFirebase","Component","props","react_default","a","createElement","Consumer","firebase","Object","assign","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","_this","this","classCallCheck","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","user","userid","db","ref","concat","bobaShopUserReview","shopName","userId","bobaShopUserComment","userReview","bobaShop","bobaShopReviews","bobaShopUserReviews","userReviews","users","bobaShops","bobaShopImages","storageBobaShopImages","storage","storageBobaShopImage","imageName","app","initializeApp","database","buttonStyle","color","border","marginTop","marginRight","float","_ref","type","style","className","onClick","HOME","SHOPS","AuthUserContext","withAuthentication","WithAuthentication","_React$Component","possibleConstructorReturn","getPrototypeOf","call","state","authUser","role","username","inherits","createClass","key","value","_this2","listener","onAuthStateChanged","setState","uid","on","snapshot","val","Session_context","Provider","withAuthorization","condition","WithAuthorization","apply","arguments","history","push","login","compose","withRouter","authAdminMenuItems","ROUTES","authMenuItems","nonAuthMenuItems","NavigationAuth","barsClick","barsOpen","linkClick","active","relPath","href","split","signoutButton","signedIn","SignOut","classes","responsive","navbar","menuItems","map","_ref2","slicedToArray","menuItem","route","Link","to","responsiveSignout","icon","index_es","faBars","size","Navigation","Navigation_NavigationAuth","Landing","reviews","grades","tierList","loading","getAllReviewList","reviewsObject","gradeReviews","count","finalScore","score1Total","score2Total","score3Total","score4Total","score5Total","score6Total","score7Total","score8Total","reviewCount","shop","score1","score2","score3","score4","score5","score6","score7","score8","parseFloat","orderedGrades","keys","sort","forEach","console","log","S","A","B","C","D","E","F","name","off","divStyle","display","tiersStyle","padding","override","css","_templateObject","entries","tier","list","row","tierLabel","index","tierItem","pathname","react_spinners","sizeUnit","signUpPageStyle","margin","INITIAL_STATE","passwordOne","error","SignUpFormBase","onSubmit","event","_this$state","then","set","objectSpread","catch","preventDefault","onChange","defineProperty","target","_this$state2","isInvalid","placeholder","inputStyle","passwordMask_min_default","buttonClassName","maskButton","inputClassName","disabled","message","SignUpLink","SignUpForm","SignUpPage","PasswordForgetFormBase","PasswordForgetLink","PasswordForgetPage","PasswordForgetForm","signInPageStyle","SignInFormBase","SignInForm","SignInPage","PasswordForget_PasswordForgetLink","SignUp_SignUpLink","dateOptions","weekday","hour","minute","year","month","day","ReviewCard","undefined","paddingLeft","paddingRight","build_default","rating","starRatedColor","starHoverColor","numberOfStars","starDimension","starSpacing","isSelectable","isHomeCard","editReview","review","deleteReview","isReviewsCard","Date","toLocaleDateString","getSuggestions","inputValue","trim","toLowerCase","inputLength","length","filter","slice","getSuggestionValue","suggestion","renderSuggestion","AutoSuggestShops","newValue","getInputData","onSuggestionsFetchRequested","suggestions","onSuggestionSelected","_ref3","suggestionValue","suggestionIndex","sectionIndex","method","getSelectedData","onSuggestionsClearRequested","bobaShopsObject","bobaShopsList","inputProps","dist_default","HomePage","formValues","editFormValues","bind","assertThisInitialized","params","parseInt","scrollTo","Content","Wrapper","NewReview","MyReviews","NewReviewBase","_this2$state","toLocaleString","context","bobaShopAndLocation","update","comment","notify","onChangeScore","toast","getAutosuggestInput","getAutoSuggestSelected","substr","indexOf","substring","lastIndexOf","scores","scoreNames","ratingInputs","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","changeRating","err","return","react_toastify","ThirdParty_AutoSuggestShops","contextType","MyReviewsBase","_this3","myReviews","getReviewList","confirm","child","remove","_this4","myReviewsObject","myReviewsList","_this5","Home_templateObject","Partials_ReviewCard","Modal","show","commentModal","position","top","bottom","backgroundColor","borderRadius","maxWidth","minHeight","marginBottom","children","autoFocus","rows","paddingTop","onClose","submitComment","ReviewCommentsCard","normal","fontWeight","toggleModal","Reviews","modalIsOpen","sortedReviews","sortedReviewsCopy","currentTime","sortReviews","_loop","b","splice","commenterName","commenterUid","ommentModal","Reviews_templateObject","Partials_ReviewCommentsCard","reviewModal","Shops","shopReviews","shopAverageScore","numberOfReviews","getShopReviews","shopReviewsObject","shopReviewsList","Math","round","faUsers","faStar","AutoSuggestUsers","usersObject","usersList","Users","getUserReviews","userReviewsObject","userReviewsList","ThirdParty_AutoSuggestUsers","faCoffee","AddPhotoModal","description","CustomUploadButton_default","accept","randomizeFilename","storageRef","onUploadSuccess","handleUploadSuccess","Photos","filename","photoNames","photos","getShopPhotoNames","addPhotoModal","passwordTwo","PasswordChangeForm","AdminPageBase","Admin_UserList","UserList","AdminPage","authUsera","Test","avatar","isUploading","progress","avatarURL","files","handleChangeUsername","handleUploadStart","handleProgress","handleUploadError","getDownloadURL","url","src","startUploadManually","HashRouter","components_Navigation","Route","exact","path","component","LandingPage","ReviewsPage","ShopsPage","UsersPage","PhotosPage","AccountPage","TestPage","ReactDOM","render","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","signInInput"],"mappings":"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","file":"static/js/main.8df3f7ae.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerLink\":\"reviewCommentsCard_headerLink__1L5jT\",\"scoreLine\":\"reviewCommentsCard_scoreLine__1vHpB\",\"scoreHeader\":\"reviewCommentsCard_scoreHeader__1SFVX\",\"note\":\"reviewCommentsCard_note__m5LyQ\",\"dateTime\":\"reviewCommentsCard_dateTime__3BzW5\",\"reviewCard\":\"reviewCommentsCard_reviewCard__5khT9\",\"borderTop\":\"reviewCommentsCard_borderTop__3O5C1\",\"comments\":\"reviewCommentsCard_comments__1kl4-\",\"addCommentButton\":\"reviewCommentsCard_addCommentButton__FGdQc\",\"commentText\":\"reviewCommentsCard_commentText__3Y7Gs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"recentReviews\":\"review_recentReviews__1kwFq\",\"reviewWell\":\"review_reviewWell__3qEmo\",\"commentsWell\":\"review_commentsWell__2CEDo\",\"commentWell\":\"review_commentWell__35_tQ\",\"addCommentButton\":\"review_addCommentButton__6ukft\",\"recentComment\":\"review_recentComment__1zXMu\",\"scoreLine\":\"review_scoreLine__3VWIA\",\"scoreHeader\":\"review_scoreHeader__1zJLr\",\"commentText\":\"review_commentText__3rhkg\",\"dateTime\":\"review_dateTime__1q5IA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerLink\":\"reviewCard_headerLink__u9v26\",\"scoreLine\":\"reviewCard_scoreLine__2KKw5\",\"scoreHeader\":\"reviewCard_scoreHeader__7LpYT\",\"note\":\"reviewCard_note__1LEls\",\"dateTime\":\"reviewCard_dateTime__1ma8k\",\"reviewCard\":\"reviewCard_reviewCard__2zs_z\",\"borderTop\":\"reviewCard_borderTop__2klAM\",\"updateButton\":\"reviewCard_updateButton__1NvDo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inline\":\"home_inline__3SD5Y\",\"locationInput\":\"home_locationInput__36MC0\",\"reviewInput\":\"home_reviewInput__3hBkv\",\"submitForm\":\"home_submitForm__218D9\",\"submitButton\":\"home_submitButton__WeA4d\",\"starRating\":\"home_starRating__Rg7ut\",\"updateButton\":\"home_updateButton__2XC8A\",\"well\":\"home_well__3MBmx\",\"noReviewsWell\":\"home_noReviewsWell__2WJ6p\",\"inputTop\":\"home_inputTop__1EHC7\",\"left\":\"home_left__367Pc\",\"right\":\"home_right__1fzCL\",\"rightHeader\":\"home_rightHeader__35R6S\",\"textarea\":\"home_textarea__2WEpE\",\"note\":\"home_note__kpMEY\",\"scoreLine\":\"home_scoreLine__1QQ1q\",\"scoreHeader\":\"home_scoreHeader__3ikuv\",\"scoreReviewHeader\":\"home_scoreReviewHeader__3Wudz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"app_main__3w4EL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"uploadBtn\":\"photos_uploadBtn__3q-7t\",\"header\":\"photos_header__9eMhZ\",\"info\":\"photos_info__BDPr5\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\n\nconst FirebaseContext = React.createContext(null);\n\nexport const withFirebase = Component => props => (\n  <FirebaseContext.Consumer>\n    {firebase => <Component {...props} firebase={firebase} />}\n  </FirebaseContext.Consumer>\n);\n\nexport default FirebaseContext;\n","import app from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport 'firebase/storage';\n\nconst config = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n};\n\nclass Firebase {\n  constructor() {\n    app.initializeApp(config);\n\n    this.auth = app.auth();\n    this.db = app.database();\n    this.storage = app.storage();\n  }\n\n  // *** Auth API ***\n\n  doCreateUserWithEmailAndPassword = (email, password) =>\n    this.auth.createUserWithEmailAndPassword(email, password);\n\n  doSignInWithEmailAndPassword = (email, password) =>\n    this.auth.signInWithEmailAndPassword(email, password);\n\n  doSignOut = () => {\n    this.auth.signOut();\n  }\n    \n\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\n\n  doPasswordUpdate = password =>\n    this.auth.currentUser.updatePassword(password);\n\n  // *** User API ***\n  //Database\n  user = userid => this.db.ref(`users/${userid}`);\n  bobaShopUserReview = (shopName, userId) => this.db.ref(`bobaShopUserReviews/${shopName}/${userId}`);\n  bobaShopUserComment = (shopName, userId) => this.db.ref(`bobaShopUserReviews/${shopName}/${userId}/comments`);\n  userReview = (userId, shopName) => this.db.ref(`users/${userId}/reviews/${shopName}`);\n  bobaShop = (bobaShop) => this.db.ref(`bobaShops/${bobaShop}`);\n\n  bobaShopReviews = () => this.db.ref(`bobaShopUserReviews`);\n  bobaShopUserReviews = (shopName) => this.db.ref(`bobaShopUserReviews/${shopName}`);\n  userReviews = (userId) => this.db.ref(`users/${userId}/reviews`);\n  users = () => this.db.ref('users');\n  bobaShops = () => this.db.ref('bobaShops');\n  bobaShopImages = (shopName) => this.db.ref(`bobaShops/${shopName}/images`)\n\n  //Storage\n  storageBobaShopImages = (bobaShop) => this.storage.ref(`bobaShops/${bobaShop}/images`);\n  storageBobaShopImage = (bobaShop, imageName) => this.storage.ref(`bobaShops/${bobaShop}/images/${imageName}`);\n\n\n}\n\nexport default Firebase;\n","import FirebaseContext, { withFirebase } from './context';\nimport Firebase from './firebase';\n\nexport default Firebase;\n\nexport { FirebaseContext, withFirebase };\n","import React from 'react';\n\nimport { withFirebase } from '../../Firebase';\n\nconst buttonStyle= {\n  color: 'white',\n  border: '1px solid white',\n  marginTop:'2px',\n  marginRight:'10px',\n  float:'right',\n}\n\nconst SignOutButton = ({ firebase }) => (\n  <button type=\"button\" style={buttonStyle} className=\"btn btn-default\" onClick={firebase.doSignOut}>\n    Sign Out\n  </button>\n);\n\nexport default withFirebase(SignOutButton);\n","export const SIGN_UP = '/signup';\r\nexport const SIGN_IN = '/signin';\r\nexport const LANDING = '/';\r\nexport const HOME = '/myreviews';\r\nexport const REVIEWS = '/reviews';\r\nexport const SHOPS = '/shops';\r\nexport const MEMBERS = '/members';\r\nexport const PHOTOS = '/photos';\r\nexport const ACCOUNT = '/account';\r\nexport const ADMIN = '/admin';\r\nexport const PASSWORD_FORGET = '/pw-forget';\r\nexport const TEST = '/test';\r\n","import React from 'react';\n\nconst AuthUserContext = React.createContext(null);\n\nexport default AuthUserContext;\n","import React from 'react';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase/index';\r\n\r\nconst withAuthentication = Component => {\r\n  class WithAuthentication extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        authUser: null,\r\n        role: null,\r\n        username: null\r\n      };\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\r\n        authUser => {\r\n          if (authUser){\r\n            this.setState({ authUser })\r\n            this.props.firebase.user(authUser.uid).on('value', snapshot => {\r\n              this.setState({ \r\n                role: snapshot.val().role, \r\n                username: snapshot.val().username, \r\n              }) \r\n            });\r\n          } else{\r\n            this.setState({ authUser: null });  \r\n            this.setState({ role: null });  \r\n          }  \r\n        },\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Provider value={this.state}>\r\n          <Component {...this.props} />\r\n        </AuthUserContext.Provider>\r\n      );\r\n    }\r\n  }\r\n\r\n  return withFirebase(WithAuthentication);\r\n};\r\n\r\nexport default withAuthentication;","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase/index';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst withAuthorization = condition => Component => {\r\n  class WithAuthorization extends React.Component {\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\r\n        authUser => {\r\n          if (!condition(authUser)) {\r\n            this.props.history.push(ROUTES.SIGN_IN);\r\n          }\r\n        },\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Consumer>\r\n        {login =>\r\n          condition(login.authUser) ? <Component {...this.props} /> : null\r\n        }\r\n      </AuthUserContext.Consumer>\r\n      );\r\n    }\r\n  }\r\n\r\n  return compose(\r\n    withRouter,\r\n    withFirebase,\r\n  )(WithAuthorization);\r\n};\r\n\r\nexport default withAuthorization;","import React from 'react';\r\nimport classes from './navigation.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport SignOutButton from '../Partials/SignOut';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { AuthUserContext } from '../Session';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst authAdminMenuItems = [\r\n  ['Tier List', ROUTES.LANDING],\r\n  ['Shops', ROUTES.SHOPS],\r\n  ['Members', ROUTES.MEMBERS],\r\n  ['Photos', ROUTES.PHOTOS],\r\n  ['Recent Reviews', ROUTES.REVIEWS],\r\n  ['My Reviews', ROUTES.HOME],\r\n  ['Account', ROUTES.ACCOUNT],\r\n  ['Admin', ROUTES.ADMIN],\r\n  ['Test', ROUTES.TEST],\r\n];\r\n\r\nconst authMenuItems = [\r\n  ['Tier List', ROUTES.LANDING],\r\n  ['Shops', ROUTES.SHOPS],\r\n  ['Members', ROUTES.MEMBERS],\r\n  // ['Photos', ROUTES.PHOTOS],\r\n  ['Recent Reviews', ROUTES.REVIEWS],\r\n  ['My Reviews', ROUTES.HOME],\r\n  ['Account', ROUTES.ACCOUNT],\r\n];\r\n\r\nconst nonAuthMenuItems = [\r\n  ['Tier List', ROUTES.LANDING],\r\n  ['Shops', ROUTES.SHOPS],\r\n  ['Members', ROUTES.MEMBERS],\r\n  // ['Photos', ROUTES.PHOTOS],\r\n  ['Recent Reviews', ROUTES.REVIEWS],\r\n  ['Sign In', ROUTES.SIGN_IN],\r\n];\r\n\r\n\r\nconst Navigation = () => (\r\n  <div>\r\n    <AuthUserContext.Consumer>\r\n      {login =>\r\n        login.role === 'admin' ? <NavigationAuth menuItems={authAdminMenuItems} signedIn={true} /> :\r\n          (login.authUser ? <NavigationAuth menuItems={authMenuItems} signedIn={true} /> :\r\n            <NavigationAuth menuItems={nonAuthMenuItems} signedIn={false} />)\r\n      }\r\n    </AuthUserContext.Consumer>\r\n  </div>\r\n);\r\n\r\nclass NavigationAuth extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      active: '',\r\n      barsOpen: false,\r\n    }\r\n  }\r\n\r\n  barsClick = () => {\r\n    this.setState({ barsOpen: !this.state.barsOpen })\r\n  }\r\n  linkClick = () => {\r\n    if (this.state.barsOpen) {\r\n      this.setState({ barsOpen: !this.state.barsOpen })\r\n    }\r\n  }\r\n\r\n  render() {\r\n   const relPath = window.location.href.split('#')[1];\r\n\r\n    let barsOpen = this.state.barsOpen;\r\n    let signoutButton = null;\r\n    if (this.props.signedIn) {\r\n      signoutButton = <SignOutButton />\r\n    }\r\n\r\n    return (\r\n      <div className={`${(barsOpen ? classes.responsive : \"\")} ${classes.navbar}`}>\r\n        {this.props.menuItems.map(([menuItem, route]) =>\r\n          <Link key={menuItem} to={route} onClick={this.linkClick}\r\n            className={relPath===  route ? classes.active : \"\"}>\r\n            {menuItem}\r\n          </Link>\r\n        )}\r\n        <div className={`${(barsOpen ? classes.responsiveSignout : \"\")}`} onClick={this.barsClick}>\r\n          {signoutButton}\r\n        </div>\r\n\r\n\r\n        <a className={`${classes.icon}`} onClick={this.barsClick}>\r\n          <FontAwesomeIcon icon={faBars} size=\"lg\" />\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// const NavigationAuthAdmin = () => (\r\n//   <div className={classes.horizontal}>\r\n//     <Link to={ROUTES.LANDING}>Landing</Link>\r\n//     <Link to={ROUTES.REVIEWS}>Reviews</Link>\r\n//     <Link to={ROUTES.HOME}>Home</Link>\r\n//     <Link to={ROUTES.ACCOUNT}>Account</Link>\r\n//     <Link to={ROUTES.ADMIN}>Admin</Link>\r\n//     <SignOutButton />\r\n//   </div>\r\n// );\r\n\r\n// const NavigationAuth = () => (\r\n//   <div className={classes.horizontal}>\r\n//       <Link to={ROUTES.LANDING}>Landing</Link>\r\n//       <Link to={ROUTES.REVIEWS}>Reviews</Link>\r\n//       <Link to={ROUTES.HOME}>Home</Link>\r\n//       <Link to={ROUTES.ACCOUNT}>Account</Link>\r\n//       <SignOutButton />\r\n//   </div>\r\n// );\r\n\r\n// const NavigationNonAuth = () => (\r\n//   <div className={classes.horizontal}>\r\n//     <Link to={ROUTES.LANDING}>Landing</Link>\r\n//     <Link to={ROUTES.SIGN_IN}>Sign In</Link>\r\n//   </div>\r\n// );\r\n\r\nexport default Navigation;\r\n","import React from 'react';\r\nimport { withFirebase } from '../../Firebase';\r\nimport classes from './landing.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\r\nimport { faUsers } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport { ClipLoader } from 'react-spinners';\r\nimport { css } from '@emotion/core';\r\n\r\nclass Landing extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      reviews: {},\r\n      grades: {},\r\n      tierList: {},\r\n      loading: true\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getAllReviewList();\r\n  }\r\n\r\n  getAllReviewList() {\r\n    this.props.firebase.bobaShopReviews().on('value', snapshot => {\r\n      const reviewsObject = snapshot.val();\r\n      if (reviewsObject) {\r\n        this.setState({\r\n          reviews: reviewsObject,\r\n        }, () => {\r\n          this.gradeReviews();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  gradeReviews() {\r\n    let count = 0;\r\n    let finalScore = 0;\r\n    let score1Total = 0; let score2Total = 0; let score3Total = 0; let score4Total = 0;\r\n    let score5Total = 0; let score6Total = 0; let score7Total = 0; let score8Total = 0;\r\n    let reviewCount = 0;\r\n    let grades = {};\r\n\r\n    for (let shop in this.state.reviews) {\r\n      for (let user in this.state.reviews[shop]) {\r\n        let userReview = this.state.reviews[shop][user];\r\n        score1Total += userReview.score1;\r\n        score2Total += userReview.score2;\r\n        score3Total += userReview.score3;\r\n        score4Total += userReview.score4;\r\n        score5Total += userReview.score5;\r\n        score6Total += userReview.score6;\r\n        score7Total += userReview.score7;\r\n        score8Total += userReview.score8;\r\n        count++;\r\n        reviewCount++;\r\n      }\r\n\r\n      finalScore = (parseFloat(score1Total) + parseFloat(score2Total) + parseFloat(score3Total) + parseFloat(score4Total) +\r\n        parseFloat(score5Total) + parseFloat(score6Total) + parseFloat(score7Total) + parseFloat(score8Total)) / (count * 8);\r\n      grades[shop] = {\r\n        shopName: shop,\r\n        finalScore: finalScore,\r\n        reviewCount: reviewCount\r\n      }\r\n\r\n      count = score1Total = score2Total = score3Total = score4Total = score5Total = score6Total = score7Total = score8Total = reviewCount = 0;\r\n    }\r\n\r\n    const orderedGrades = {};\r\n    Object.keys(grades).sort().forEach(function (key) {\r\n      orderedGrades[key] = grades[key];\r\n    });\r\n\r\n    this.setState({\r\n      grades: orderedGrades\r\n    })\r\n    console.log(grades);\r\n\r\n    let tierList = {\r\n      S: [],\r\n      A: [],\r\n      B: [],\r\n      C: [],\r\n      D: [],\r\n      E: [],\r\n      F: [],\r\n    }\r\n\r\n    for (let shop in grades) {\r\n      const finalScore = grades[shop].finalScore;\r\n      const name = grades[shop].shopName;\r\n\r\n      if (finalScore >= 4.75) {\r\n        tierList.S.push(name)\r\n      } else if (4.25 <= finalScore && finalScore < 4.75) {\r\n        tierList.A.push(name)\r\n      } else if (3.5 <= finalScore && finalScore < 4.25) {\r\n        tierList.B.push(name)\r\n      } else if (2.75 <= finalScore && finalScore < 3.5) {\r\n        tierList.C.push(name)\r\n      } else if (2 <= finalScore && finalScore < 2.75) {\r\n        tierList.D.push(name)\r\n      } else if (1 <= finalScore && finalScore < 2) {\r\n        tierList.E.push(name)\r\n      } else if (finalScore < 1) {\r\n        tierList.F.push(name)\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      tierList: tierList,\r\n      loading: false\r\n    });\r\n    console.log(tierList);\r\n    console.log(grades);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.firebase.bobaShopReviews().off();\r\n  }\r\n\r\n  render() {\r\n    const { tierList } = this.state;\r\n\r\n    const divStyle = {\r\n      display: 'inline',\r\n    };\r\n\r\n    const tiersStyle = {\r\n      padding: '3px'\r\n    }\r\n\r\n    const buttonStyle = {\r\n      color: 'black',\r\n      border: '1px solid #ccc',\r\n    }\r\n\r\n    const override = css`\r\n    display: block;\r\n    margin: 120px auto;\r\n    `;\r\n\r\n    return (\r\n      <div className={`container`}>\r\n        <div className={`row`}>\r\n          <div className={`col-12 ${classes.header}`}>\r\n            <h5>Tier List</h5>\r\n          </div>\r\n        </div>\r\n        <div className={`${classes.tierList}`}>\r\n          {Object.entries(tierList).map(([tier, list]) => (\r\n            <div key={tier} style={tiersStyle} className={`row ${classes.row}`}>\r\n              <div className={`col-2 col-md-1`}>\r\n                <button className={`btn btn-default ${classes.tierLabel}`} style={buttonStyle}>{tier}</button>\r\n              </div>\r\n              <div className={`col-10 col-md-11`}>\r\n                {\r\n                  list.map((shop, index) => (\r\n                    <div key={index} style={divStyle}>\r\n\r\n                      <Link className={`${classes.tierItem}`} to={{ pathname: ROUTES.SHOPS, state: { shop: shop } }}>\r\n                        {shop}\r\n                      </Link>\r\n\r\n                      , &nbsp;\r\n                  </div>\r\n                  ))\r\n                }\r\n              </div>\r\n\r\n            </div>\r\n          ))}\r\n          <div className='sweet-loading'>\r\n            <ClipLoader\r\n              sizeUnit={\"px\"}\r\n              css={override}\r\n              size={70}\r\n              color={'#61aceb'}\r\n              loading={this.state.loading}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n      </div >\r\n\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withFirebase(Landing);","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport PasswordMask from 'react-password-mask';\r\n\r\nimport classes from './signUp.module.css';\r\nimport { withFirebase } from '../../Firebase';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nconst signUpPageStyle = {\r\n    margin: \"10px\"\r\n}\r\n\r\nconst SignUpPage = () => (\r\n    <div style={signUpPageStyle}>\r\n        <h5> Sign Up </h5>\r\n        <SignUpForm />\r\n    </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n    username: '',\r\n    email: '',\r\n    passwordOne: '',\r\n    error: null,\r\n};\r\n\r\nclass SignUpFormBase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { ...INITIAL_STATE };\r\n    }\r\n\r\n    onSubmit = event => {\r\n        const { username, email, passwordOne } = this.state;\r\n\r\n        this.props.firebase\r\n            .doCreateUserWithEmailAndPassword(email, passwordOne)\r\n            .then(authUser => {\r\n\r\n                return this.props.firebase\r\n                    .user(authUser.user.uid)\r\n                    .set({\r\n                        username,\r\n                        email,\r\n                    });\r\n            })\r\n            .then(() => {\r\n                this.setState({ ...INITIAL_STATE });\r\n                this.props.history.push(ROUTES.HOME);\r\n            })\r\n            .catch(error => {\r\n                this.setState({ error });\r\n            });\r\n\r\n        event.preventDefault();\r\n    };\r\n\r\n    onChange = event => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const formStyle = {\r\n            margin: \"10px\",\r\n            padding: \"10px\"\r\n        }\r\n\r\n        const {\r\n            username,\r\n            email,\r\n            passwordOne,\r\n            error,\r\n        } = this.state;\r\n\r\n        const isInvalid =\r\n            passwordOne === '' ||\r\n            email === '' ||\r\n            username === '';\r\n\r\n        return (\r\n            <form onSubmit={this.onSubmit}>\r\n                <input name=\"username\"\r\n                    value={username}\r\n                    onChange={this.onChange}\r\n                    type=\"text\"\r\n                    placeholder=\"Name\"\r\n                    className={classes.inputStyle} />\r\n                <input name=\"email\"\r\n                    value={email}\r\n                    onChange={this.onChange}\r\n                    type=\"text\"\r\n                    placeholder=\"Email Address\"\r\n                    className={classes.inputStyle} />\r\n                <PasswordMask name=\"passwordOne\"\r\n                    placeholder=\"Password\"\r\n                    value={passwordOne}\r\n                    onChange={this.onChange}\r\n                    buttonClassName={classes.maskButton}\r\n                    inputClassName={classes.inputStyle} />\r\n\r\n                <button disabled={isInvalid}\r\n                    className=\"btn btn-primary\"\r\n                    type=\"submit\" >\r\n                    Sign Up\r\n                </button>\r\n\r\n                {error && <p className={classes.error}> {error.message} </p>}\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nconst SignUpLink = () => (\r\n    <p>\r\n        Don 't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\r\n    </p>\r\n);\r\n\r\nconst SignUpForm = withRouter(withFirebase(SignUpFormBase));\r\n\r\nexport default SignUpPage;\r\n\r\nexport { SignUpForm, SignUpLink };","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { withFirebase } from '../../Firebase';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nconst PasswordForgetPage = () => (\r\n  <div>\r\n    <h5>PasswordForget</h5>\r\n    <PasswordForgetForm />\r\n  </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  error: null,\r\n};\r\n\r\nclass PasswordForgetFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { email } = this.state;\r\n\r\n    this.props.firebase\r\n      .doPasswordReset(email)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, error } = this.state;\r\n\r\n    const isInvalid = email === '';\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <input\r\n          name=\"email\"\r\n          value={this.state.email}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Email Address\"\r\n        />\r\n        <button disabled={isInvalid} type=\"submit\">\r\n          Reset My Password\r\n        </button>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst PasswordForgetLink = () => (\r\n  <p>\r\n    <Link to={ROUTES.PASSWORD_FORGET}>Forgot Password?</Link>\r\n  </p>\r\n);\r\n\r\nexport default PasswordForgetPage;\r\n\r\nconst PasswordForgetForm = withFirebase(PasswordForgetFormBase);\r\n\r\nexport { PasswordForgetForm, PasswordForgetLink };\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\nimport PasswordMask from 'react-password-mask';\r\n\r\nimport classes from './signIn.module.css';\r\nimport { SignUpLink } from '../../Partials/SignUp';\r\nimport { PasswordForgetLink } from '../../Partials/PasswordForget';\r\nimport { withFirebase } from '../../Firebase';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nconst signInPageStyle = {\r\n  margin:\"20px\"\r\n}\r\nconst SignInPage = () => (\r\n  <div style={signInPageStyle}>\r\n    <h5>Sign In</h5>\r\n    <SignInForm />\r\n    <PasswordForgetLink />\r\n    <SignUpLink />\r\n  </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  password: '',\r\n  error: null,\r\n};\r\n\r\nclass SignInFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { email, password } = this.state;\r\n\r\n    this.props.firebase\r\n      .doSignInWithEmailAndPassword(email, password)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n        this.props.history.push(ROUTES.HOME);\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, password, error } = this.state;\r\n\r\n    const isInvalid = password === '' || email === '';\r\n\r\n    const signInButtonStyle = {\r\n      marginTop:\"8px\",\r\n    }\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <input\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Email Address\"\r\n          className={classes.inputStyle}\r\n        />\r\n        <PasswordMask\r\n          name=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={this.onChange}\r\n          buttonClassName={classes.maskButton}\r\n          inputClassName={classes.inputStyle}\r\n        />\r\n        <button className={`btn btn-primary`}  style={signInButtonStyle} disabled={isInvalid} type=\"submit\">\r\n          Sign In\r\n        </button>\r\n\r\n        {error && <p className={classes.error}>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst SignInForm = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(SignInFormBase);\r\n\r\nexport default SignInPage;\r\n\r\nexport { SignInForm };\r\n","import React, { Component } from 'react';\r\nimport classes from './reviewCard.module.css';\r\nimport StarRatings from 'react-star-ratings';\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nconst dateOptions = { weekday: 'long', hour: 'numeric', minute: 'numeric', year: 'numeric', month: 'short', day: 'numeric' };\r\n\r\nclass ReviewCard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const inlineStyle={\r\n            display:\"inline\",\r\n            paddingLeft:\"4px\",\r\n            paddingRight:\"4px\"\r\n        }\r\n\r\n        return (\r\n            <div className={`${classes.reviewCard}`}>\r\n                <Link className={`${classes.headerLink}`} to={{ pathname: ROUTES.SHOPS, state: { shop: this.props.shop } }}>\r\n                    {this.props.shop}\r\n                </Link>\r\n                {this.props.shop != undefined && this.props.username != undefined ?\r\n                    <div style={inlineStyle}>-</div>\r\n                    : <div></div>}\r\n                <Link className={`${classes.headerLink}`} to={{ pathname: ROUTES.MEMBERS, state: { userid: this.props.userid, username: this.props.username } }}>\r\n                    {this.props.username}\r\n                </Link>\r\n                <div className={`row ${classes.borderTop}`}>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Drink Quality</p>\r\n                        <StarRatings\r\n                            rating={this.props.score1}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Sweet Boba</p>\r\n                        <StarRatings\r\n                            rating={this.props.score2}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Chewy Boba</p>\r\n                        <StarRatings\r\n                            rating={this.props.score3}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Customize</p>\r\n                        <StarRatings\r\n                            rating={this.props.score4}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Consistent</p>\r\n                        <StarRatings\r\n                            rating={this.props.score5}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Variety</p>\r\n                        <StarRatings\r\n                            rating={this.props.score6}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Price</p>\r\n                        <StarRatings\r\n                            rating={this.props.score7}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Overall</p>\r\n                        <StarRatings\r\n                            rating={this.props.score8}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className={`row`}>\r\n                    <div className={`col-sm-12 ${classes.note}`}>\r\n                        <p>{this.props.note}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {this.props.isHomeCard ?\r\n                    <div>\r\n                        <button className={`btn btn-info ${classes.updateButton}`} onClick={() => this.props.editReview(this.props.review)}>Edit</button>\r\n                        <button className={`btn btn-danger ${classes.updateButton}`} onClick={() => this.props.deleteReview(this.props.shop)}>Delete</button>\r\n                    </div>\r\n                    : <div></div>}\r\n\r\n                {this.props.isReviewsCard ?\r\n                    <div className={`${classes.dateTime}`}>\r\n                        <i> {new Date(this.props.dateTime).toLocaleDateString(\"en-US\", dateOptions)}</i>\r\n                    </div>\r\n                    : <div></div>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default ReviewCard;\r\n\r\n","import React from 'react';\r\nimport Autosuggest from 'react-autosuggest';\r\nimport { withFirebase } from '../../Firebase';\r\nimport theme from './theme.css';\r\n// import classes from '*.module.css';\r\n\r\nlet bobaShops = [\r\n];\r\n\r\n// Teach Autosuggest how to calculate suggestions for any given input value.\r\nconst getSuggestions = value => {\r\n  const inputValue = value.trim().toLowerCase();\r\n  const inputLength = inputValue.length;\r\n\r\n  return inputLength === 0 ? [] : bobaShops.filter(shop =>\r\n    shop.name.toLowerCase().slice(0, inputLength) === inputValue\r\n  );\r\n};\r\n\r\n// When suggestion is clicked, Autosuggest needs to populate the input\r\n// based on the clicked suggestion. Teach Autosuggest how to calculate the\r\n// input value for every given suggestion.\r\nconst getSuggestionValue = suggestion => suggestion.name;\r\n\r\n// Use your imagination to render suggestions.\r\nconst renderSuggestion = suggestion => (\r\n  <div>\r\n    {suggestion.name}\r\n  </div>\r\n);\r\n\r\nclass AutoSuggestShops extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // Autosuggest is a controlled component.\r\n    // This means that you need to provide an input value\r\n    // and an onChange handler that updates this value (see below).\r\n    // Suggestions also need to be provided to the Autosuggest,\r\n    // and they are initially empty because the Autosuggest is closed.\r\n    this.state = {\r\n      value: this.props.bobaShop,\r\n      suggestions: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.firebase.bobaShops().on('value', snapshot => {\r\n      const bobaShopsObject = snapshot.val();\r\n      if (bobaShopsObject) {\r\n        const bobaShopsList = Object.keys(bobaShopsObject).map(key => ({\r\n          name: key,\r\n        }))\r\n        bobaShops = bobaShopsList;\r\n      }\r\n    });\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    this.setState({ value: props.bobaShop });\r\n  }\r\n\r\n  onChange = (event, { newValue }) => {\r\n    this.setState({\r\n      value: newValue\r\n    });\r\n    this.props.getInputData(newValue);\r\n\r\n  };\r\n\r\n  // Autosuggest will call this function every time you need to update suggestions.\r\n  // You already implemented this logic above, so just use it.\r\n  onSuggestionsFetchRequested = ({ value }) => {\r\n    this.setState({\r\n      suggestions: getSuggestions(value)\r\n    });\r\n  };\r\n\r\n  onSuggestionSelected = (event, { suggestion, suggestionValue, suggestionIndex, sectionIndex, method }) => {\r\n    this.props.getSelectedData(suggestionValue);\r\n  }\r\n\r\n\r\n  // Autosuggest will call this function every time you need to clear suggestions.\r\n  onSuggestionsClearRequested = () => {\r\n    this.setState({\r\n      suggestions: []\r\n    });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.props.firebase.bobaShops().off();\r\n  }\r\n\r\n\r\n  render() {\r\n    const { value, suggestions } = this.state;\r\n\r\n    // Autosuggest will pass through all these props to the input.\r\n    const inputProps = {\r\n      placeholder: 'Enter shop name',\r\n      value,\r\n      onChange: this.onChange\r\n    };\r\n\r\n    // Finally, render it!\r\n    return (\r\n\r\n      <Autosuggest\r\n        suggestions={suggestions}\r\n        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\r\n        onSuggestionSelected={this.onSuggestionSelected}\r\n        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\r\n        getSuggestionValue={getSuggestionValue}\r\n        renderSuggestion={renderSuggestion}\r\n        inputProps={inputProps}\r\n      //styling from theme.css   \r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(AutoSuggestShops);\r\n","import React from 'react';\r\nimport classes from './home.module.css';\r\nimport { withAuthorization, AuthUserContext } from '../../Session';\r\nimport { withFirebase } from '../../Firebase';\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../../constants/routes';\r\nimport ReviewCard from '../../Partials/ReviewCard'\r\n\r\nimport StarRatings from 'react-star-ratings';\r\nimport AutoSuggestShops from '../../ThirdParty/AutoSuggestShops/index';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport { ClipLoader } from 'react-spinners';\r\nimport { css } from '@emotion/core';\r\n\r\n\r\nconst INITIAL_STATE = {\r\n  bobaShop: '',\r\n  location: '',\r\n  score1: 1,\r\n  score2: 1,\r\n  score3: 1,\r\n  score4: 1,\r\n  score5: 1,\r\n  score6: 1,\r\n  score7: 1,\r\n  score8: 1,\r\n  note: \"\",\r\n  error: null,\r\n};\r\n\r\nclass HomePage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { formValues: INITIAL_STATE };\r\n    this.editFormValues = this.editFormValues.bind(this);\r\n  }\r\n\r\n  editFormValues(params) {\r\n    params.score1 = parseInt(params.score1);\r\n    params.score2 = parseInt(params.score2);\r\n    params.score3 = parseInt(params.score3);\r\n    params.score4 = parseInt(params.score4);\r\n    params.score5 = parseInt(params.score5);\r\n    params.score6 = parseInt(params.score6);\r\n    params.score7 = parseInt(params.score7);\r\n    params.score8 = parseInt(params.score8);\r\n    this.setState({ formValues: params });\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  render() {\r\n\r\n    // <div className={`col-sm-6\" ${classes.scroll}`}></div>\r\n    return (\r\n      <div className={classes.Content}>\r\n        <div className={`row\" ${classes.Wrapper}`}>\r\n          <div className={`col-12 col-sm-6\" ${classes.left}`}>\r\n            <NewReview formValues={this.state.formValues} />\r\n          </div>\r\n          <div className={`col-12 col-sm-6\" ${classes.right}`}>\r\n            <MyReviews editReview={this.editFormValues} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\n\r\nclass NewReviewBase extends React.Component {\r\n  static contextType = AuthUserContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.formValues;\r\n    this.getAutosuggestInput = this.getAutosuggestInput.bind(this);\r\n    this.getAutoSuggestSelected = this.getAutoSuggestSelected.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    this.setState(props.formValues);\r\n    \r\n    const bobaShopAndLocation = props.formValues.bobaShop;\r\n    const shop = bobaShopAndLocation.substr(0, bobaShopAndLocation.indexOf('(') - 1);\r\n    const location = bobaShopAndLocation.substring(\r\n      bobaShopAndLocation.lastIndexOf(\"(\") + 1,\r\n      bobaShopAndLocation.lastIndexOf(\")\")\r\n    );\r\n    this.setState({\r\n      bobaShop: shop,\r\n      location: location\r\n    });\r\n  }\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const { score1, score2, score3, score4, score5, score6, score7, score8, note } = this.state;\r\n    const dateTime = new Date().toLocaleString();\r\n    const userId = this.context.authUser.uid;\r\n    const username = this.context.username;\r\n    const comment = \"\";\r\n\r\n    const bobaShop = this.state.bobaShop.trim();\r\n    const location = this.state.location.trim();\r\n    const bobaShopAndLocation = bobaShop + ' (' + location + ')';\r\n\r\n    this.props.firebase\r\n      .bobaShopUserReview(bobaShopAndLocation, userId)\r\n      .update({\r\n        username,\r\n        score1,\r\n        score2,\r\n        score3,\r\n        score4,\r\n        score5,\r\n        score6,\r\n        score7,\r\n        score8,\r\n        note,\r\n        dateTime,\r\n        comment\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    this.props.firebase\r\n      .userReview(userId, bobaShopAndLocation)\r\n      .update({\r\n        username,\r\n        score1,\r\n        score2,\r\n        score3,\r\n        score4,\r\n        score5,\r\n        score6,\r\n        score7,\r\n        score8,\r\n        note,\r\n        dateTime,\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    this.props.firebase\r\n      .bobaShop(bobaShopAndLocation)\r\n      .update({\r\n        bobaShop: bobaShopAndLocation,\r\n      })\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n        this.notify();\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  onChangeScore = (rating, name) => {\r\n    this.setState({ [name]: rating });\r\n  };\r\n\r\n  getAutosuggestInput(value) {\r\n    this.setState({ bobaShop: value })\r\n  }\r\n  getAutoSuggestSelected(value) {\r\n    const shop = value.substr(0, value.indexOf('(') - 1);\r\n    const location = value.substring(\r\n      value.lastIndexOf(\"(\") + 1,\r\n      value.lastIndexOf(\")\")\r\n    );\r\n    this.setState({\r\n      bobaShop: shop,\r\n      location: location\r\n    });\r\n  }\r\n\r\n  notify = () => toast(\"Review added\");\r\n\r\n  render() {\r\n    const {\r\n      bobaShop,\r\n      location,\r\n      score1,\r\n      score2,\r\n      score3,\r\n      score4,\r\n      score5,\r\n      score6,\r\n      score7,\r\n      score8,\r\n      note,\r\n      error,\r\n    } = this.state;\r\n\r\n    const scores = [score1, score2, score3, score4, score5, score6, score7, score8];\r\n    const scoreNames = [\"Drink Quality:\", \"Sweet Boba:\", \"Chewy Boba:\", \"Customize:\", \"Consistent:\", \"Variety:\", \"Price:\", \"Overall:\"];\r\n\r\n    const ratingInputs = []\r\n    for (const [index, value] of scores.entries()) {\r\n      ratingInputs.push(\r\n        <div key={index} className={`row`}>\r\n          <p className={`${classes.scoreReviewHeader}`}>\r\n            {scoreNames[index]}\r\n          </p>\r\n          <div className={`${classes.starRating}`}>\r\n            <StarRatings\r\n              rating={value}\r\n              starRatedColor=\"#0099ff\"\r\n              starHoverColor=\"#66ccff\"\r\n              changeRating={this.onChangeScore}\r\n              numberOfStars={5}\r\n              name={\"score\" + (index + 1)}\r\n              starDimension=\"20px\"\r\n            /></div>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    const isInvalid =\r\n      bobaShop === '' ||\r\n      bobaShop.indexOf('(') > -1 ||\r\n      bobaShop.indexOf(')') > -1 ||\r\n      location === '' ||\r\n      score1 === '' ||\r\n      score2 === '' ||\r\n      score3 === '' ||\r\n      score4 === '' ||\r\n      score5 === '' ||\r\n      score6 === '' ||\r\n      score7 === '' ||\r\n      score8 === '';\r\n\r\n    return (\r\n      <div className={`container ${classes.well}`}>\r\n        <ToastContainer />\r\n        <form onSubmit={this.onSubmit} className={classes.submitForm}>\r\n          <div className={`row`}>\r\n            <div className={`col-xs-12 ${classes.inputTop}`}>\r\n              <h5>New Review</h5>\r\n              <AutoSuggestShops\r\n                getInputData={this.getAutosuggestInput}\r\n                getSelectedData={this.getAutoSuggestSelected}\r\n                bobaShop={bobaShop} />\r\n              <input name=\"location\"\r\n                value={location}\r\n                onChange={this.onChange}\r\n                type=\"text\"\r\n                className={`${classes.locationInput}`}\r\n                placeholder=\"Enter location\" />\r\n            </div>\r\n          </div>\r\n\r\n          {ratingInputs}\r\n\r\n          <div className={`row`}>\r\n            <textarea name=\"note\"\r\n              value={note}\r\n              onChange={this.onChange}\r\n              type=\"text\"\r\n              placeholder=\"Note\"\r\n              className={`${classes.textarea}`}\r\n            />\r\n          </div>\r\n          <div className={`row`}>\r\n            <button className={`btn btn-primary ${classes.submitButton}`} disabled={isInvalid} type=\"submit\">\r\n              Submit\r\n            </button>\r\n          </div>\r\n\r\n          {error && <p>{error.message}</p>}\r\n        </form>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nclass MyReviewsBase extends React.Component {\r\n  static contextType = AuthUserContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      myReviews: [],\r\n      loading: true\r\n    };\r\n\r\n    this.deleteReview = this.deleteReview.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getReviewList();\r\n  }\r\n\r\n  deleteReview(key) {\r\n    console.log('hello', key)\r\n    var result = window.confirm(\"Are you sure you want to delete?\");\r\n    if (result) {\r\n      this.props.firebase.userReviews(this.context.authUser.uid).child(key).remove();\r\n      this.props.firebase.bobaShopUserReviews(key).child(this.context.authUser.uid).remove();\r\n      this.props.firebase.bobaShops().child(key).remove();\r\n    }\r\n  }\r\n\r\n  getReviewList() {\r\n    const userId = this.context.authUser.uid\r\n\r\n    this.props.firebase.userReviews(userId).on('value', snapshot => {\r\n      const myReviewsObject = snapshot.val();\r\n      if (myReviewsObject) {\r\n        const myReviewsList = Object.keys(myReviewsObject).map(key => ({\r\n          bobaShop: key,\r\n          ...myReviewsObject[key],\r\n        }))\r\n\r\n        this.setState({\r\n          myReviews: myReviewsList,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          myReviews: [],\r\n        });\r\n      }\r\n      this.setState({\r\n        loading: false,\r\n      });\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.firebase.userReviews().off();\r\n  }\r\n\r\n  render() {\r\n    const { myReviews, loading } = this.state;\r\n    const override = css`\r\n    display: block;\r\n    margin: 150px auto;\r\n    `;\r\n\r\n    return (\r\n      <div>\r\n        <h5 className={`${classes.rightHeader}`}>\r\n          My Reviews\r\n        </h5>\r\n        <div className='sweet-loading'>\r\n                    <ClipLoader\r\n                        sizeUnit={\"px\"}\r\n                        css={override}\r\n                        size={70}\r\n                        color={'#61aceb'}\r\n                        loading={this.state.loading}\r\n                    />\r\n                </div>\r\n        {!loading && (myReviews === undefined || myReviews.length == 0) ?\r\n          <div className={`${classes.noReviewsWell}`}>\r\n            No Reviews Added.\r\n            </div>\r\n          :\r\n          <ul>\r\n            {myReviews.map(review => (\r\n              <li key={review.bobaShop} className={``}>\r\n                <ReviewCard isHomeCard=\"true\" review={review} editReview={this.props.editReview} deleteReview={this.deleteReview}\r\n                  shop={review.bobaShop} note={review.note}\r\n                  score1={review.score1} score2={review.score2}\r\n                  score3={review.score3} score4={review.score4}\r\n                  score5={review.score5} score6={review.score6}\r\n                  score7={review.score7} score8={review.score8} />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nconst NewReview = withFirebase(withAuthorization(condition)(NewReviewBase));\r\nconst MyReviews = withFirebase(withAuthorization(condition)(MyReviewsBase));\r\n\r\nexport default HomePage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Modal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            comment: \"\"\r\n        }\r\n\r\n    }\r\n\r\n    onChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n\r\n    // componentWillMount() {\r\n    //     document.addEventListener('mousedown', this.handleClick, false);\r\n    // }\r\n    // componentWillUnmount() {\r\n    //     document.removeEventListener('mousedown', this.handleClick,false);\r\n    // }\r\n    // handleClick = (e) =>{\r\n    //     console.log(e);\r\n    //     if(this.node.contains(e.target)){\r\n    //         return;\r\n    //     }\r\n    //   this.props.onClose();\r\n    // }\r\n\r\n    render() {\r\n        // Render nothing if the \"show\" prop is false\r\n        if (!this.props.show) {\r\n            return null;\r\n        }\r\n\r\n        // The gray background\r\n        const backdropStyle = {\r\n            position: 'fixed',\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n            backgroundColor: 'rgba(0,0,0,0.1)',\r\n            padding: 50\r\n        };\r\n\r\n        // The modal \"window\"\r\n        const modalStyle = {\r\n            backgroundColor: 'white',\r\n            borderRadius: 5,\r\n            maxWidth: 500,\r\n            minHeight: 300,\r\n            margin: '10% auto',\r\n            padding: 30,\r\n        };\r\n\r\n        const parentContentStyle = {\r\n            marginBottom: '10px'\r\n        }\r\n\r\n        const buttonStyle = {\r\n            display: 'inline',\r\n            marginRight: '6px'\r\n        }\r\n\r\n        const buttonsStyle = {\r\n            paddingTop: '10px',\r\n            float: 'right'\r\n        }\r\n\r\n        const shop = this.props.commentModal.shop;\r\n        const uid = this.props.commentModal.uid;\r\n        const {comment} = this.state;\r\n        const isInvalid = comment === ''\r\n        \r\n        return (\r\n            <div style={backdropStyle}>\r\n                <div style={modalStyle}\r\n                // ref={node => this.node = node}\r\n                >\r\n                    <div style={parentContentStyle}>\r\n                        {this.props.children}\r\n                    </div>\r\n                    <div className=\"footer\">\r\n                        <textarea autoFocus={true} onChange={this.onChange} name=\"comment\" className='form-control' rows='3'></textarea>\r\n                        <div style={buttonsStyle}>\r\n                            <button style={buttonStyle} className='btn btn-info' onClick={this.props.onClose}>\r\n                                Cancel\r\n                            </button>\r\n                            <button className='btn btn-success' \r\n                            disabled={isInvalid}\r\n                            onClick={() => this.props.submitComment(shop, uid, comment)}>\r\n                                Submit\r\n                            </button>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// Modal.propTypes = {\r\n//   onClose: PropTypes.func.isRequired,\r\n//   show: PropTypes.bool,\r\n//   children: PropTypes.node\r\n// };\r\n\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport classes from './reviewCommentsCard.module.css';\r\nimport StarRatings from 'react-star-ratings';\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nconst dateOptions = { weekday: 'long', hour: 'numeric', minute: 'numeric', year: 'numeric', month: 'short', day: 'numeric' };\r\n\r\nclass ReviewCommentsCard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const normal = {\r\n            fontWeight:\"normal\"\r\n        }\r\n\r\n        const inlineStyle = {\r\n            display: \"inline\",\r\n            paddingLeft: \"4px\",\r\n            paddingRight: \"4px\"\r\n        }\r\n\r\n        return (\r\n            <div className={`${classes.reviewCard}`}>\r\n                <Link className={`${classes.headerLink}`} to={{ pathname: ROUTES.SHOPS, state: { shop: this.props.shop } }}>\r\n                    {this.props.shop}\r\n                </Link>\r\n                {this.props.shop != undefined && this.props.username != undefined ?\r\n                    <div style={inlineStyle}>-</div>\r\n                    : <div></div>}\r\n                <Link className={`${classes.headerLink}`} to={{ pathname: ROUTES.MEMBERS, state: { userid: this.props.uid, username: this.props.username } }}>\r\n                    {this.props.username}\r\n                </Link>\r\n                <div className={`row ${classes.borderTop}`}>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Drink Quality</p>\r\n                        <StarRatings\r\n                            rating={this.props.score1}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Sweet Boba</p>\r\n                        <StarRatings\r\n                            rating={this.props.score2}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Chewy Boba</p>\r\n                        <StarRatings\r\n                            rating={this.props.score3}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Customize</p>\r\n                        <StarRatings\r\n                            rating={this.props.score4}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Consistent</p>\r\n                        <StarRatings\r\n                            rating={this.props.score5}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Variety</p>\r\n                        <StarRatings\r\n                            rating={this.props.score6}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Price</p>\r\n                        <StarRatings\r\n                            rating={this.props.score7}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Overall</p>\r\n                        <StarRatings\r\n                            rating={this.props.score8}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className={`row`}>\r\n                    <div className={`col-sm-12 ${classes.note}`}>\r\n                        <p>{this.props.note}</p>\r\n                    </div>\r\n                </div>\r\n                <div className={`col-sm-12 ${classes.comments}`}>\r\n                    {\r\n                        this.props.comments ?\r\n                            <div className={`${classes.commentsWell}`}>\r\n                                <div>\r\n                                    {this.props.comments.map((comment, index) => (\r\n                                        <div key={index} className={`${classes.commentWell}`}>\r\n                                            <div className={`${classes.commentText}`}>\r\n                                                <p>{comment.username} <span style={normal}>{comment.comment}</span></p>\r\n                                                <p className={`${classes.dateTime}`}><i> {new Date(comment.dateTime).toLocaleDateString(\"en-US\", dateOptions)}</i></p>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                                <div>\r\n                                    {\r\n                                        this.props.authUser ?\r\n                                            <button className={`btn btn-info ${classes.addCommentButton}`} onClick={() => this.props.toggleModal(this.props.shop, this.props.uid)}>\r\n                                                Comment\r\n                                                            </button>\r\n                                            : <div></div>\r\n                                    }\r\n\r\n                                </div>\r\n                            </div>\r\n                            :\r\n                            this.props.authUser ?\r\n                                <div className={`${classes.commentsWell}`}>\r\n                                    <button className={`btn btn-info ${classes.addCommentButton}`} onClick={() => this.props.toggleModal(this.props.shop, this.props.uid)}>\r\n                                        Comment\r\n                                                            </button>\r\n                                </div>\r\n                                :\r\n                                <div></div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default ReviewCommentsCard;\r\n\r\n","import React from 'react';\r\nimport { withFirebase } from '../../Firebase';\r\nimport { withAuthorization, AuthUserContext } from '../../Session';\r\nimport classes from './review.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nimport StarRatings from 'react-star-ratings';\r\nimport Modal from './reviewModal';\r\nimport ReviewCommentsCard from '../../Partials/ReviewCommentsCard'\r\n\r\nimport { ClipLoader } from 'react-spinners';\r\nimport { css } from '@emotion/core';\r\n\r\nconst dateOptions = { weekday: 'long', hour: 'numeric', minute: 'numeric', year: 'numeric', month: 'short', day: 'numeric' };\r\n\r\nclass Reviews extends React.Component {\r\n    static contextType = AuthUserContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            reviews: {},\r\n            sortedReviews: [],\r\n            sortedReviewsCopy: [],\r\n            commentModal: {\r\n                shop: \"\",\r\n                uid: \"\"\r\n            },\r\n            modalIsOpen: false,\r\n            currentTime: new Date(),\r\n            loading: true\r\n        }\r\n\r\n        this.submitComment = this.submitComment.bind(this);\r\n        this.toggleModal = this.toggleModal.bind(this);\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllReviewList();\r\n        // this.interval = setInterval(() => this.setState({ currentTime: new Date() }), 1000);\r\n    }\r\n\r\n    getAllReviewList() {\r\n        this.props.firebase.bobaShopReviews().on('value', snapshot => {\r\n            const reviewsObject = snapshot.val();\r\n            if (reviewsObject) {\r\n                this.setState({\r\n                    reviews: reviewsObject,\r\n                }, () => {\r\n                    this.sortReviews();\r\n                });\r\n            }\r\n            this.setState({\r\n                loading: false\r\n            });\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.firebase.bobaShopReviews().off();\r\n        // clearInterval(this.interval);\r\n    }\r\n\r\n\r\n    sortReviews() {\r\n        let sortedReviews = [];\r\n        for (let shop in this.state.reviews) {\r\n            for (let uid in this.state.reviews[shop]) {\r\n                let review = {\r\n                    ...this.state.reviews[shop][uid],\r\n                    shop: shop,\r\n                    uid: uid,\r\n                };\r\n                if (review.comments) {\r\n\r\n                    review.comments = Object.keys(review.comments).map(key => ({\r\n                        ...review.comments[key],\r\n                        uid: key,\r\n                    }));\r\n                    review.comments.sort(function (a, b) {\r\n                        return new Date(a.dateTime) - new Date(b.dateTime);\r\n                    });\r\n                }\r\n                sortedReviews.push(review);\r\n            }\r\n        }\r\n        sortedReviews.sort(function (a, b) {\r\n            return new Date(b.dateTime) - new Date(a.dateTime);\r\n        });\r\n        sortedReviews = sortedReviews.splice(0, 50); //show top 50 reviews\r\n        this.setState({ sortedReviews: sortedReviews });\r\n    }\r\n\r\n    toggleModal = (shop, uid) => {\r\n        console.log(shop, uid)\r\n        const commentModal = { ...this.state.commentModal };\r\n        commentModal.shop = shop;\r\n        commentModal.uid = uid;\r\n\r\n        this.setState({\r\n            modalIsOpen: !this.state.modalIsOpen,\r\n            commentModal: commentModal\r\n        });\r\n    }\r\n\r\n    submitComment(shop, uid, comment) {\r\n        const commenterName = this.context.username;\r\n        const commenterUid = this.context.authUser.uid;\r\n        let dateTime = new Date();\r\n        // dateTime.setSeconds(dateTime.getSeconds() + 3);\r\n        dateTime = dateTime.toLocaleString();\r\n\r\n        console.log(uid, commenterName, commenterUid);\r\n        this.props.firebase\r\n            .bobaShopUserComment(shop, uid)\r\n            .push({\r\n                comment,\r\n                username: commenterName,\r\n                uid: commenterUid,\r\n                dateTime\r\n            })\r\n            .then(() => {\r\n                this.setState({\r\n                    modalIsOpen: !this.state.modalIsOpen,\r\n                    ommentModal: {\r\n                        comment: \"\",\r\n                        shop: \"\",\r\n                        uid: \"\"\r\n                    }\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const { sortedReviews, currentTime, loading } = this.state;\r\n        const authUser = this.context.username;\r\n\r\n\r\n        const override = css`\r\n            display: block;\r\n            margin: 150px auto;\r\n        `;\r\n\r\n        return (\r\n            <div>\r\n                <div className='sweet-loading'>\r\n                    <ClipLoader\r\n                        sizeUnit={\"px\"}\r\n                        css={override}\r\n                        size={70}\r\n                        color={'#61aceb'}\r\n                        loading={this.state.loading}\r\n                    />\r\n                </div>\r\n                <div className={`container ${classes.recentReviews}`}>\r\n                    {!loading && (sortedReviews === undefined || sortedReviews.length == 0) ?\r\n                        <div className={`${classes.reviewWell}`}>\r\n                            No Recent Reviews.\r\n            </div>\r\n                        :\r\n                        <div>\r\n                            {sortedReviews.map((review, index) => (\r\n                                <div key={index}>\r\n                                    <div className={`${classes.reviewWell}`}>\r\n                                        <ReviewCommentsCard toggleModal={this.toggleModal}\r\n                                            currentTime={currentTime} dateTime={review.dateTime} authUser={authUser}\r\n                                            uid={review.uid} username={review.username}\r\n                                            shop={review.shop} note={review.note}\r\n                                            score1={review.score1} score2={review.score2}\r\n                                            score3={review.score3} score4={review.score4}\r\n                                            score5={review.score5} score6={review.score6}\r\n                                            score7={review.score7} score8={review.score8}\r\n                                            comments={review.comments} />\r\n\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <Modal show={this.state.modalIsOpen}\r\n                    onClose={this.toggleModal}\r\n                    commentModal={this.state.commentModal}\r\n                    submitComment={this.submitComment}>\r\n                    Add a comment\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// const condition = authUser => !!authUser;\r\n// export default withFirebase(withAuthorization(condition)(Reviews));\r\nexport default withFirebase(Reviews);\r\n","import React from 'react';\r\nimport { withFirebase } from '../../Firebase';\r\nimport classes from './shops.module.css'\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nimport AutoSuggestShops from '../../ThirdParty/AutoSuggestShops/index';\r\nimport StarRatings from 'react-star-ratings';\r\nimport ReviewCard from '../../Partials/ReviewCard'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\r\nimport { faUsers } from '@fortawesome/free-solid-svg-icons'\r\n\r\n\r\n\r\n\r\nclass Shops extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            shop: '',\r\n            shopReviews: [],\r\n            shopAverageScore: 1,\r\n            numberOfReviews: 0\r\n        }\r\n\r\n        this.getAutosuggestInput = this.getAutosuggestInput.bind(this);\r\n        this.getAutoSuggestSelected = this.getAutoSuggestSelected.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.location.state) {\r\n            const shop = this.props.location.state.shop;\r\n            this.getShopReviews(shop);\r\n        }\r\n    }\r\n\r\n    getAutosuggestInput(value) {\r\n    }\r\n    getAutoSuggestSelected(value) {\r\n        this.getShopReviews(value);\r\n    }\r\n\r\n    getShopReviews(shop) {\r\n        this.setState({ shop: shop });\r\n\r\n        this.props.firebase.bobaShopUserReviews(shop).on('value', snapshot => {\r\n            const shopReviewsObject = snapshot.val();\r\n            console.log(shopReviewsObject);\r\n            if (shopReviewsObject) {\r\n                const shopReviewsList = Object.keys(shopReviewsObject).map(key => ({\r\n                    userid: key,\r\n                    ...shopReviewsObject[key],\r\n                }))\r\n\r\n                this.setState({\r\n                    shopReviews: shopReviewsList,\r\n                    numberOfReviews: shopReviewsList.length\r\n                }, () => {\r\n                    this.gradeReviews();\r\n                });\r\n\r\n\r\n            } else {\r\n                this.setState({\r\n                    shopReviews: [],\r\n                    numberOfReviews: 0\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    gradeReviews() {\r\n        let count = 0;\r\n        let finalScore = 0;\r\n        let score1Total = 0; let score2Total = 0; let score3Total = 0; let score4Total = 0;\r\n        let score5Total = 0; let score6Total = 0; let score7Total = 0; let score8Total = 0;\r\n        for (let review in this.state.shopReviews) {\r\n            let userReview = this.state.shopReviews[review];\r\n            score1Total += userReview.score1;\r\n            score2Total += userReview.score2;\r\n            score3Total += userReview.score3;\r\n            score4Total += userReview.score4;\r\n            score5Total += userReview.score5;\r\n            score6Total += userReview.score6;\r\n            score7Total += userReview.score7;\r\n            score8Total += userReview.score8;\r\n            count++;\r\n        }\r\n\r\n        finalScore = (parseFloat(score1Total) + parseFloat(score2Total) + parseFloat(score3Total) + parseFloat(score4Total) +\r\n            parseFloat(score5Total) + parseFloat(score6Total) + parseFloat(score7Total) + parseFloat(score8Total)) / (count * 8);\r\n        finalScore = Math.round(finalScore * 100) / 100\r\n        this.setState({\r\n            shopAverageScore: finalScore\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.firebase.bobaShopUserReviews().off();\r\n    }\r\n\r\n    render() {\r\n        const { shop, shopReviews, shopAverageScore, numberOfReviews } = this.state;\r\n        return (\r\n            <div className={`container`}>\r\n                <div className={`row`}>\r\n                    <div className={`col-lg-12 ${classes.header}`}>\r\n                        <h5>Shops</h5>\r\n                    </div>\r\n                </div>\r\n                <div className={`row`}>\r\n                    <div className={`col-lg-12 ${classes.header}`}>\r\n                        <AutoSuggestShops\r\n                            getInputData={this.getAutosuggestInput}\r\n                            getSelectedData={this.getAutoSuggestSelected}\r\n                            bobaShop={shop} />\r\n                    </div>\r\n                </div>\r\n                <div>\r\n\r\n                    {shopReviews === undefined || shopReviews.length == 0 ?\r\n                        <div>\r\n                        </div>\r\n                        :\r\n                        <div>\r\n                            <h5 className={`${classes.info}`}>\r\n                                {shop} - {' '}\r\n                                <FontAwesomeIcon icon={faUsers} size=\"1x\" />{numberOfReviews} {' '}\r\n                                <FontAwesomeIcon icon={faStar} size=\"1x\" /> {shopAverageScore}\r\n\r\n                            </h5>\r\n                            <ul>\r\n                                {shopReviews.map(review => (\r\n                                    <li key={review.userid} className={`${classes.well}`}>\r\n                                        <ReviewCard userid={review.userid} username={review.username} note={review.note}\r\n                                            score1={review.score1} score2={review.score2}\r\n                                            score3={review.score3} score4={review.score4}\r\n                                            score5={review.score5} score6={review.score6}\r\n                                            score7={review.score7} score8={review.score8} />\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withFirebase(Shops);","import React from 'react';\r\nimport Autosuggest from 'react-autosuggest';\r\nimport { withFirebase } from '../../Firebase';\r\nimport theme from './theme.css';\r\n// import classes from '*.module.css';\r\n\r\nlet users = [\r\n];\r\n\r\n// Teach Autosuggest how to calculate suggestions for any given input value.\r\nconst getSuggestions = value => {\r\n  const inputValue = value.trim().toLowerCase();\r\n  const inputLength = inputValue.length;\r\n\r\n  return inputLength === 0 ? [] : users.filter(user =>\r\n    user.username.toLowerCase().slice(0, inputLength) === inputValue\r\n  );\r\n};\r\n\r\n// When suggestion is clicked, Autosuggest needs to populate the input\r\n// based on the clicked suggestion. Teach Autosuggest how to calculate the\r\n// input value for every given suggestion.\r\nconst getSuggestionValue = suggestion => suggestion.username;\r\n\r\n// Use your imagination to render suggestions.\r\nconst renderSuggestion = suggestion => (\r\n  <div>\r\n    {suggestion.username}\r\n  </div>\r\n);\r\n\r\nclass AutoSuggestUsers extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // Autosuggest is a controlled component.\r\n    // This means that you need to provide an input value\r\n    // and an onChange handler that updates this value (see below).\r\n    // Suggestions also need to be provided to the Autosuggest,\r\n    // and they are initially empty because the Autosuggest is closed.\r\n    this.state = {\r\n      value: this.props.user,\r\n      suggestions: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.firebase.users().on('value', snapshot => {\r\n      const usersObject = snapshot.val();\r\n      if (usersObject) {\r\n        const usersList = Object.keys(usersObject).map(key => ({\r\n          userid: key,\r\n          ...usersObject[key],\r\n        }))\r\n        users = usersList;\r\n      }\r\n    });\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    this.setState({ value: props.user });\r\n  }\r\n\r\n  onChange = (event, { newValue }) => {\r\n    this.setState({\r\n      value: newValue\r\n    });\r\n    this.props.getInputData(newValue);\r\n\r\n  };\r\n\r\n  // Autosuggest will call this function every time you need to update suggestions.\r\n  // You already implemented this logic above, so just use it.\r\n  onSuggestionsFetchRequested = ({ value }) => {\r\n    this.setState({\r\n      suggestions: getSuggestions(value)\r\n    });\r\n  };\r\n\r\n  onSuggestionSelected = (event, { suggestion, suggestionValue, suggestionIndex, sectionIndex, method }) => {\r\n    this.props.getSelectedData(suggestion);\r\n  }\r\n\r\n  // Autosuggest will call this function every time you need to clear suggestions.\r\n  onSuggestionsClearRequested = () => {\r\n    this.setState({\r\n      suggestions: []\r\n    });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.props.firebase.users().off();\r\n  }\r\n\r\n\r\n  render() {\r\n    const { value, suggestions } = this.state;\r\n\r\n    // Autosuggest will pass through all these props to the input.\r\n    const inputProps = {\r\n      placeholder: 'Enter member name',\r\n      value,\r\n      onChange: this.onChange\r\n    };\r\n\r\n    // Finally, render it!\r\n    return (\r\n\r\n      <Autosuggest\r\n        suggestions={suggestions}\r\n        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\r\n        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\r\n        onSuggestionSelected={this.onSuggestionSelected}\r\n        getSuggestionValue={getSuggestionValue}\r\n        renderSuggestion={renderSuggestion}\r\n        inputProps={inputProps}\r\n      //styling from theme.css   \r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(AutoSuggestUsers);\r\n","import React from 'react';\r\nimport { withFirebase } from '../../Firebase';\r\nimport classes from './users.module.css'\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nimport AutoSuggestUsers from '../../ThirdParty/AutoSuggestUsers/index';\r\nimport ReviewCard from '../../Partials/ReviewCard'\r\nimport StarRatings from 'react-star-ratings';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCoffee } from '@fortawesome/free-solid-svg-icons'\r\n\r\nclass Users extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: '',\r\n            userReviews: [],\r\n            numberOfReviews: 0\r\n        }\r\n\r\n        this.getAutosuggestInput = this.getAutosuggestInput.bind(this);\r\n        this.getAutoSuggestSelected = this.getAutoSuggestSelected.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.location.state) {\r\n            const userid = this.props.location.state.userid;\r\n            const username = this.props.location.state.username;\r\n            this.getUserReviews(userid, username);\r\n        }\r\n    }\r\n\r\n    getAutosuggestInput(value) {\r\n    }\r\n    getAutoSuggestSelected(value) {\r\n        this.getUserReviews(value.userid, value.username);\r\n    }\r\n\r\n    getUserReviews(userid, username) {\r\n        this.setState({ user: username });\r\n\r\n        this.props.firebase.userReviews(userid).on('value', snapshot => {\r\n            const userReviewsObject = snapshot.val();\r\n            if (userReviewsObject) {\r\n                const userReviewsList = Object.keys(userReviewsObject).map(key => ({\r\n                    shop: key,\r\n                    ...userReviewsObject[key],\r\n                }))\r\n                this.setState({\r\n                    userReviews: userReviewsList,\r\n                    numberOfReviews: userReviewsList.length\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    userReviews: [],\r\n                    numberOfReviews: 0\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { user, userReviews, numberOfReviews } = this.state;\r\n        console.log(user);\r\n\r\n        return (\r\n            <div className={`container`}>\r\n                <div className={`row`}>\r\n                    <div className={`col-lg-12 ${classes.header}`}>\r\n                        <h5>Members</h5>\r\n                    </div>\r\n                </div>\r\n                <div className={`row`}>\r\n                    <div className={`col-lg-12 ${classes.header}`}>\r\n                        <AutoSuggestUsers\r\n                            getInputData={this.getAutosuggestInput}\r\n                            getSelectedData={this.getAutoSuggestSelected}\r\n                            user={user} />\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n\r\n                    {userReviews === undefined || userReviews.length == 0 ?\r\n                        <div>\r\n                        </div>\r\n                        :\r\n                        <div>\r\n                            <h5 className={`${classes.info}`}>\r\n                                {user} -  <FontAwesomeIcon icon={faCoffee} size=\"1x\" />{numberOfReviews}\r\n                            </h5>\r\n                            <ul>\r\n                                {userReviews.map(review => (\r\n                                    <li key={review.shop} className={`${classes.well}`}>\r\n                                        <ReviewCard shop={review.shop} note={review.note}\r\n                                            score1={review.score1} score2={review.score2}\r\n                                            score3={review.score3} score4={review.score4}\r\n                                            score5={review.score5} score6={review.score6}\r\n                                            score7={review.score7} score8={review.score8} />\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withFirebase(Users);","import React from 'react';\r\nimport classes from './photos.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport { withFirebase } from '../../Firebase';\r\nimport FileUploader from \"react-firebase-file-uploader\";\r\nimport CustomUploadButton from 'react-firebase-file-uploader/lib/CustomUploadButton';\r\n\r\n\r\nclass AddPhotoModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            description: \"\"\r\n        }\r\n    }\r\n\r\n    onChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n\r\n    render() {\r\n        if (!this.props.show) {\r\n            return null;\r\n        }\r\n\r\n        // The gray background\r\n        const backdropStyle = {\r\n            position: 'fixed',\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n            backgroundColor: 'rgba(0,0,0,0.1)',\r\n            padding: 50\r\n        };\r\n\r\n        // The modal \"window\"\r\n        const modalStyle = {\r\n            backgroundColor: 'white',\r\n            borderRadius: 5,\r\n            maxWidth: 500,\r\n            minHeight: 300,\r\n            margin: '10% auto',\r\n            padding: 30,\r\n        };\r\n\r\n        const parentContentStyle = {\r\n            marginBottom: '10px'\r\n        }\r\n\r\n        const buttonStyle = {\r\n            display: 'inline',\r\n            marginRight: '6px'\r\n        }\r\n\r\n        const buttonsStyle = {\r\n            paddingTop: '10px',\r\n            float: 'right'\r\n        }\r\n        \r\n        const {description} = this.state;\r\n        const isInvalid = description === ''\r\n    \r\n        return (\r\n            <div style={backdropStyle}>\r\n                <div style={modalStyle}\r\n                >\r\n                    <div style={parentContentStyle}>\r\n                        {this.props.children}\r\n                    </div>\r\n                    <div className=\"footer\">\r\n                        <input autoFocus={true} onChange={this.onChange} name=\"description\" className='form-control'></input>\r\n                        <div style={buttonsStyle}>\r\n                            <button style={buttonStyle} className='btn btn-info' onClick={this.props.onClose}>\r\n                                Cancel\r\n                            </button>\r\n                            <CustomUploadButton\r\n                                    accept=\"image/*\"\r\n                                    randomizeFilename\r\n                                    storageRef={this.props.firebase.storageBobaShopImages(this.props.shop)}\r\n                                    onUploadSuccess={(event) => this.props.handleUploadSuccess(event, description)}\r\n                                    className={classes.uploadBtn}\r\n                                    disabled={isInvalid}>\r\n                                    Select &amp; Submit</CustomUploadButton>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withFirebase(AddPhotoModal);","import React, { forwardRef } from 'react';\r\nimport classes from './photos.module.css';\r\nimport AddPhotoModal from './addPhotoModal';\r\nimport { withAuthorization, AuthUserContext } from '../../Session';\r\nimport { withFirebase } from '../../Firebase';\r\nimport FileUploader from \"react-firebase-file-uploader\";\r\nimport CustomUploadButton from 'react-firebase-file-uploader/lib/CustomUploadButton';\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nimport AutoSuggestShops from '../../ThirdParty/AutoSuggestShops/index';\r\n\r\n\r\n\r\nclass Photos extends React.Component {\r\n    static contextType = AuthUserContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            shop: \"\",\r\n            photoNames: [],\r\n            photos: [],\r\n\r\n            modalIsOpen: false,\r\n\r\n            filename: \"\",\r\n            description: \"\",\r\n            shop: \"\",\r\n            username: \"\",\r\n            dateTime: \"\",\r\n            \r\n\r\n            files: []\r\n\r\n        }\r\n\r\n        this.getAutosuggestInput = this.getAutosuggestInput.bind(this);\r\n        this.getAutoSuggestSelected = this.getAutoSuggestSelected.bind(this);\r\n        this.toggleModal = this.toggleModal.bind(this);\r\n        this.handleUploadSuccess = this.handleUploadSuccess.bind(this);\r\n        \r\n    }\r\n\r\n    componentDidMount() {\r\n        // this.props.firebase.bobaShopImage(\"Ding Tea (Rowland Heights)\", \"70f2696e-5343-4980-bc58-e4bca378749a.PNG\")\r\n        //     .getDownloadURL().then(url => { this.setState({ files: url }) });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n    }\r\n\r\n    toggleModal = (shop) => {\r\n        console.log(shop);\r\n        this.setState({\r\n            modalIsOpen: !this.state.modalIsOpen,\r\n            shop: shop\r\n        });\r\n    }\r\n\r\n    getAutosuggestInput(value) {\r\n    }\r\n    getAutoSuggestSelected(value) {\r\n        this.setState({\r\n            shop: value\r\n        }, () => {\r\n            this.getShopPhotoNames();\r\n        });\r\n    }\r\n\r\n    getShopPhotoNames() {\r\n        // items.forEach(function(item){\r\n        //     copy.push(item);\r\n        //   });\r\n        // this.props.firebase.bobaShopImage(\"Ding Tea (Rowland Heights)\", \"70f2696e-5343-4980-bc58-e4bca378749a.PNG\")\r\n        //     .getDownloadURL().then(url => { this.setState({ files: url }) });\r\n    }\r\n\r\n    handleUploadSuccess = (filename, description) => {\r\n        console.log(\"here\", filename, description);\r\n        // const { shop } = this.state;\r\n        // this.props.firebase.storageBobaShopImages(shop)\r\n        //     .child(filename)\r\n        //     .getDownloadURL()\r\n        //     .then(url => {\r\n        //         // this.props.firebase\r\n        //         // .bobaShopImages(shop)\r\n        //         // .push({\r\n        //         //     comment,\r\n        //         //     username,\r\n        //         //     uid,\r\n        //         //     dateTime\r\n        //         // })\r\n        //         // .then(() => {\r\n        //         //     this.setState({\r\n        //         //         modalIsOpen: !this.state.modalIsOpen,\r\n        //         //         ommentModal: {\r\n        //         //             comment: \"\",\r\n        //         //             shop: \"\",\r\n        //         //             uid: \"\"\r\n        //         //         }\r\n        //         //     });\r\n        //         // });\r\n        //     });\r\n    };\r\n\r\n    render() {\r\n        const { shop } = this.state;\r\n        const uid = this.context.authUser.uid;\r\n\r\n        return (\r\n            <div className={`container`}>\r\n                <div className={`row`}>\r\n                    <div className={`col-lg-12 ${classes.header}`}>\r\n                        <h5>Shops</h5>\r\n                    </div>\r\n                </div>\r\n                <div className={`row`}>\r\n                    <div className={`col-lg-12 ${classes.header}`}>\r\n                        <AutoSuggestShops\r\n                            getInputData={this.getAutosuggestInput}\r\n                            getSelectedData={this.getAutoSuggestSelected}\r\n                            bobaShop={shop} />\r\n\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    {shop != \"\" ?\r\n                        <div>\r\n                            <div className={`${classes.info}`}>\r\n                                <h5>\r\n                                    {shop}\r\n                                </h5>\r\n                                <button className={`btn btn-info ${classes.addCommentButton}`}\r\n                                    onClick={() => this.toggleModal(shop)}>\r\n                                    Add Photo\r\n                                </button>\r\n\r\n                            </div>\r\n                        </div>\r\n                        :\r\n                        <div></div>\r\n                    }\r\n\r\n                </div>\r\n\r\n                <AddPhotoModal show={this.state.modalIsOpen}\r\n                    onClose={this.toggleModal}\r\n                    shop={shop}\r\n                    handleUploadSuccess={this.handleUploadSuccess}>\r\n                    Add Photo\r\n                                </AddPhotoModal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withFirebase(Photos);","import React, { Component } from 'react';\n\nimport { withFirebase } from '../../Firebase';\n\nconst INITIAL_STATE = {\n  passwordOne: '',\n  passwordTwo: '',\n  error: null,\n};\n\nclass PasswordChangeForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { passwordOne } = this.state;\n\n    this.props.firebase\n      .doPasswordUpdate(passwordOne)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    const { passwordOne, passwordTwo, error } = this.state;\n\n    const isInvalid =\n      passwordOne !== passwordTwo || passwordOne === '';\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"passwordOne\"\n          value={passwordOne}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"New Password\"\n        />\n        <input\n          name=\"passwordTwo\"\n          value={passwordTwo}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Confirm New Password\"\n        />\n        <button disabled={isInvalid} type=\"submit\">\n          Reset My Password\n        </button>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nexport default withFirebase(PasswordChangeForm);\n","import React from 'react';\nimport classes from './account.module.css';\n\nimport { AuthUserContext } from '../../Session';\nimport { PasswordForgetForm } from '../../Partials/PasswordForget';\nimport  PasswordChangeForm  from '../../Partials/PasswordChange';\nimport { withAuthorization } from '../../Session';\n\nconst divStyle={\n  margin: '15px',\n}\n\nconst AccountPage = () => (\n  <AuthUserContext.Consumer>\n    {login => (\n      <div style={divStyle}>\n        <h5>Account: {login.authUser.email}</h5>\n        <PasswordForgetForm />\n        {/* <PasswordChangeForm /> */}\n      </div>\n    )}\n  </AuthUserContext.Consumer>\n);\n\nconst authCondition = authUser => !!authUser;\n\nexport default withAuthorization(authCondition)(AccountPage);\n","import React, { Component } from 'react';\r\nimport { compose } from 'recompose';\r\n\r\nimport { withFirebase } from '../../Firebase';\r\n\r\nimport { AuthUserContext } from '../../Session';\r\nimport { withAuthorization } from '../../Session';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\n\r\nclass AdminPageBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      users: [],\r\n    };\r\n  }\r\n\r\n  componentWillMount(){\r\n    // this.props.history.push(ROUTES.LANDING);\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n\r\n    this.props.firebase.users().on('value', snapshot => {\r\n      const usersObject = snapshot.val();\r\n\r\n      const usersList = Object.keys(usersObject).map(key => ({\r\n        ...usersObject[key],\r\n        uid: key,\r\n      }));\r\n\r\n      this.setState({\r\n        users: usersList,\r\n        loading: false,\r\n      });\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.firebase.users().off();\r\n  }\r\n\r\n  render() {\r\n    const {users, loading} = this.state;\r\n\r\n    return (\r\n      <div>\r\n\r\n        {loading && <div>Loading...</div>}\r\n\r\n        <UserList users={users} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst UserList = ({users}) => (\r\n  <ul>\r\n    {users.map(user => (\r\n      <li key={user.uid}>\r\n        <span>\r\n          <strong>ID:</strong> {user.uid}\r\n        </span>\r\n        <span>\r\n          <strong>E-Mail:</strong> {user.email}\r\n        </span>\r\n        <span>\r\n          <strong>Username:</strong> {user.username}\r\n        </span>\r\n      </li>\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nconst authCondition = authUsera => !!authUsera;\r\n\r\nconst AdminPage = compose(\r\n  withAuthorization(authCondition),\r\n  withFirebase,\r\n)(AdminPageBase);\r\n\r\nexport default AdminPage;","import React, { Component } from 'react';\r\nimport { withFirebase } from '../../Firebase';\r\nimport FileUploader from \"react-firebase-file-uploader\";\r\nimport CustomUploadButton from 'react-firebase-file-uploader/lib/CustomUploadButton';\r\n\r\n\r\nclass Test extends Component {\r\n    state = {\r\n        username: \"\",\r\n        avatar: \"\",\r\n        isUploading: false,\r\n        progress: 0,\r\n        avatarURL: \"\",\r\n        files: \"\"\r\n    };\r\n\r\n    componentDidMount() {\r\n        // this.props.firebase.bobaShopImage(\"Ding Tea (Rowland Heights)\", \"70f2696e-5343-4980-bc58-e4bca378749a.PNG\")\r\n        //     .getDownloadURL().then(url => { this.setState({ files: url }) });\r\n    };\r\n\r\n    handleChangeUsername = event =>\r\n        this.setState({ username: event.target.value });\r\n    handleUploadStart = () => this.setState({ isUploading: true, progress: 0 });\r\n    handleProgress = progress => this.setState({ progress });\r\n    handleUploadError = error => {\r\n        this.setState({ isUploading: false });\r\n        console.error(error);\r\n    };\r\n    handleUploadSuccess = filename => {\r\n        // this.setState({ avatar: filename, progress: 100, isUploading: false });\r\n        this.props.firebase.storageBobaShopImages(\"Ding Tea (Rowland Heights)\")\r\n            .child(filename)\r\n            .getDownloadURL()\r\n            .then(url => this.setState({ avatarURL: url }));\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <form>\r\n                    <label>Username:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={this.state.username}\r\n                        name=\"username\"\r\n                        onChange={this.handleChangeUsername}\r\n                    />\r\n                    <label>Avatar:</label>\r\n                    {this.state.isUploading && <p>Progress: {this.state.progress}</p>}\r\n                    {this.state.avatarURL && <img src={this.state.avatarURL} />}\r\n                    <img src={this.state.files} />\r\n                    <CustomUploadButton\r\n                        accept=\"image/*\"\r\n                        name=\"avatar\"\r\n                        randomizeFilename\r\n                        storageRef={this.props.firebase.storageBobaShopImages(\"Ding Tea (Rowland Heights)\")}\r\n                        // onUploadStart={this.handleUploadStart}\r\n                        // onUploadError={this.handleUploadError}\r\n                        onUploadSuccess={this.handleUploadSuccess}\r\n                        // onProgress={this.handleProgress}\r\n                        style={{ backgroundColor: 'steelblue', color: 'white', padding: 10, borderRadius: 4 }}\r\n                    >\r\n                        Select\r\n                        </CustomUploadButton>\r\n                    <button onClick={this.startUploadManually}>Upload all the things</button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default withFirebase(Test);","import React from 'react';\r\nimport { BrowserRouter as Router, Route, HashRouter } from 'react-router-dom';\r\nimport classes from './app.module.css';\r\n\r\nimport Navigation from '../Navigation';\r\nimport LandingPage from '../Pages/Landing';\r\nimport SignUpPage from '../Partials/SignUp';\r\nimport SignInPage from '../Pages/SignIn';\r\nimport PasswordForgetPage from '../Partials/PasswordForget';\r\nimport HomePage from '../Pages/Home';\r\nimport ReviewsPage from '../Pages/Reviews';\r\nimport ShopsPage from '../Pages/Shops';\r\nimport UsersPage from '../Pages/Users';\r\nimport PhotosPage from '../Pages/Photos';\r\nimport AccountPage from '../Pages/Account';\r\nimport AdminPage from '../Pages/Admin';\r\nimport TestPage from '../Pages/Test';\r\n\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { withAuthentication } from '../Session';\r\n\r\nconst App = () => (\r\n  <HashRouter>\r\n    <div>\r\n      <div>\r\n        <Navigation />\r\n        <hr />\r\n      </div>\r\n      <div className={classes.main}>\r\n        <Route exact path={ ROUTES.LANDING} component={LandingPage} />\r\n        <Route exact path={ ROUTES.SIGN_UP} component={SignUpPage} />\r\n        <Route exact path={ ROUTES.SIGN_IN} component={SignInPage} />\r\n        <Route exact path={ ROUTES.HOME} component={HomePage} />\r\n        <Route exact path={ ROUTES.REVIEWS} component={ReviewsPage} />\r\n        <Route exact path={ ROUTES.SHOPS} component={ShopsPage} />\r\n        <Route exact path={ ROUTES.MEMBERS} component={UsersPage} />\r\n        <Route exact path={ ROUTES.PHOTOS} component={PhotosPage} />\r\n        <Route exact path={ ROUTES.ACCOUNT} component={AccountPage} />\r\n        <Route exact path={ ROUTES.ADMIN} component={AdminPage} />\r\n        <Route exact path={ ROUTES.TEST} component={TestPage} />\r\n        <Route\r\n          exact\r\n          path={ ROUTES.PASSWORD_FORGET}\r\n          component={PasswordForgetPage}\r\n        />\r\n      </div>\r\n    </div>\r\n  </HashRouter>\r\n);\r\n\r\nexport default withAuthentication(App);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport * as serviceWorker from './serviceWorker';\n\nimport App from './components/App';\nimport Firebase, { FirebaseContext } from './components/Firebase';\nimport { ToastContainer } from \"react-toastr\";\n\nReactDOM.render(\n  <FirebaseContext.Provider value={new Firebase()}>\n    <App />\n  </FirebaseContext.Provider>,\n  document.getElementById('root'),\n);\n\n//https://www.robinwieruch.de/complete-firebase-authentication-react-tutorial/\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"navigation_active__K4B6k\",\"navbar\":\"navigation_navbar__28s6U\",\"icon\":\"navigation_icon__1WHf3\",\"responsive\":\"navigation_responsive__3a5Xv\",\"responsiveSignout\":\"navigation_responsiveSignout__3Ufxb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tierList\":\"landing_tierList__2UTR9\",\"tierLabel\":\"landing_tierLabel__36JB8\",\"row\":\"landing_row__1WYyi\",\"tierItem\":\"landing_tierItem__1KckL\",\"header\":\"landing_header__2LKQt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputStyle\":\"signUp_inputStyle__3aXXX\",\"maskButton\":\"signUp_maskButton__tFO9j\",\"error\":\"signUp_error__2e5zt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signInInput\":\"signIn_signInInput__3j6Do\",\"inputStyle\":\"signIn_inputStyle__1yhJc\",\"maskButton\":\"signIn_maskButton__28Zpr\",\"error\":\"signIn_error__3uhLf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"shops_header__2woi_\",\"info\":\"shops_info__kR4c4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"users_header__1aIrD\",\"info\":\"users_info__6UoBD\"};"],"sourceRoot":""}