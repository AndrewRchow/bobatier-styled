(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports={headerLink:"reviewCommentsCard_headerLink__1L5jT",scoreLine:"reviewCommentsCard_scoreLine__1vHpB",scoreHeader:"reviewCommentsCard_scoreHeader__1SFVX",note:"reviewCommentsCard_note__m5LyQ",dateTime:"reviewCommentsCard_dateTime__3BzW5",reviewCard:"reviewCommentsCard_reviewCard__5khT9",borderTop:"reviewCommentsCard_borderTop__3O5C1",comments:"reviewCommentsCard_comments__1kl4-",addCommentButton:"reviewCommentsCard_addCommentButton__FGdQc",commentText:"reviewCommentsCard_commentText__3Y7Gs"}},125:function(e,t,a){e.exports={recentReviews:"review_recentReviews__1kwFq",reviewWell:"review_reviewWell__3qEmo",commentsWell:"review_commentsWell__2CEDo",commentWell:"review_commentWell__35_tQ",addCommentButton:"review_addCommentButton__6ukft",recentComment:"review_recentComment__1zXMu",scoreLine:"review_scoreLine__3VWIA",scoreHeader:"review_scoreHeader__1zJLr",commentText:"review_commentText__3rhkg",dateTime:"review_dateTime__1q5IA"}},13:function(e,t,a){e.exports={headerLink:"reviewCard_headerLink__u9v26",scoreLine:"reviewCard_scoreLine__2KKw5",scoreHeader:"reviewCard_scoreHeader__7LpYT",note:"reviewCard_note__1LEls",dateTime:"reviewCard_dateTime__1ma8k",reviewCard:"reviewCard_reviewCard__2zs_z",borderTop:"reviewCard_borderTop__2klAM",updateButton:"reviewCard_updateButton__1NvDo"}},23:function(e,t,a){e.exports={inline:"home_inline__3SD5Y",locationInput:"home_locationInput__36MC0",reviewInput:"home_reviewInput__3hBkv",submitForm:"home_submitForm__218D9",submitButton:"home_submitButton__WeA4d",starRating:"home_starRating__Rg7ut",updateButton:"home_updateButton__2XC8A",well:"home_well__3MBmx",noReviewsWell:"home_noReviewsWell__2WJ6p",inputTop:"home_inputTop__1EHC7",left:"home_left__367Pc",right:"home_right__1fzCL",rightHeader:"home_rightHeader__35R6S",textarea:"home_textarea__2WEpE",note:"home_note__kpMEY",scoreLine:"home_scoreLine__1QQ1q",scoreHeader:"home_scoreHeader__3ikuv",scoreReviewHeader:"home_scoreReviewHeader__3Wudz"}},266:function(e,t,a){e.exports={main:"app_main__3w4EL"}},273:function(e,t,a){e.exports=a(613)},278:function(e,t,a){},406:function(e,t,a){},416:function(e,t,a){},424:function(e,t,a){},53:function(e,t,a){e.exports={uploadBtn:"photos_uploadBtn__3q-7t",header:"photos_header__9eMhZ",info:"photos_info__BDPr5"}},613:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(80),o=a.n(r);a(278),a(280),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(618),i=a(617),l=a(266),u=a.n(l),m=a(67),p=a(3),d=a(4),h=a(6),v=a(5),b=a(7),g=a(68),f=a.n(g),E=a(616),S=s.a.createContext(null),w=function(e){return function(t){return s.a.createElement(S.Consumer,null,function(a){return s.a.createElement(e,Object.assign({},t,{firebase:a}))})}},O=S,C=a(84),_=a.n(C),j=(a(355),a(357),a(614),{apiKey:"AIzaSyDNo2aFc8Sb9piAtQkBgHLDwjVEYWe-2Ao",authDomain:"bobatier.firebaseapp.com",databaseURL:"https://bobatier.firebaseio.com",projectId:"bobatier",storageBucket:"bobatier.appspot.com",messagingSenderId:"435363068882"}),y=function e(){var t=this;Object(p.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.ref("users/".concat(e))},this.bobaShopUserReview=function(e,a){return t.db.ref("bobaShopUserReviews/".concat(e,"/").concat(a))},this.bobaShopUserComment=function(e,a){return t.db.ref("bobaShopUserReviews/".concat(e,"/").concat(a,"/comments"))},this.userReview=function(e,a){return t.db.ref("users/".concat(e,"/reviews/").concat(a))},this.bobaShop=function(e){return t.db.ref("bobaShops/".concat(e))},this.bobaShopReviews=function(){return t.db.ref("bobaShopUserReviews")},this.bobaShopUserReviews=function(e){return t.db.ref("bobaShopUserReviews/".concat(e))},this.userReviews=function(e){return t.db.ref("users/".concat(e,"/reviews"))},this.users=function(){return t.db.ref("users")},this.bobaShops=function(){return t.db.ref("bobaShops")},this.bobaShopImages=function(e){return t.db.ref("bobaShops/".concat(e,"/images"))},this.storageBobaShopImages=function(e){return t.storage.ref("bobaShops/".concat(e,"/images"))},this.storageBobaShopImage=function(e,a){return t.storage.ref("bobaShops/".concat(e,"/images/").concat(a))},_.a.initializeApp(j),this.auth=_.a.auth(),this.db=_.a.database(),this.storage=_.a.storage()},R={color:"white",border:"1px solid white",marginTop:"2px",marginRight:"10px",float:"right"},k=w(function(e){var t=e.firebase;return s.a.createElement("button",{type:"button",style:R,className:"btn btn-default",onClick:t.doSignOut},"Sign Out")}),N="/myreviews",x="/shops",I=s.a.createContext(null),U=function(e){var t=function(t){function a(e){var t;return Object(p.a)(this,a),(t=Object(h.a)(this,Object(v.a)(a).call(this,e))).state={authUser:null,role:null,username:null},t}return Object(b.a)(a,t),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?(e.setState({authUser:t}),e.props.firebase.user(t.uid).on("value",function(t){e.setState({role:t.val().role,username:t.val().username})})):(e.setState({authUser:null}),e.setState({role:null}))})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return s.a.createElement(I.Provider,{value:this.state},s.a.createElement(e,this.props))}}]),a}(s.a.Component);return w(t)},L=a(619),D=a(63),A=function(e){return function(t){var a=function(a){function n(){return Object(p.a)(this,n),Object(h.a)(this,Object(v.a)(n).apply(this,arguments))}return Object(b.a)(n,a),Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(a){e(a)||t.props.history.push("/signin")})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return s.a.createElement(I.Consumer,null,function(n){return e(n.authUser)?s.a.createElement(t,a.props):null})}}]),n}(s.a.Component);return Object(D.a)(L.a,w)(a)}},T=a(44),H=a(34),B=[["Tier List","/"],["Shops",x],["Members","/members"],["Photos","/photos"],["Recent Reviews","/reviews"],["My Reviews",N],["Account","/account"],["Admin","/admin"],["Test","/test"]],M=[["Tier List","/"],["Shops",x],["Members","/members"],["Recent Reviews","/reviews"],["My Reviews",N],["Account","/account"]],W=[["Tier List","/"],["Shops",x],["Members","/members"],["Recent Reviews","/reviews"],["Sign In","/signin"]],F=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).barsClick=function(){a.setState({barsOpen:!a.state.barsOpen})},a.linkClick=function(){a.state.barsOpen&&a.setState({barsOpen:!a.state.barsOpen})},a.state={active:"",barsOpen:!1},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=window.location.href.split("#")[1],a=this.state.barsOpen,n=null;return this.props.signedIn&&(n=s.a.createElement(k,null)),s.a.createElement("div",{className:"".concat(a?f.a.responsive:""," ").concat(f.a.navbar)},this.props.menuItems.map(function(a){var n=Object(m.a)(a,2),r=n[0],o=n[1];return s.a.createElement(E.a,{key:r,to:o,onClick:e.linkClick,className:t===o?f.a.active:""},r)}),s.a.createElement("div",{className:"".concat(a?f.a.responsiveSignout:""),onClick:this.barsClick},n),s.a.createElement("a",{className:"".concat(f.a.icon),onClick:this.barsClick},s.a.createElement(T.a,{icon:H.a,size:"lg"})))}}]),t}(s.a.Component),P=function(){return s.a.createElement("div",null,s.a.createElement(I.Consumer,null,function(e){return"admin"===e.role?s.a.createElement(F,{menuItems:B,signedIn:!0}):e.authUser?s.a.createElement(F,{menuItems:M,signedIn:!0}):s.a.createElement(F,{menuItems:W,signedIn:!1})}))},z=a(65),V=a(69),q=a.n(V),Q=a(66),X=a(12);function J(){var e=Object(z.a)(["\n    display: block;\n    margin: 120px auto;\n    "]);return J=function(){return e},e}var K=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).state={reviews:{},grades:{},tierList:{},loading:!0},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getAllReviewList()}},{key:"getAllReviewList",value:function(){var e=this;this.props.firebase.bobaShopReviews().on("value",function(t){var a=t.val();a&&e.setState({reviews:a},function(){e.gradeReviews()})})}},{key:"gradeReviews",value:function(){var e=0,t=0,a=0,n=0,s=0,r=0,o=0,c=0,i=0,l=0,u=0,m={};for(var p in this.state.reviews){for(var d in this.state.reviews[p]){var h=this.state.reviews[p][d];a+=h.score1,n+=h.score2,s+=h.score3,r+=h.score4,o+=h.score5,c+=h.score6,i+=h.score7,l+=h.score8,e++,u++}t=(parseFloat(a)+parseFloat(n)+parseFloat(s)+parseFloat(r)+parseFloat(o)+parseFloat(c)+parseFloat(i)+parseFloat(l))/(8*e),m[p]={shopName:p,finalScore:t,reviewCount:u},e=a=n=s=r=o=c=i=l=u=0}var v={};Object.keys(m).sort().forEach(function(e){v[e]=m[e]}),this.setState({grades:v}),console.log(m);var b={S:[],A:[],B:[],C:[],D:[],E:[],F:[]};for(var g in m){var f=m[g].finalScore,E=m[g].shopName;f>=4.75?b.S.push(E):4.25<=f&&f<4.75?b.A.push(E):3.5<=f&&f<4.25?b.B.push(E):2.75<=f&&f<3.5?b.C.push(E):2<=f&&f<2.75?b.D.push(E):1<=f&&f<2?b.E.push(E):f<1&&b.F.push(E)}this.setState({tierList:b,loading:!1}),console.log(b),console.log(m)}},{key:"componentWillUnmount",value:function(){this.props.firebase.bobaShopReviews().off()}},{key:"render",value:function(){var e=this.state.tierList,t={display:"inline"},a={padding:"3px"},n={color:"black",border:"1px solid #ccc"},r=Object(X.css)(J());return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 ".concat(q.a.header)},s.a.createElement("h5",null,"Tier List"))),s.a.createElement("div",{className:"".concat(q.a.tierList)},Object.entries(e).map(function(e){var r=Object(m.a)(e,2),o=r[0],c=r[1];return s.a.createElement("div",{key:o,style:a,className:"row ".concat(q.a.row)},s.a.createElement("div",{className:"col-2 col-md-1"},s.a.createElement("button",{className:"btn btn-default ".concat(q.a.tierLabel),style:n},o)),s.a.createElement("div",{className:"col-10 col-md-11"},c.map(function(e,a){return s.a.createElement("div",{key:a,style:t},s.a.createElement(E.a,{className:"".concat(q.a.tierItem),to:{pathname:x,state:{shop:e}}},e),", \xa0")})))}),s.a.createElement("div",{className:"sweet-loading"},s.a.createElement(Q.ClipLoader,{sizeUnit:"px",css:r,size:70,color:"#61aceb",loading:this.state.loading}))))}}]),t}(s.a.Component),Y=w(K),G=a(16),Z=a(11),$=a(120),ee=a.n($),te=a(70),ae=a.n(te),ne={margin:"10px"},se={username:"",email:"",passwordOne:"",error:null},re=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.username,s=t.email,r=t.passwordOne;a.props.firebase.doCreateUserWithEmailAndPassword(s,r).then(function(e){return a.props.firebase.user(e.user.uid).set({username:n,email:s})}).then(function(){a.setState(Object(Z.a)({},se)),a.props.history.push(N)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(G.a)({},e.target.name,e.target.value))},a.state=Object(Z.a)({},se),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,r=e.error,o=""===n||""===a||""===t;return s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("input",{name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Name",className:ae.a.inputStyle}),s.a.createElement("input",{name:"email",value:a,onChange:this.onChange,type:"text",placeholder:"Email Address",className:ae.a.inputStyle}),s.a.createElement(ee.a,{name:"passwordOne",placeholder:"Password",value:n,onChange:this.onChange,buttonClassName:ae.a.maskButton,inputClassName:ae.a.inputStyle}),s.a.createElement("button",{disabled:o,className:"btn btn-primary",type:"submit"},"Sign Up"),r&&s.a.createElement("p",{className:ae.a.error}," ",r.message," "))}}]),t}(n.Component),oe=function(){return s.a.createElement("p",null,"Don 't have an account? ",s.a.createElement(E.a,{to:"/signup"},"Sign Up"))},ce=Object(L.a)(w(re)),ie=function(){return s.a.createElement("div",{style:ne},s.a.createElement("h5",null," Sign Up "),s.a.createElement(ce,null))},le=a(85),ue=a.n(le),me={email:"",error:null},pe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.doPasswordReset(t).then(function(){a.setState(Object(Z.a)({},me))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(G.a)({},e.target.name,e.target.value))},a.state=Object(Z.a)({},me),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("input",{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),s.a.createElement("button",{disabled:n,type:"submit"},"Reset My Password"),a&&s.a.createElement("p",null,a.message))}}]),t}(n.Component),de=function(){return s.a.createElement("p",null,s.a.createElement(E.a,{to:"/pw-forget"},"Forgot Password?"))},he=function(){return s.a.createElement("div",null,s.a.createElement("h5",null,"PasswordForget"),s.a.createElement(ve,null))},ve=w(pe),be={margin:"20px"},ge={email:"",password:"",error:null},fe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.email,s=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,s).then(function(){a.setState(Object(Z.a)({},ge)),a.props.history.push(N)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(G.a)({},e.target.name,e.target.value))},a.state=Object(Z.a)({},ge),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,r=""===a||""===t;return s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address",className:ue.a.inputStyle}),s.a.createElement(ee.a,{name:"password",placeholder:"Password",value:a,onChange:this.onChange,buttonClassName:ue.a.maskButton,inputClassName:ue.a.inputStyle}),s.a.createElement("button",{className:"btn btn-primary",style:{marginTop:"8px"},disabled:r,type:"submit"},"Sign In"),n&&s.a.createElement("p",{className:ue.a.error},n.message))}}]),t}(n.Component),Ee=Object(D.a)(L.a,w)(fe),Se=function(){return s.a.createElement("div",{style:be},s.a.createElement("h5",null,"Sign In"),s.a.createElement(Ee,null),s.a.createElement(de,null),s.a.createElement(oe,null))},we=a(8),Oe=a(23),Ce=a.n(Oe),_e=a(13),je=a.n(_e),ye=a(15),Re=a.n(ye),ke={weekday:"long",hour:"numeric",minute:"numeric",year:"numeric",month:"short",day:"numeric"},Ne=function(e){function t(e){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).call(this,e))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(je.a.reviewCard)},s.a.createElement(E.a,{className:"".concat(je.a.headerLink),to:{pathname:x,state:{shop:this.props.shop}}},this.props.shop),void 0!=this.props.shop&&void 0!=this.props.username?s.a.createElement("div",{style:{display:"inline",paddingLeft:"4px",paddingRight:"4px"}},"-"):s.a.createElement("div",null),s.a.createElement(E.a,{className:"".concat(je.a.headerLink),to:{pathname:"/members",state:{userid:this.props.userid,username:this.props.username}}},this.props.username),s.a.createElement("div",{className:"row ".concat(je.a.borderTop)},s.a.createElement("div",{className:"col-4 col-lg-3 ".concat(je.a.scoreLine)},s.a.createElement("p",{className:je.a.scoreHeader},"Drink Quality"),s.a.createElement(Re.a,{rating:this.props.score1,starRatedColor:"#0099ff",starHoverColor:"#66ccff",numberOfStars:5,name:"score1",starDimension:"12px",starSpacing:"2px",isSelectable:"false"})),s.a.createElement("div",{className:"col-4 col-lg-3 ".concat(je.a.scoreLine)},s.a.createElement("p",{className:je.a.scoreHeader},"Sweet Boba"),s.a.createElement(Re.a,{rating:this.props.score2,starRatedColor:"#0099ff",starHoverColor:"#66ccff",numberOfStars:5,name:"score1",starDimension:"12px",starSpacing:"2px",isSelectable:"false"})),s.a.createElement("div",{className:"col-4 col-lg-3 ".concat(je.a.scoreLine)},s.a.createElement("p",{className:je.a.scoreHeader},"Chewy Boba"),s.a.createElement(Re.a,{rating:this.props.score3,starRatedColor:"#0099ff",starHoverColor:"#66ccff",numberOfStars:5,name:"score1",starDimension:"12px",starSpacing:"2px",isSelectable:"false"})),s.a.createElement("div",{className:"col-4 col-lg-3 ".concat(je.a.scoreLine)},s.a.createElement("p",{className:je.a.scoreHeader},"Customize"),s.a.createElement(Re.a,{rating:this.props.score4,starRatedColor:"#0099ff",starHoverColor:"#66ccff",numberOfStars:5,name:"score1",starDimension:"12px",starSpacing:"2px",isSelectable:"false"})),s.a.createElement("div",{className:"col-4 col-lg-3 ".concat(je.a.scoreLine)},s.a.createElement("p",{className:je.a.scoreHeader},"Consistent"),s.a.createElement(Re.a,{rating:this.props.score5,starRatedColor:"#0099ff",starHoverColor:"#66ccff",numberOfStars:5,name:"score1",starDimension:"12px",starSpacing:"2px",isSelectable:"false"})),s.a.createElement("div",{className:"col-4 col-lg-3 ".concat(je.a.scoreLine)},s.a.createElement("p",{className:je.a.scoreHeader},"Variety"),s.a.createElement(Re.a,{rating:this.props.score6,starRatedColor:"#0099ff",starHoverColor:"#66ccff",numberOfStars:5,name:"score1",starDimension:"12px",starSpacing:"2px",isSelectable:"false"})),s.a.createElement("div",{className:"col-4 col-lg-3 ".concat(je.a.scoreLine)},s.a.createElement("p",{className:je.a.scoreHeader},"Price"),s.a.createElement(Re.a,{rating:this.props.score7,starRatedColor:"#0099ff",starHoverColor:"#66ccff",numberOfStars:5,name:"score1",starDimension:"12px",starSpacing:"2px",isSelectable:"false"})),s.a.createElement("div",{className:"col-4 col-lg-3 ".concat(je.a.scoreLine)},s.a.createElement("p",{className:je.a.scoreHeader},"Overall"),s.a.createElement(Re.a,{rating:this.props.score8,starRatedColor:"#0099ff",starHoverColor:"#66ccff",numberOfStars:5,name:"score1",starDimension:"12px",starSpacing:"2px",isSelectable:"false"}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12 ".concat(je.a.note)},s.a.createElement("p",null,this.props.note))),this.props.isHomeCard?s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-info ".concat(je.a.updateButton),onClick:function(){return e.props.editReview(e.props.review)}},"Edit"),s.a.createElement("button",{className:"btn btn-danger ".concat(je.a.updateButton),onClick:function(){return e.props.deleteReview(e.props.shop)}},"Delete")):s.a.createElement("div",null),this.props.isReviewsCard?s.a.createElement("div",{className:"".concat(je.a.dateTime)},s.a.createElement("i",null," ",new Date(this.props.dateTime).toLocaleDateString("en-US",ke))):s.a.createElement("div",null))}}]),t}(n.Component),xe=a(121),Ie=a.n(xe),Ue=(a(406),[]),Le=function(e){var t=e.trim().toLowerCase(),a=t.length;return 0===a?[]:Ue.filter(function(e){return e.name.toLowerCase().slice(0,a)===t})},De=function(e){return e.name},Ae=function(e){return s.a.createElement("div",null,e.name)},Te=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).onChange=function(e,t){var n=t.newValue;a.setState({value:n}),a.props.getInputData(n)},a.onSuggestionsFetchRequested=function(e){var t=e.value;a.setState({suggestions:Le(t)})},a.onSuggestionSelected=function(e,t){t.suggestion;var n=t.suggestionValue;t.suggestionIndex,t.sectionIndex,t.method;a.props.getSelectedData(n)},a.onSuggestionsClearRequested=function(){a.setState({suggestions:[]})},a.state={value:a.props.bobaShop,suggestions:[]},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.firebase.bobaShops().on("value",function(e){var t=e.val();if(t){var a=Object.keys(t).map(function(e){return{name:e}});Ue=a}})}},{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.bobaShop})}},{key:"componentWillUnmount",value:function(){this.props.firebase.bobaShops().off()}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.suggestions,n={placeholder:"Enter shop name",value:t,onChange:this.onChange};return s.a.createElement(Ie.a,{suggestions:a,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:De,renderSuggestion:Ae,inputProps:n})}}]),t}(s.a.Component),He=w(Te),Be=a(187);a(408);function Me(){var e=Object(z.a)(["\n    display: block;\n    margin: 150px auto;\n    "]);return Me=function(){return e},e}var We={bobaShop:"",location:"",score1:1,score2:1,score3:1,score4:1,score5:1,score6:1,score7:1,score8:1,note:"",error:null},Fe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).state={formValues:We},a.editFormValues=a.editFormValues.bind(Object(we.a)(Object(we.a)(a))),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"editFormValues",value:function(e){e.score1=parseInt(e.score1),e.score2=parseInt(e.score2),e.score3=parseInt(e.score3),e.score4=parseInt(e.score4),e.score5=parseInt(e.score5),e.score6=parseInt(e.score6),e.score7=parseInt(e.score7),e.score8=parseInt(e.score8),this.setState({formValues:e}),window.scrollTo(0,0)}},{key:"render",value:function(){return s.a.createElement("div",{className:Ce.a.Content},s.a.createElement("div",{className:'row" '.concat(Ce.a.Wrapper)},s.a.createElement("div",{className:'col-12 col-sm-6" '.concat(Ce.a.left)},s.a.createElement(qe,{formValues:this.state.formValues})),s.a.createElement("div",{className:'col-12 col-sm-6" '.concat(Ce.a.right)},s.a.createElement(Qe,{editReview:this.editFormValues}))))}}]),t}(s.a.Component),Pe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state,n=t.score1,s=t.score2,r=t.score3,o=t.score4,c=t.score5,i=t.score6,l=t.score7,u=t.score8,m=t.note,p=(new Date).toLocaleString(),d=a.context.authUser.uid,h=a.context.username,v=a.state.bobaShop.trim()+" ("+a.state.location.trim()+")";a.props.firebase.bobaShopUserReview(v,d).update({username:h,score1:n,score2:s,score3:r,score4:o,score5:c,score6:i,score7:l,score8:u,note:m,dateTime:p,comment:""}).catch(function(e){a.setState({error:e})}),a.props.firebase.userReview(d,v).update({username:h,score1:n,score2:s,score3:r,score4:o,score5:c,score6:i,score7:l,score8:u,note:m,dateTime:p}).catch(function(e){a.setState({error:e})}),a.props.firebase.bobaShop(v).update({bobaShop:v}).then(function(){a.setState(Object(Z.a)({},We)),a.notify()}).catch(function(e){a.setState({error:e})})},a.onChange=function(e){a.setState(Object(G.a)({},e.target.name,e.target.value))},a.onChangeScore=function(e,t){a.setState(Object(G.a)({},t,e))},a.notify=function(){return Object(Be.b)("Review added")},a.state=e.formValues,a.getAutosuggestInput=a.getAutosuggestInput.bind(Object(we.a)(Object(we.a)(a))),a.getAutoSuggestSelected=a.getAutoSuggestSelected.bind(Object(we.a)(Object(we.a)(a))),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(e.formValues);var t=e.formValues.bobaShop,a=t.substr(0,t.indexOf("(")-1),n=t.substring(t.lastIndexOf("(")+1,t.lastIndexOf(")"));this.setState({bobaShop:a,location:n})}},{key:"getAutosuggestInput",value:function(e){this.setState({bobaShop:e})}},{key:"getAutoSuggestSelected",value:function(e){var t=e.substr(0,e.indexOf("(")-1),a=e.substring(e.lastIndexOf("(")+1,e.lastIndexOf(")"));this.setState({bobaShop:t,location:a})}},{key:"render",value:function(){var e=this.state,t=e.bobaShop,a=e.location,n=e.score1,r=e.score2,o=e.score3,c=e.score4,i=e.score5,l=e.score6,u=e.score7,p=e.score8,d=e.note,h=e.error,v=[n,r,o,c,i,l,u,p],b=["Drink Quality:","Sweet Boba:","Chewy Boba:","Customize:","Consistent:","Variety:","Price:","Overall:"],g=[],f=!0,E=!1,S=void 0;try{for(var w,O=v.entries()[Symbol.iterator]();!(f=(w=O.next()).done);f=!0){var C=w.value,_=Object(m.a)(C,2),j=_[0],y=_[1];g.push(s.a.createElement("div",{key:j,className:"row"},s.a.createElement("p",{className:"".concat(Ce.a.scoreReviewHeader)},b[j]),s.a.createElement("div",{className:"".concat(Ce.a.starRating)},s.a.createElement(Re.a,{rating:y,starRatedColor:"#0099ff",starHoverColor:"#66ccff",changeRating:this.onChangeScore,numberOfStars:5,name:"score"+(j+1),starDimension:"20px"}))))}}catch(k){E=!0,S=k}finally{try{f||null==O.return||O.return()}finally{if(E)throw S}}var R=""===t||t.indexOf("(")>-1||t.indexOf(")")>-1||""===a||""===n||""===r||""===o||""===c||""===i||""===l||""===u||""===p;return s.a.createElement("div",{className:"container ".concat(Ce.a.well)},s.a.createElement(Be.a,null),s.a.createElement("form",{onSubmit:this.onSubmit,className:Ce.a.submitForm},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-12 ".concat(Ce.a.inputTop)},s.a.createElement("h5",null,"New Review"),s.a.createElement(He,{getInputData:this.getAutosuggestInput,getSelectedData:this.getAutoSuggestSelected,bobaShop:t}),s.a.createElement("input",{name:"location",value:a,onChange:this.onChange,type:"text",className:"".concat(Ce.a.locationInput),placeholder:"Enter location"}))),g,s.a.createElement("div",{className:"row"},s.a.createElement("textarea",{name:"note",value:d,onChange:this.onChange,type:"text",placeholder:"Note",className:"".concat(Ce.a.textarea)})),s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"btn btn-primary ".concat(Ce.a.submitButton),disabled:R,type:"submit"},"Submit")),h&&s.a.createElement("p",null,h.message)))}}]),t}(s.a.Component);Pe.contextType=I;var ze=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).state={myReviews:[],loading:!0},a.deleteReview=a.deleteReview.bind(Object(we.a)(Object(we.a)(a))),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getReviewList()}},{key:"deleteReview",value:function(e){console.log("hello",e),window.confirm("Are you sure you want to delete?")&&(this.props.firebase.userReviews(this.context.authUser.uid).child(e).remove(),this.props.firebase.bobaShopUserReviews(e).child(this.context.authUser.uid).remove(),this.props.firebase.bobaShops().child(e).remove())}},{key:"getReviewList",value:function(){var e=this,t=this.context.authUser.uid;this.props.firebase.userReviews(t).on("value",function(t){var a=t.val();if(a){var n=Object.keys(a).map(function(e){return Object(Z.a)({bobaShop:e},a[e])});e.setState({myReviews:n})}else e.setState({myReviews:[]});e.setState({loading:!1})})}},{key:"componentWillUnmount",value:function(){this.props.firebase.userReviews().off()}},{key:"render",value:function(){var e=this,t=this.state,a=t.myReviews,n=t.loading,r=Object(X.css)(Me());return s.a.createElement("div",null,s.a.createElement("h5",{className:"".concat(Ce.a.rightHeader)},"My Reviews"),s.a.createElement("div",{className:"sweet-loading"},s.a.createElement(Q.ClipLoader,{sizeUnit:"px",css:r,size:70,color:"#61aceb",loading:this.state.loading})),n||void 0!==a&&0!=a.length?s.a.createElement("ul",null,a.map(function(t){return s.a.createElement("li",{key:t.bobaShop,className:""},s.a.createElement(Ne,{isHomeCard:"true",review:t,editReview:e.props.editReview,deleteReview:e.deleteReview,shop:t.bobaShop,note:t.note,score1:t.score1,score2:t.score2,score3:t.score3,score4:t.score4,score5:t.score5,score6:t.score6,score7:t.score7,score8:t.score8}))})):s.a.createElement("div",{className:"".concat(Ce.a.noReviewsWell)},"No Reviews Added."))}}]),t}(s.a.Component);ze.contextType=I;var Ve=function(e){return!!e},qe=w(A(Ve)(Pe)),Qe=w(A(Ve)(ze)),Xe=Fe,Je=a(125),Ke=a.n(Je),Ye=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).onChange=function(e){a.setState(Object(G.a)({},e.target.name,e.target.value))},a.state={comment:""},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.show)return null;var t=this.props.commentModal.shop,a=this.props.commentModal.uid,n=this.state.comment,r=""===n;return s.a.createElement("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0,0,0,0.1)",padding:50}},s.a.createElement("div",{style:{backgroundColor:"white",borderRadius:5,maxWidth:500,minHeight:300,margin:"10% auto",padding:30}},s.a.createElement("div",{style:{marginBottom:"10px"}},this.props.children),s.a.createElement("div",{className:"footer"},s.a.createElement("textarea",{autoFocus:!0,onChange:this.onChange,name:"comment",className:"form-control",rows:"3"}),s.a.createElement("div",{style:{paddingTop:"10px",float:"right"}},s.a.createElement("button",{style:{display:"inline",marginRight:"6px"},className:"btn btn-info",onClick:this.props.onClose},"Cancel"),s.a.createElement("button",{className:"btn btn-success",disabled:r,onClick:function(){return e.props.submitComment(t,a,n)}},"Submit")))))}}]),t}(s.a.Component),Ge=a(10),Ze=a.n(Ge),$e={weekday:"long",hour:"numeric",minute:"numeric",year:"numeric",month:"short",day:"numeric"},et=function(e){function t(e){return Object(p.a)(this,t),Object(h.a)(this,Object(v.a)(t).call(this,e))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t={fontWeight:"normal"};return s.a.createElement("div",{className:"".concat(Ze.a.reviewCard)},s.a.createElement(E.a,{className:"".concat(Ze.a.headerLink),to:{pathname:x,state:{shop:this.props.shop}}},this.props.shop),void 0!=this.props.shop&&void 0!=this.props.username?s.a.createElement("div",{style:{display:"inline",paddingLeft:"4px",paddingRight:"4px"}},"-"):s.a.createElement("div",null),s.a.createElement(E.a,{className:"".concat(Ze.a.headerLink),to:{pathname:"/members",state:{userid:this.props.uid,username:this.props.username}}},this.props.username),s.a.createElement("div",{className:"row ".concat(Ze.a.borderTop)},s.a.createElement("div",{className:"col-4 col-lg-3 ".concat(Ze.a.scoreLine)},s.a.createElement("p",{className:Ze.a.scoreHeader},"Drink Quality"),s.a.createElement(Re.a,{rating:this.props.score1,starRatedColor:"#0099ff",starHoverColor:"#66ccff",numberOfStars:5,name:"score1",starDimension:"12px",starSpacing:"2px",isSelectable:"false"})),s.a.createElement("div",{className:"col-4 col-lg-3 ".concat(Ze.a.scoreLine)},s.a.createElement("p",{className:Ze.a.scoreHeader},"Sweet Boba"),s.a.createElement(Re.a,{rating:this.props.score2,starRatedColor:"#0099ff",starHoverColor:"#66ccff",numberOfStars:5,name:"score1",starDimension:"12px",starSpacing:"2px",isSelectable:"false"})),s.a.createElement("div",{className:"col-4 col-lg-3 ".concat(Ze.a.scoreLine)},s.a.createElement("p",{className:Ze.a.scoreHeader},"Chewy Boba"),s.a.createElement(Re.a,{rating:this.props.score3,starRatedColor:"#0099ff",starHoverColor:"#66ccff",numberOfStars:5,name:"score1",starDimension:"12px",starSpacing:"2px",isSelectable:"false"})),s.a.createElement("div",{className:"col-4 col-lg-3 ".concat(Ze.a.scoreLine)},s.a.createElement("p",{className:Ze.a.scoreHeader},"Customize"),s.a.createElement(Re.a,{rating:this.props.score4,starRatedColor:"#0099ff",starHoverColor:"#66ccff",numberOfStars:5,name:"score1",starDimension:"12px",starSpacing:"2px",isSelectable:"false"})),s.a.createElement("div",{className:"col-4 col-lg-3 ".concat(Ze.a.scoreLine)},s.a.createElement("p",{className:Ze.a.scoreHeader},"Consistent"),s.a.createElement(Re.a,{rating:this.props.score5,starRatedColor:"#0099ff",starHoverColor:"#66ccff",numberOfStars:5,name:"score1",starDimension:"12px",starSpacing:"2px",isSelectable:"false"})),s.a.createElement("div",{className:"col-4 col-lg-3 ".concat(Ze.a.scoreLine)},s.a.createElement("p",{className:Ze.a.scoreHeader},"Variety"),s.a.createElement(Re.a,{rating:this.props.score6,starRatedColor:"#0099ff",starHoverColor:"#66ccff",numberOfStars:5,name:"score1",starDimension:"12px",starSpacing:"2px",isSelectable:"false"})),s.a.createElement("div",{className:"col-4 col-lg-3 ".concat(Ze.a.scoreLine)},s.a.createElement("p",{className:Ze.a.scoreHeader},"Price"),s.a.createElement(Re.a,{rating:this.props.score7,starRatedColor:"#0099ff",starHoverColor:"#66ccff",numberOfStars:5,name:"score1",starDimension:"12px",starSpacing:"2px",isSelectable:"false"})),s.a.createElement("div",{className:"col-4 col-lg-3 ".concat(Ze.a.scoreLine)},s.a.createElement("p",{className:Ze.a.scoreHeader},"Overall"),s.a.createElement(Re.a,{rating:this.props.score8,starRatedColor:"#0099ff",starHoverColor:"#66ccff",numberOfStars:5,name:"score1",starDimension:"12px",starSpacing:"2px",isSelectable:"false"}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12 ".concat(Ze.a.note)},s.a.createElement("p",null,this.props.note))),s.a.createElement("div",{className:"col-sm-12 ".concat(Ze.a.comments)},this.props.comments?s.a.createElement("div",{className:"".concat(Ze.a.commentsWell)},s.a.createElement("div",null,this.props.comments.map(function(e,a){return s.a.createElement("div",{key:a,className:"".concat(Ze.a.commentWell)},s.a.createElement("div",{className:"".concat(Ze.a.commentText)},s.a.createElement("p",null,e.username," ",s.a.createElement("span",{style:t},e.comment)),s.a.createElement("p",{className:"".concat(Ze.a.dateTime)},s.a.createElement("i",null," ",new Date(e.dateTime).toLocaleDateString("en-US",$e)))))})),s.a.createElement("div",null,this.props.authUser?s.a.createElement("button",{className:"btn btn-info ".concat(Ze.a.addCommentButton),onClick:function(){return e.props.toggleModal(e.props.shop,e.props.uid)}},"Comment"):s.a.createElement("div",null))):this.props.authUser?s.a.createElement("div",{className:"".concat(Ze.a.commentsWell)},s.a.createElement("button",{className:"btn btn-info ".concat(Ze.a.addCommentButton),onClick:function(){return e.props.toggleModal(e.props.shop,e.props.uid)}},"Comment")):s.a.createElement("div",null)))}}]),t}(n.Component);function tt(){var e=Object(z.a)(["\n            display: block;\n            margin: 150px auto;\n        "]);return tt=function(){return e},e}var at=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).toggleModal=function(e,t){console.log(e,t);var n=Object(Z.a)({},a.state.commentModal);n.shop=e,n.uid=t,a.setState({modalIsOpen:!a.state.modalIsOpen,commentModal:n})},a.state={reviews:{},sortedReviews:[],sortedReviewsCopy:[],commentModal:{shop:"",uid:""},modalIsOpen:!1,currentTime:new Date,loading:!0},a.submitComment=a.submitComment.bind(Object(we.a)(Object(we.a)(a))),a.toggleModal=a.toggleModal.bind(Object(we.a)(Object(we.a)(a))),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getAllReviewList()}},{key:"getAllReviewList",value:function(){var e=this;this.props.firebase.bobaShopReviews().on("value",function(t){var a=t.val();a&&e.setState({reviews:a},function(){e.sortReviews()}),e.setState({loading:!1})})}},{key:"componentWillUnmount",value:function(){this.props.firebase.bobaShopReviews().off()}},{key:"sortReviews",value:function(){var e=this,t=[];for(var a in this.state.reviews){var n=function(n){var s=Object(Z.a)({},e.state.reviews[a][n],{shop:a,uid:n});s.comments&&(s.comments=Object.keys(s.comments).map(function(e){return Object(Z.a)({},s.comments[e],{uid:e})}),s.comments.sort(function(e,t){return new Date(e.dateTime)-new Date(t.dateTime)})),t.push(s)};for(var s in this.state.reviews[a])n(s)}t.sort(function(e,t){return new Date(t.dateTime)-new Date(e.dateTime)}),t=t.splice(0,50),this.setState({sortedReviews:t})}},{key:"submitComment",value:function(e,t,a){var n=this,s=this.context.username,r=this.context.authUser.uid,o=new Date;o=o.toLocaleString(),console.log(t,s,r),this.props.firebase.bobaShopUserComment(e,t).push({comment:a,username:s,uid:r,dateTime:o}).then(function(){n.setState({modalIsOpen:!n.state.modalIsOpen,ommentModal:{comment:"",shop:"",uid:""}})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortedReviews,n=t.currentTime,r=t.loading,o=this.context.username,c=Object(X.css)(tt());return s.a.createElement("div",null,s.a.createElement("div",{className:"sweet-loading"},s.a.createElement(Q.ClipLoader,{sizeUnit:"px",css:c,size:70,color:"#61aceb",loading:this.state.loading})),s.a.createElement("div",{className:"container ".concat(Ke.a.recentReviews)},r||void 0!==a&&0!=a.length?s.a.createElement("div",null,a.map(function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("div",{className:"".concat(Ke.a.reviewWell)},s.a.createElement(et,{toggleModal:e.toggleModal,currentTime:n,dateTime:t.dateTime,authUser:o,uid:t.uid,username:t.username,shop:t.shop,note:t.note,score1:t.score1,score2:t.score2,score3:t.score3,score4:t.score4,score5:t.score5,score6:t.score6,score7:t.score7,score8:t.score8,comments:t.comments})))})):s.a.createElement("div",{className:"".concat(Ke.a.reviewWell)},"No Recent Reviews.")),s.a.createElement(Ye,{show:this.state.modalIsOpen,onClose:this.toggleModal,commentModal:this.state.commentModal,submitComment:this.submitComment},"Add a comment"))}}]),t}(s.a.Component);at.contextType=I;var nt=w(at),st=a(86),rt=a.n(st),ot=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).state={shop:"",shopReviews:[],shopAverageScore:1,numberOfReviews:0},a.getAutosuggestInput=a.getAutosuggestInput.bind(Object(we.a)(Object(we.a)(a))),a.getAutoSuggestSelected=a.getAutoSuggestSelected.bind(Object(we.a)(Object(we.a)(a))),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){if(this.props.location.state){var e=this.props.location.state.shop;this.getShopReviews(e)}}},{key:"getAutosuggestInput",value:function(e){}},{key:"getAutoSuggestSelected",value:function(e){this.getShopReviews(e)}},{key:"getShopReviews",value:function(e){var t=this;this.setState({shop:e}),this.props.firebase.bobaShopUserReviews(e).on("value",function(e){var a=e.val();if(console.log(a),a){var n=Object.keys(a).map(function(e){return Object(Z.a)({userid:e},a[e])});t.setState({shopReviews:n,numberOfReviews:n.length},function(){t.gradeReviews()})}else t.setState({shopReviews:[],numberOfReviews:0})})}},{key:"gradeReviews",value:function(){var e=0,t=0,a=0,n=0,s=0,r=0,o=0,c=0,i=0,l=0;for(var u in this.state.shopReviews){var m=this.state.shopReviews[u];a+=m.score1,n+=m.score2,s+=m.score3,r+=m.score4,o+=m.score5,c+=m.score6,i+=m.score7,l+=m.score8,e++}t=(parseFloat(a)+parseFloat(n)+parseFloat(s)+parseFloat(r)+parseFloat(o)+parseFloat(c)+parseFloat(i)+parseFloat(l))/(8*e),t=Math.round(100*t)/100,this.setState({shopAverageScore:t})}},{key:"componentWillUnmount",value:function(){this.props.firebase.bobaShopUserReviews().off()}},{key:"render",value:function(){var e=this.state,t=e.shop,a=e.shopReviews,n=e.shopAverageScore,r=e.numberOfReviews;return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 ".concat(rt.a.header)},s.a.createElement("h5",null,"Shops"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 ".concat(rt.a.header)},s.a.createElement(He,{getInputData:this.getAutosuggestInput,getSelectedData:this.getAutoSuggestSelected,bobaShop:t}))),s.a.createElement("div",null,void 0===a||0==a.length?s.a.createElement("div",null):s.a.createElement("div",null,s.a.createElement("h5",{className:"".concat(rt.a.info)},t," - "," ",s.a.createElement(T.a,{icon:H.d,size:"1x"}),r," "," ",s.a.createElement(T.a,{icon:H.c,size:"1x"})," ",n),s.a.createElement("ul",null,a.map(function(e){return s.a.createElement("li",{key:e.userid,className:"".concat(rt.a.well)},s.a.createElement(Ne,{userid:e.userid,username:e.username,note:e.note,score1:e.score1,score2:e.score2,score3:e.score3,score4:e.score4,score5:e.score5,score6:e.score6,score7:e.score7,score8:e.score8}))})))))}}]),t}(s.a.Component),ct=w(ot),it=a(87),lt=a.n(it),ut=(a(416),[]),mt=function(e){var t=e.trim().toLowerCase(),a=t.length;return 0===a?[]:ut.filter(function(e){return e.username.toLowerCase().slice(0,a)===t})},pt=function(e){return e.username},dt=function(e){return s.a.createElement("div",null,e.username)},ht=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).onChange=function(e,t){var n=t.newValue;a.setState({value:n}),a.props.getInputData(n)},a.onSuggestionsFetchRequested=function(e){var t=e.value;a.setState({suggestions:mt(t)})},a.onSuggestionSelected=function(e,t){var n=t.suggestion;t.suggestionValue,t.suggestionIndex,t.sectionIndex,t.method;a.props.getSelectedData(n)},a.onSuggestionsClearRequested=function(){a.setState({suggestions:[]})},a.state={value:a.props.user,suggestions:[]},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.firebase.users().on("value",function(e){var t=e.val();if(t){var a=Object.keys(t).map(function(e){return Object(Z.a)({userid:e},t[e])});ut=a}})}},{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.user})}},{key:"componentWillUnmount",value:function(){this.props.firebase.users().off()}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.suggestions,n={placeholder:"Enter member name",value:t,onChange:this.onChange};return s.a.createElement(Ie.a,{suggestions:a,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionSelected:this.onSuggestionSelected,getSuggestionValue:pt,renderSuggestion:dt,inputProps:n})}}]),t}(s.a.Component),vt=w(ht),bt=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).state={user:"",userReviews:[],numberOfReviews:0},a.getAutosuggestInput=a.getAutosuggestInput.bind(Object(we.a)(Object(we.a)(a))),a.getAutoSuggestSelected=a.getAutoSuggestSelected.bind(Object(we.a)(Object(we.a)(a))),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){if(this.props.location.state){var e=this.props.location.state.userid,t=this.props.location.state.username;this.getUserReviews(e,t)}}},{key:"getAutosuggestInput",value:function(e){}},{key:"getAutoSuggestSelected",value:function(e){this.getUserReviews(e.userid,e.username)}},{key:"getUserReviews",value:function(e,t){var a=this;this.setState({user:t}),this.props.firebase.userReviews(e).on("value",function(e){var t=e.val();if(t){var n=Object.keys(t).map(function(e){return Object(Z.a)({shop:e},t[e])});a.setState({userReviews:n,numberOfReviews:n.length})}else a.setState({userReviews:[],numberOfReviews:0})})}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.userReviews,n=e.numberOfReviews;return console.log(t),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 ".concat(lt.a.header)},s.a.createElement("h5",null,"Members"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 ".concat(lt.a.header)},s.a.createElement(vt,{getInputData:this.getAutosuggestInput,getSelectedData:this.getAutoSuggestSelected,user:t}))),s.a.createElement("div",null,void 0===a||0==a.length?s.a.createElement("div",null):s.a.createElement("div",null,s.a.createElement("h5",{className:"".concat(lt.a.info)},t," -  ",s.a.createElement(T.a,{icon:H.b,size:"1x"}),n),s.a.createElement("ul",null,a.map(function(e){return s.a.createElement("li",{key:e.shop,className:"".concat(lt.a.well)},s.a.createElement(Ne,{shop:e.shop,note:e.note,score1:e.score1,score2:e.score2,score3:e.score3,score4:e.score4,score5:e.score5,score6:e.score6,score7:e.score7,score8:e.score8}))})))))}}]),t}(s.a.Component),gt=w(bt),ft=a(53),Et=a.n(ft),St=(a(102),a(82)),wt=a.n(St),Ot=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).onChange=function(e){a.setState(Object(G.a)({},e.target.name,e.target.value))},a.state={description:""},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.show)return null;var t=this.state.description,a=""===t;return s.a.createElement("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0,0,0,0.1)",padding:50}},s.a.createElement("div",{style:{backgroundColor:"white",borderRadius:5,maxWidth:500,minHeight:300,margin:"10% auto",padding:30}},s.a.createElement("div",{style:{marginBottom:"10px"}},this.props.children),s.a.createElement("div",{className:"footer"},s.a.createElement("input",{autoFocus:!0,onChange:this.onChange,name:"description",className:"form-control"}),s.a.createElement("div",{style:{paddingTop:"10px",float:"right"}},s.a.createElement("button",{style:{display:"inline",marginRight:"6px"},className:"btn btn-info",onClick:this.props.onClose},"Cancel"),s.a.createElement(wt.a,{accept:"image/*",randomizeFilename:!0,storageRef:this.props.firebase.storageBobaShopImages(this.props.shop),onUploadSuccess:function(a){return e.props.handleUploadSuccess(a,t)},className:Et.a.uploadBtn,disabled:a},"Select & Submit")))))}}]),t}(s.a.Component),Ct=w(Ot),_t=function(e){function t(e){var a,n;return Object(p.a)(this,t),(n=Object(h.a)(this,Object(v.a)(t).call(this,e))).toggleModal=function(e){console.log(e),n.setState({modalIsOpen:!n.state.modalIsOpen,shop:e})},n.handleUploadSuccess=function(e,t){console.log("here",e,t)},n.state=(a={shop:"",photoNames:[],photos:[],modalIsOpen:!1,filename:"",description:""},Object(G.a)(a,"shop",""),Object(G.a)(a,"username",""),Object(G.a)(a,"dateTime",""),Object(G.a)(a,"files",[]),a),n.getAutosuggestInput=n.getAutosuggestInput.bind(Object(we.a)(Object(we.a)(n))),n.getAutoSuggestSelected=n.getAutoSuggestSelected.bind(Object(we.a)(Object(we.a)(n))),n.toggleModal=n.toggleModal.bind(Object(we.a)(Object(we.a)(n))),n.handleUploadSuccess=n.handleUploadSuccess.bind(Object(we.a)(Object(we.a)(n))),n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"getAutosuggestInput",value:function(e){}},{key:"getAutoSuggestSelected",value:function(e){var t=this;this.setState({shop:e},function(){t.getShopPhotoNames()})}},{key:"getShopPhotoNames",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.shop;this.context.authUser.uid;return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 ".concat(Et.a.header)},s.a.createElement("h5",null,"Shops"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 ".concat(Et.a.header)},s.a.createElement(He,{getInputData:this.getAutosuggestInput,getSelectedData:this.getAutoSuggestSelected,bobaShop:t}))),s.a.createElement("div",null,""!=t?s.a.createElement("div",null,s.a.createElement("div",{className:"".concat(Et.a.info)},s.a.createElement("h5",null,t),s.a.createElement("button",{className:"btn btn-info ".concat(Et.a.addCommentButton),onClick:function(){return e.toggleModal(t)}},"Add Photo"))):s.a.createElement("div",null)),s.a.createElement(Ct,{show:this.state.modalIsOpen,onClose:this.toggleModal,shop:t,handleUploadSuccess:this.handleUploadSuccess},"Add Photo"))}}]),t}(s.a.Component);_t.contextType=I;var jt=w(_t),yt=(a(424),{passwordOne:"",passwordTwo:"",error:null}),Rt=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.passwordOne;a.props.firebase.doPasswordUpdate(t).then(function(){a.setState(Object(Z.a)({},yt))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(G.a)({},e.target.name,e.target.value))},a.state=Object(Z.a)({},yt),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,a=e.passwordTwo,n=e.error,r=t!==a||""===t;return s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("input",{name:"passwordOne",value:t,onChange:this.onChange,type:"password",placeholder:"New Password"}),s.a.createElement("input",{name:"passwordTwo",value:a,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),s.a.createElement("button",{disabled:r,type:"submit"},"Reset My Password"),n&&s.a.createElement("p",null,n.message))}}]),t}(n.Component),kt=(w(Rt),{margin:"15px"}),Nt=A(function(e){return!!e})(function(){return s.a.createElement(I.Consumer,null,function(e){return s.a.createElement("div",{style:kt},s.a.createElement("h5",null,"Account: ",e.authUser.email),s.a.createElement(ve,null))})}),xt=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).state={loading:!1,users:[]},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.props.firebase.users().on("value",function(t){var a=t.val(),n=Object.keys(a).map(function(e){return Object(Z.a)({},a[e],{uid:e})});e.setState({users:n,loading:!1})})}},{key:"componentWillUnmount",value:function(){this.props.firebase.users().off()}},{key:"render",value:function(){var e=this.state,t=e.users,a=e.loading;return s.a.createElement("div",null,a&&s.a.createElement("div",null,"Loading..."),s.a.createElement(It,{users:t}))}}]),t}(n.Component),It=function(e){var t=e.users;return s.a.createElement("ul",null,t.map(function(e){return s.a.createElement("li",{key:e.uid},s.a.createElement("span",null,s.a.createElement("strong",null,"ID:")," ",e.uid),s.a.createElement("span",null,s.a.createElement("strong",null,"E-Mail:")," ",e.email),s.a.createElement("span",null,s.a.createElement("strong",null,"Username:")," ",e.username))}))},Ut=Object(D.a)(A(function(e){return!!e}),w)(xt),Lt=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",avatar:"",isUploading:!1,progress:0,avatarURL:"",files:""},a.handleChangeUsername=function(e){return a.setState({username:e.target.value})},a.handleUploadStart=function(){return a.setState({isUploading:!0,progress:0})},a.handleProgress=function(e){return a.setState({progress:e})},a.handleUploadError=function(e){a.setState({isUploading:!1}),console.error(e)},a.handleUploadSuccess=function(e){a.props.firebase.storageBobaShopImages("Ding Tea (Rowland Heights)").child(e).getDownloadURL().then(function(e){return a.setState({avatarURL:e})})},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("form",null,s.a.createElement("label",null,"Username:"),s.a.createElement("input",{type:"text",value:this.state.username,name:"username",onChange:this.handleChangeUsername}),s.a.createElement("label",null,"Avatar:"),this.state.isUploading&&s.a.createElement("p",null,"Progress: ",this.state.progress),this.state.avatarURL&&s.a.createElement("img",{src:this.state.avatarURL}),s.a.createElement("img",{src:this.state.files}),s.a.createElement(wt.a,{accept:"image/*",name:"avatar",randomizeFilename:!0,storageRef:this.props.firebase.storageBobaShopImages("Ding Tea (Rowland Heights)"),onUploadSuccess:this.handleUploadSuccess,style:{backgroundColor:"steelblue",color:"white",padding:10,borderRadius:4}},"Select"),s.a.createElement("button",{onClick:this.startUploadManually},"Upload all the things")))}}]),t}(n.Component),Dt=w(Lt),At=U(function(){return s.a.createElement(c.a,null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(P,null),s.a.createElement("hr",null)),s.a.createElement("div",{className:u.a.main},s.a.createElement(i.a,{exact:!0,path:"/",component:Y}),s.a.createElement(i.a,{exact:!0,path:"/signup",component:ie}),s.a.createElement(i.a,{exact:!0,path:"/signin",component:Se}),s.a.createElement(i.a,{exact:!0,path:N,component:Xe}),s.a.createElement(i.a,{exact:!0,path:"/reviews",component:nt}),s.a.createElement(i.a,{exact:!0,path:x,component:ct}),s.a.createElement(i.a,{exact:!0,path:"/members",component:gt}),s.a.createElement(i.a,{exact:!0,path:"/photos",component:jt}),s.a.createElement(i.a,{exact:!0,path:"/account",component:Nt}),s.a.createElement(i.a,{exact:!0,path:"/admin",component:Ut}),s.a.createElement(i.a,{exact:!0,path:"/test",component:Dt}),s.a.createElement(i.a,{exact:!0,path:"/pw-forget",component:he}))))});a(426);o.a.render(s.a.createElement(O.Provider,{value:new y},s.a.createElement(At,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},68:function(e,t,a){e.exports={active:"navigation_active__K4B6k",navbar:"navigation_navbar__28s6U",icon:"navigation_icon__1WHf3",responsive:"navigation_responsive__3a5Xv",responsiveSignout:"navigation_responsiveSignout__3Ufxb"}},69:function(e,t,a){e.exports={tierList:"landing_tierList__2UTR9",tierLabel:"landing_tierLabel__36JB8",row:"landing_row__1WYyi",tierItem:"landing_tierItem__1KckL",header:"landing_header__2LKQt"}},70:function(e,t,a){e.exports={inputStyle:"signUp_inputStyle__3aXXX",maskButton:"signUp_maskButton__tFO9j",error:"signUp_error__2e5zt"}},85:function(e,t,a){e.exports={signInInput:"signIn_signInInput__3j6Do",inputStyle:"signIn_inputStyle__1yhJc",maskButton:"signIn_maskButton__28Zpr",error:"signIn_error__3uhLf"}},86:function(e,t,a){e.exports={header:"shops_header__2woi_",info:"shops_info__kR4c4"}},87:function(e,t,a){e.exports={header:"users_header__1aIrD",info:"users_info__6UoBD"}}},[[273,2,1]]]);
//# sourceMappingURL=main.8df3f7ae.chunk.js.map