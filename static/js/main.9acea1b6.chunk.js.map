{"version":3,"sources":["components/Partials/ReviewCommentsCard/reviewCommentsCard.module.css","components/Pages/Reviews/review.module.css","components/Partials/ReviewCard/reviewCard.module.css","components/Pages/Photos/photos.module.css","components/Pages/Home/home.module.css","components/App/app.module.css","serviceWorker.js","components/Firebase/context.js","components/Firebase/firebase.js","components/Firebase/index.js","components/Partials/SignOut/index.js","constants/routes.js","components/Session/context.js","components/Session/withAuthentication.js","components/Session/withAuthorization.js","components/Navigation/index.js","components/Pages/Landing/index.js","components/Partials/SignUp/index.js","components/Partials/PasswordForget/index.js","components/Pages/SignIn/index.js","components/Partials/ReviewCard/index.js","components/ThirdParty/AutoSuggestShops/index.js","components/Pages/Home/index.js","components/Pages/Reviews/reviewModal.js","components/Partials/ReviewCommentsCard/index.js","components/Pages/Reviews/index.js","components/Pages/Shops/index.js","components/ThirdParty/AutoSuggestUsers/index.js","components/Pages/Users/index.js","components/Pages/Photos/addImageModal.js","components/Pages/Photos/imageModal.js","components/Pages/Photos/index.js","components/Partials/PasswordChange/index.js","components/Pages/Account/index.js","components/Pages/Admin/index.js","components/Pages/Test/index.js","components/App/index.js","index.js","components/Navigation/navigation.module.css","components/Pages/Landing/landing.module.css","components/Partials/SignUp/signUp.module.css","components/Pages/SignIn/signIn.module.css","components/Pages/Shops/shops.module.css","components/Pages/Users/users.module.css"],"names":["module","exports","headerLink","scoreLine","scoreHeader","note","dateTime","reviewCard","borderTop","comments","addCommentButton","commentText","recentReviews","reviewWell","commentsWell","commentWell","recentComment","updateButton","cancelBtn","uploadBtn","uploadBtns","header","info","column","image","largeImage","outer","inner","imageDescriptionArea","noPhotosWell","inline","locationInput","reviewInput","submitForm","submitButton","starRating","well","noReviewsWell","inputTop","left","right","rightHeader","textarea","scoreReviewHeader","main","Boolean","window","location","hostname","match","FirebaseContext","React","createContext","withFirebase","Component","props","react_default","a","createElement","Consumer","firebase","Object","assign","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","components_Firebase","Firebase","_this","this","classCallCheck","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","user","userid","db","ref","concat","bobaShopUserReview","shopName","userId","bobaShopUserComment","userReview","bobaShop","bobaShopReviews","bobaShopUserReviews","userReviews","users","bobaShops","bobaShopImages","bobaShopImage","id","userImages","userImage","images","storageBobaShopImages","storage","storageBobaShopImage","imageName","app","initializeApp","database","buttonStyle","color","border","marginTop","marginRight","float","_ref","type","style","className","onClick","HOME","SHOPS","AuthUserContext","withAuthentication","WithAuthentication","_React$Component","possibleConstructorReturn","getPrototypeOf","call","state","authUser","role","username","inherits","createClass","key","value","_this2","listener","onAuthStateChanged","setState","uid","on","snapshot","val","Session_context","Provider","withAuthorization","condition","WithAuthorization","apply","arguments","history","push","login","compose","withRouter","authAdminMenuItems","ROUTES","authMenuItems","nonAuthMenuItems","NavigationAuth","barsClick","barsOpen","linkClick","active","relPath","href","split","signoutButton","signedIn","SignOut","classes","responsive","navbar","menuItems","map","_ref2","slicedToArray","menuItem","route","Link","to","responsiveSignout","icon","index_es","faBars","size","Navigation","Navigation_NavigationAuth","Landing","reviews","grades","tierList","loading","getAllReviewList","reviewsObject","gradeReviews","count","finalScore","score1Total","score2Total","score3Total","score4Total","score5Total","score6Total","score7Total","score8Total","reviewCount","shop","score1","score2","score3","score4","score5","score6","score7","score8","parseFloat","orderedGrades","keys","sort","forEach","console","log","S","A","B","C","D","E","F","name","off","divStyle","display","tiersStyle","padding","override","css","_templateObject","entries","tier","list","row","tierLabel","index","tierItem","pathname","react_spinners","sizeUnit","signUpPageStyle","margin","INITIAL_STATE","passwordOne","error","SignUpFormBase","onSubmit","event","_this$state","then","set","objectSpread","catch","preventDefault","onChange","defineProperty","target","_this$state2","isInvalid","placeholder","inputStyle","passwordMask_min_default","buttonClassName","maskButton","inputClassName","disabled","message","SignUpLink","SignUpForm","SignUp","PasswordForgetFormBase","PasswordForgetLink","PasswordForgetPage","PasswordForgetForm","signInPageStyle","SignInFormBase","SignInForm","SignIn","PasswordForget_PasswordForgetLink","SignUp_SignUpLink","dateOptions","weekday","hour","minute","year","month","day","ReviewCard","undefined","paddingLeft","paddingRight","build_default","rating","starRatedColor","starHoverColor","numberOfStars","starDimension","starSpacing","isSelectable","isHomeCard","editReview","review","deleteReview","isReviewsCard","Date","toLocaleDateString","getSuggestions","inputValue","trim","toLowerCase","inputLength","length","filter","slice","getSuggestionValue","suggestion","renderSuggestion","AutoSuggestShops","newValue","getInputData","onSuggestionsFetchRequested","suggestions","onSuggestionSelected","_ref3","suggestionValue","suggestionIndex","sectionIndex","method","getSelectedData","onSuggestionsClearRequested","bobaShopsObject","bobaShopsList","inputProps","dist_default","HomePage","formValues","editFormValues","bind","assertThisInitialized","params","parseInt","scrollTo","Content","Wrapper","NewReview","MyReviews","NewReviewBase","_this2$state","toLocaleString","context","bobaShopAndLocation","update","comment","notify","onChangeScore","toast","getAutosuggestInput","getAutoSuggestSelected","substr","indexOf","substring","lastIndexOf","scores","scoreNames","ratingInputs","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","changeRating","err","return","react_toastify","ThirdParty_AutoSuggestShops","contextType","MyReviewsBase","_this3","myReviews","getReviewList","confirm","child","remove","_this4","myReviewsObject","myReviewsList","_this5","Home_templateObject","Partials_ReviewCard","Modal","handleContainerClick","e","node","contains","onClose","createRef","show","commentModal","position","top","bottom","backgroundColor","borderRadius","maxWidth","minHeight","marginBottom","children","autoFocus","rows","paddingTop","submitComment","ReviewCommentsCard","normal","fontWeight","toggleModal","Reviews","modalIsOpen","sortedReviews","sortedReviewsCopy","currentTime","contextUid","contextUsername","sortReviews","_loop","b","splice","ommentModal","Reviews_templateObject","Partials_ReviewCommentsCard","reviewModal","Shops","shopReviews","shopAverageScore","numberOfReviews","getShopReviews","shopReviewsObject","shopReviewsList","Math","round","faUsers","faStar","AutoSuggestUsers","usersObject","usersList","Users","getUserReviews","userReviewsObject","userReviewsList","ThirdParty_AutoSuggestUsers","faCoffee","AddImageModal","handleUploadStart","isUploading","handleUploadError","onUploadSuccess","filename","description","handleUploadSuccess","CustomUploadButton_default","accept","randomizeFilename","storageRef","onUploadStart","onUploadError","ImageModal","toggleImage","backdropDiv","zIndex","src","imageInfo","url","deleteImage","Photos","imageIsOpen","getDownloadURL","imageId","fileid","delete","alert","getShopImages","shopImagesObject","shopImagesList","_this$state3","imagesGrid","Photos_templateObject","addImageModal","imageModal","passwordTwo","PasswordChangeForm","AdminPageBase","Admin_UserList","UserList","AdminPage","authUsera","Test","avatar","progress","avatarURL","files","handleChangeUsername","handleProgress","startUploadManually","App","HashRouter","components_Navigation","Route","exact","path","component","LandingPage","SignUpPage","SignInPage","ReviewsPage","ShopsPage","UsersPage","PhotosPage","AccountPage","TestPage","ReactDOM","render","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","signInInput"],"mappings":"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","file":"static/js/main.9acea1b6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerLink\":\"reviewCommentsCard_headerLink__1aZmi\",\"scoreLine\":\"reviewCommentsCard_scoreLine__1Qsv6\",\"scoreHeader\":\"reviewCommentsCard_scoreHeader__1ZpOF\",\"note\":\"reviewCommentsCard_note__1Cpjn\",\"dateTime\":\"reviewCommentsCard_dateTime__Lf7eb\",\"reviewCard\":\"reviewCommentsCard_reviewCard__2ZuVM\",\"borderTop\":\"reviewCommentsCard_borderTop__2tx_W\",\"comments\":\"reviewCommentsCard_comments__3XarQ\",\"addCommentButton\":\"reviewCommentsCard_addCommentButton__3_PpP\",\"commentText\":\"reviewCommentsCard_commentText__3FHIM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"recentReviews\":\"review_recentReviews__7NP6_\",\"reviewWell\":\"review_reviewWell__1BcTB\",\"commentsWell\":\"review_commentsWell__2qLts\",\"commentWell\":\"review_commentWell__2UBjH\",\"addCommentButton\":\"review_addCommentButton__2nHQF\",\"recentComment\":\"review_recentComment__2j52X\",\"scoreLine\":\"review_scoreLine__3wSXo\",\"scoreHeader\":\"review_scoreHeader__jLLM_\",\"commentText\":\"review_commentText__33vBY\",\"dateTime\":\"review_dateTime__3alev\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerLink\":\"reviewCard_headerLink__1GdnU\",\"scoreLine\":\"reviewCard_scoreLine__1jxh2\",\"scoreHeader\":\"reviewCard_scoreHeader__2lXN4\",\"note\":\"reviewCard_note__2MsS-\",\"dateTime\":\"reviewCard_dateTime__3gwGe\",\"reviewCard\":\"reviewCard_reviewCard__9HWds\",\"borderTop\":\"reviewCard_borderTop__1_LFS\",\"updateButton\":\"reviewCard_updateButton__3SZSx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cancelBtn\":\"photos_cancelBtn__2XUwy\",\"uploadBtn\":\"photos_uploadBtn__8jr3w\",\"uploadBtns\":\"photos_uploadBtns__16LBT\",\"header\":\"photos_header__2Zsyg\",\"info\":\"photos_info__31vjc\",\"column\":\"photos_column__3hmzT\",\"image\":\"photos_image__JNOWh\",\"largeImage\":\"photos_largeImage__3OGAl\",\"outer\":\"photos_outer__1Ugtd\",\"inner\":\"photos_inner__1Vbh-\",\"imageDescriptionArea\":\"photos_imageDescriptionArea__5LfLQ\",\"noPhotosWell\":\"photos_noPhotosWell__3i7uc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inline\":\"home_inline__3CRtj\",\"locationInput\":\"home_locationInput__2Ov50\",\"reviewInput\":\"home_reviewInput__1j1g2\",\"submitForm\":\"home_submitForm__2oX3_\",\"submitButton\":\"home_submitButton__3SuEw\",\"starRating\":\"home_starRating__3VMzS\",\"updateButton\":\"home_updateButton__7srQT\",\"well\":\"home_well__39mft\",\"noReviewsWell\":\"home_noReviewsWell__2fuDn\",\"inputTop\":\"home_inputTop__142Bv\",\"left\":\"home_left__3R4ih\",\"right\":\"home_right__3Xif6\",\"rightHeader\":\"home_rightHeader__1-pCX\",\"textarea\":\"home_textarea__GD1QB\",\"note\":\"home_note__1fRyn\",\"scoreLine\":\"home_scoreLine__1HBH5\",\"scoreHeader\":\"home_scoreHeader__1IMWe\",\"scoreReviewHeader\":\"home_scoreReviewHeader__1i1ze\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"app_main__2q76i\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport const withFirebase = Component => props => (\r\n  <FirebaseContext.Consumer>\r\n    {firebase => <Component {...props} firebase={firebase} />}\r\n  </FirebaseContext.Consumer>\r\n);\r\n\r\nexport default FirebaseContext;\r\n","import app from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport 'firebase/storage';\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n};\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    app.initializeApp(config);\r\n\r\n    this.auth = app.auth();\r\n    this.db = app.database();\r\n    this.storage = app.storage();\r\n  }\r\n\r\n  // *** Auth API ***\r\n\r\n  doCreateUserWithEmailAndPassword = (email, password) =>\r\n    this.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n  doSignInWithEmailAndPassword = (email, password) =>\r\n    this.auth.signInWithEmailAndPassword(email, password);\r\n\r\n  doSignOut = () => {\r\n    this.auth.signOut();\r\n  }\r\n    \r\n\r\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n  doPasswordUpdate = password =>\r\n    this.auth.currentUser.updatePassword(password);\r\n\r\n  // *** User API ***\r\n  //Database\r\n  user = userid => this.db.ref(`users/${userid}`);\r\n  bobaShopUserReview = (shopName, userId) => this.db.ref(`bobaShopUserReviews/${shopName}/${userId}`);\r\n  bobaShopUserComment = (shopName, userId) => this.db.ref(`bobaShopUserReviews/${shopName}/${userId}/comments`);\r\n  userReview = (userId, shopName) => this.db.ref(`users/${userId}/reviews/${shopName}`);\r\n  bobaShop = (bobaShop) => this.db.ref(`bobaShops/${bobaShop}`);\r\n\r\n  bobaShopReviews = () => this.db.ref(`bobaShopUserReviews`);\r\n  bobaShopUserReviews = (shopName) => this.db.ref(`bobaShopUserReviews/${shopName}`);\r\n  userReviews = (userId) => this.db.ref(`users/${userId}/reviews`);\r\n  users = () => this.db.ref('users');\r\n  bobaShops = () => this.db.ref('bobaShops');\r\n  bobaShopImages = (shopName) => this.db.ref(`bobaShops/${shopName}/images`);\r\n  bobaShopImage = (shopName, id) => this.db.ref(`bobaShops/${shopName}/images/${id}`);\r\n  userImages = (userId) => this.db.ref(`users/${userId}/images`);\r\n  userImage = (userId, id) => this.db.ref(`users/${userId}/images/${id}`);\r\n  images = () => this.db.ref(`images`);\r\n  image = (id) => this.db.ref(`images/${id}`);\r\n\r\n  //Storage\r\n  storageBobaShopImages = (bobaShop) => this.storage.ref(`bobaShops/${bobaShop}/images`);\r\n  storageBobaShopImage = (bobaShop, imageName) => this.storage.ref(`bobaShops/${bobaShop}/images/${imageName}`);\r\n\r\n\r\n}\r\n\r\nexport default Firebase;\r\n","import FirebaseContext, { withFirebase } from './context';\r\nimport Firebase from './firebase';\r\n\r\nexport default Firebase;\r\n\r\nexport { FirebaseContext, withFirebase };\r\n","import React from 'react';\r\n\r\nimport { withFirebase } from '../../Firebase';\r\n\r\nconst buttonStyle= {\r\n  color: 'white',\r\n  border: '1px solid white',\r\n  marginTop:'2px',\r\n  marginRight:'10px',\r\n  float:'right',\r\n}\r\n\r\nconst SignOutButton = ({ firebase }) => (\r\n  <button type=\"button\" style={buttonStyle} className=\"btn btn-default\" onClick={firebase.doSignOut}>\r\n    Sign Out\r\n  </button>\r\n);\r\n\r\nexport default withFirebase(SignOutButton);\r\n","export const SIGN_UP = '/signup';\r\nexport const SIGN_IN = '/signin';\r\nexport const LANDING = '/';\r\nexport const HOME = '/myreviews';\r\nexport const REVIEWS = '/reviews';\r\nexport const SHOPS = '/shops';\r\nexport const MEMBERS = '/members';\r\nexport const PHOTOS = '/photos';\r\nexport const ACCOUNT = '/account';\r\nexport const ADMIN = '/admin';\r\nexport const PASSWORD_FORGET = '/pw-forget';\r\nexport const TEST = '/test';\r\n","import React from 'react';\r\n\r\nconst AuthUserContext = React.createContext(null);\r\n\r\nexport default AuthUserContext;\r\n","import React from 'react';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase/index';\r\n\r\nconst withAuthentication = Component => {\r\n  class WithAuthentication extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        authUser: null,\r\n        role: null,\r\n        username: null\r\n      };\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\r\n        authUser => {\r\n          if (authUser){\r\n            this.setState({ authUser })\r\n            this.props.firebase.user(authUser.uid).on('value', snapshot => {\r\n              this.setState({ \r\n                role: snapshot.val().role, \r\n                username: snapshot.val().username, \r\n              }) \r\n            });\r\n          } else{\r\n            this.setState({ authUser: null });  \r\n            this.setState({ role: null });  \r\n          }  \r\n        },\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Provider value={this.state}>\r\n          <Component {...this.props} />\r\n        </AuthUserContext.Provider>\r\n      );\r\n    }\r\n  }\r\n\r\n  return withFirebase(WithAuthentication);\r\n};\r\n\r\nexport default withAuthentication;","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase/index';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst withAuthorization = condition => Component => {\r\n  class WithAuthorization extends React.Component {\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\r\n        authUser => {\r\n          if (!condition(authUser)) {\r\n            this.props.history.push(ROUTES.SIGN_IN);\r\n          }\r\n        },\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Consumer>\r\n        {login =>\r\n          condition(login.authUser) ? <Component {...this.props} /> : null\r\n        }\r\n      </AuthUserContext.Consumer>\r\n      );\r\n    }\r\n  }\r\n\r\n  return compose(\r\n    withRouter,\r\n    withFirebase,\r\n  )(WithAuthorization);\r\n};\r\n\r\nexport default withAuthorization;","import React from 'react';\r\nimport classes from './navigation.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport SignOutButton from '../Partials/SignOut';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { AuthUserContext } from '../Session';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst authAdminMenuItems = [\r\n  ['Tier List', ROUTES.LANDING],\r\n  ['Shops', ROUTES.SHOPS],\r\n  ['Members', ROUTES.MEMBERS],\r\n  ['Photos', ROUTES.PHOTOS],\r\n  ['Recent Reviews', ROUTES.REVIEWS],\r\n  ['My Reviews', ROUTES.HOME],\r\n  ['Account', ROUTES.ACCOUNT],\r\n  ['Admin', ROUTES.ADMIN],\r\n  ['Test', ROUTES.TEST],\r\n];\r\n\r\nconst authMenuItems = [\r\n  ['Tier List', ROUTES.LANDING],\r\n  ['Shops', ROUTES.SHOPS],\r\n  ['Members', ROUTES.MEMBERS],\r\n  ['Photos', ROUTES.PHOTOS],\r\n  ['Recent Reviews', ROUTES.REVIEWS],\r\n  ['My Reviews', ROUTES.HOME],\r\n  ['Account', ROUTES.ACCOUNT],\r\n];\r\n\r\nconst nonAuthMenuItems = [\r\n  ['Tier List', ROUTES.LANDING],\r\n  ['Shops', ROUTES.SHOPS],\r\n  ['Members', ROUTES.MEMBERS],\r\n  ['Photos', ROUTES.PHOTOS],\r\n  ['Recent Reviews', ROUTES.REVIEWS],\r\n  ['Sign In', ROUTES.SIGN_IN],\r\n];\r\n\r\n\r\nconst Navigation = () => (\r\n  <div>\r\n    <AuthUserContext.Consumer>\r\n      {login =>\r\n        login.role === 'admin' ? <NavigationAuth menuItems={authAdminMenuItems} signedIn={true} /> :\r\n          (login.authUser ? <NavigationAuth menuItems={authMenuItems} signedIn={true} /> :\r\n            <NavigationAuth menuItems={nonAuthMenuItems} signedIn={false} />)\r\n      }\r\n    </AuthUserContext.Consumer>\r\n  </div>\r\n);\r\n\r\nclass NavigationAuth extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      active: '',\r\n      barsOpen: false,\r\n    }\r\n  }\r\n\r\n  barsClick = () => {\r\n    this.setState({ barsOpen: !this.state.barsOpen })\r\n  }\r\n  linkClick = () => {\r\n    if (this.state.barsOpen) {\r\n      this.setState({ barsOpen: !this.state.barsOpen })\r\n    }\r\n  }\r\n\r\n  render() {\r\n   const relPath = window.location.href.split('#')[1];\r\n\r\n    let barsOpen = this.state.barsOpen;\r\n    let signoutButton = null;\r\n    if (this.props.signedIn) {\r\n      signoutButton = <SignOutButton />\r\n    }\r\n\r\n    return (\r\n      <div className={`${(barsOpen ? classes.responsive : \"\")} ${classes.navbar}`}>\r\n        {this.props.menuItems.map(([menuItem, route]) =>\r\n          <Link key={menuItem} to={route} onClick={this.linkClick}\r\n            className={relPath===  route ? classes.active : \"\"}>\r\n            {menuItem}\r\n          </Link>\r\n        )}\r\n        <div className={`${(barsOpen ? classes.responsiveSignout : \"\")}`} onClick={this.barsClick}>\r\n          {signoutButton}\r\n        </div>\r\n\r\n\r\n        <a className={`${classes.icon}`} onClick={this.barsClick}>\r\n          <FontAwesomeIcon icon={faBars} size=\"lg\" />\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// const NavigationAuthAdmin = () => (\r\n//   <div className={classes.horizontal}>\r\n//     <Link to={ROUTES.LANDING}>Landing</Link>\r\n//     <Link to={ROUTES.REVIEWS}>Reviews</Link>\r\n//     <Link to={ROUTES.HOME}>Home</Link>\r\n//     <Link to={ROUTES.ACCOUNT}>Account</Link>\r\n//     <Link to={ROUTES.ADMIN}>Admin</Link>\r\n//     <SignOutButton />\r\n//   </div>\r\n// );\r\n\r\n// const NavigationAuth = () => (\r\n//   <div className={classes.horizontal}>\r\n//       <Link to={ROUTES.LANDING}>Landing</Link>\r\n//       <Link to={ROUTES.REVIEWS}>Reviews</Link>\r\n//       <Link to={ROUTES.HOME}>Home</Link>\r\n//       <Link to={ROUTES.ACCOUNT}>Account</Link>\r\n//       <SignOutButton />\r\n//   </div>\r\n// );\r\n\r\n// const NavigationNonAuth = () => (\r\n//   <div className={classes.horizontal}>\r\n//     <Link to={ROUTES.LANDING}>Landing</Link>\r\n//     <Link to={ROUTES.SIGN_IN}>Sign In</Link>\r\n//   </div>\r\n// );\r\n\r\nexport default Navigation;\r\n","import React from 'react';\r\nimport { withFirebase } from '../../Firebase';\r\nimport classes from './landing.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\r\nimport { faUsers } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport { ClipLoader } from 'react-spinners';\r\nimport { css } from '@emotion/core';\r\n\r\nclass Landing extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      reviews: {},\r\n      grades: {},\r\n      tierList: {},\r\n      loading: true\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getAllReviewList();\r\n  }\r\n\r\n  getAllReviewList() {\r\n    this.props.firebase.bobaShopReviews().on('value', snapshot => {\r\n      const reviewsObject = snapshot.val();\r\n      if (reviewsObject) {\r\n        this.setState({\r\n          reviews: reviewsObject,\r\n        }, () => {\r\n          this.gradeReviews();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  gradeReviews() {\r\n    let count = 0;\r\n    let finalScore = 0;\r\n    let score1Total = 0; let score2Total = 0; let score3Total = 0; let score4Total = 0;\r\n    let score5Total = 0; let score6Total = 0; let score7Total = 0; let score8Total = 0;\r\n    let reviewCount = 0;\r\n    let grades = {};\r\n\r\n    for (let shop in this.state.reviews) {\r\n      for (let user in this.state.reviews[shop]) {\r\n        let userReview = this.state.reviews[shop][user];\r\n        score1Total += userReview.score1;\r\n        score2Total += userReview.score2;\r\n        score3Total += userReview.score3;\r\n        score4Total += userReview.score4;\r\n        score5Total += userReview.score5;\r\n        score6Total += userReview.score6;\r\n        score7Total += userReview.score7;\r\n        score8Total += userReview.score8;\r\n        count++;\r\n        reviewCount++;\r\n      }\r\n\r\n      finalScore = (parseFloat(score1Total) + parseFloat(score2Total) + parseFloat(score3Total) + parseFloat(score4Total) +\r\n        parseFloat(score5Total) + parseFloat(score6Total) + parseFloat(score7Total) + parseFloat(score8Total)) / (count * 8);\r\n      grades[shop] = {\r\n        shopName: shop,\r\n        finalScore: finalScore,\r\n        reviewCount: reviewCount\r\n      }\r\n\r\n      count = score1Total = score2Total = score3Total = score4Total = score5Total = score6Total = score7Total = score8Total = reviewCount = 0;\r\n    }\r\n\r\n    const orderedGrades = {};\r\n    Object.keys(grades).sort().forEach(function (key) {\r\n      orderedGrades[key] = grades[key];\r\n    });\r\n\r\n    this.setState({\r\n      grades: orderedGrades\r\n    })\r\n    console.log(grades);\r\n\r\n    let tierList = {\r\n      S: [],\r\n      A: [],\r\n      B: [],\r\n      C: [],\r\n      D: [],\r\n      E: [],\r\n      F: [],\r\n    }\r\n\r\n    for (let shop in grades) {\r\n      const finalScore = grades[shop].finalScore;\r\n      const name = grades[shop].shopName;\r\n\r\n      if (finalScore >= 4.75) {\r\n        tierList.S.push(name)\r\n      } else if (4.25 <= finalScore && finalScore < 4.75) {\r\n        tierList.A.push(name)\r\n      } else if (3.5 <= finalScore && finalScore < 4.25) {\r\n        tierList.B.push(name)\r\n      } else if (2.75 <= finalScore && finalScore < 3.5) {\r\n        tierList.C.push(name)\r\n      } else if (2 <= finalScore && finalScore < 2.75) {\r\n        tierList.D.push(name)\r\n      } else if (1 <= finalScore && finalScore < 2) {\r\n        tierList.E.push(name)\r\n      } else if (finalScore < 1) {\r\n        tierList.F.push(name)\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      tierList: tierList,\r\n      loading: false\r\n    });\r\n    console.log(tierList);\r\n    console.log(grades);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.firebase.bobaShopReviews().off();\r\n  }\r\n\r\n  render() {\r\n    const { tierList } = this.state;\r\n\r\n    const divStyle = {\r\n      display: 'inline',\r\n    };\r\n\r\n    const tiersStyle = {\r\n      padding: '3px'\r\n    }\r\n\r\n    const buttonStyle = {\r\n      color: 'black',\r\n      border: '1px solid #ccc',\r\n    }\r\n\r\n    const override = css`\r\n    display: block;\r\n    margin: 120px auto;\r\n    `;\r\n\r\n    return (\r\n      <div className={`container`}>\r\n        <div className={`row`}>\r\n          <div className={`col-12 ${classes.header}`}>\r\n            <h5>Tier List</h5>\r\n          </div>\r\n        </div>\r\n        <div className={`${classes.tierList}`}>\r\n          {Object.entries(tierList).map(([tier, list]) => (\r\n            <div key={tier} style={tiersStyle} className={`row ${classes.row}`}>\r\n              <div className={`col-2 col-md-1`}>\r\n                <button className={`btn btn-default ${classes.tierLabel}`} style={buttonStyle}>{tier}</button>\r\n              </div>\r\n              <div className={`col-10 col-md-11`}>\r\n                {\r\n                  list.map((shop, index) => (\r\n                    <div key={index} style={divStyle}>\r\n\r\n                      <Link className={`${classes.tierItem}`} to={{ pathname: ROUTES.SHOPS, state: { shop: shop } }}>\r\n                        {shop}\r\n                      </Link>\r\n\r\n                      , &nbsp;\r\n                  </div>\r\n                  ))\r\n                }\r\n              </div>\r\n\r\n            </div>\r\n          ))}\r\n          <div className='sweet-loading'>\r\n            <ClipLoader\r\n              sizeUnit={\"px\"}\r\n              css={override}\r\n              size={70}\r\n              color={'#61aceb'}\r\n              loading={this.state.loading}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n      </div >\r\n\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withFirebase(Landing);","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport PasswordMask from 'react-password-mask';\r\n\r\nimport classes from './signUp.module.css';\r\nimport { withFirebase } from '../../Firebase';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nconst signUpPageStyle = {\r\n    margin: \"10px\"\r\n}\r\n\r\nconst SignUpPage = () => (\r\n    <div style={signUpPageStyle}>\r\n        <h5> Sign Up </h5>\r\n        <SignUpForm />\r\n    </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n    username: '',\r\n    email: '',\r\n    passwordOne: '',\r\n    error: null,\r\n};\r\n\r\nclass SignUpFormBase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { ...INITIAL_STATE };\r\n    }\r\n\r\n    onSubmit = event => {\r\n        const { username, email, passwordOne } = this.state;\r\n\r\n        this.props.firebase\r\n            .doCreateUserWithEmailAndPassword(email, passwordOne)\r\n            .then(authUser => {\r\n\r\n                return this.props.firebase\r\n                    .user(authUser.user.uid)\r\n                    .set({\r\n                        username,\r\n                        email,\r\n                    });\r\n            })\r\n            .then(() => {\r\n                this.setState({ ...INITIAL_STATE });\r\n                this.props.history.push(ROUTES.HOME);\r\n            })\r\n            .catch(error => {\r\n                this.setState({ error });\r\n            });\r\n\r\n        event.preventDefault();\r\n    };\r\n\r\n    onChange = event => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const formStyle = {\r\n            margin: \"10px\",\r\n            padding: \"10px\"\r\n        }\r\n\r\n        const {\r\n            username,\r\n            email,\r\n            passwordOne,\r\n            error,\r\n        } = this.state;\r\n\r\n        const isInvalid =\r\n            passwordOne === '' ||\r\n            email === '' ||\r\n            username === '';\r\n\r\n        return (\r\n            <form onSubmit={this.onSubmit}>\r\n                <input name=\"username\"\r\n                    value={username}\r\n                    onChange={this.onChange}\r\n                    type=\"text\"\r\n                    placeholder=\"Name\"\r\n                    className={classes.inputStyle} />\r\n                <input name=\"email\"\r\n                    value={email}\r\n                    onChange={this.onChange}\r\n                    type=\"text\"\r\n                    placeholder=\"Email Address\"\r\n                    className={classes.inputStyle} />\r\n                <PasswordMask name=\"passwordOne\"\r\n                    placeholder=\"Password\"\r\n                    value={passwordOne}\r\n                    onChange={this.onChange}\r\n                    buttonClassName={classes.maskButton}\r\n                    inputClassName={classes.inputStyle} />\r\n\r\n                <button disabled={isInvalid}\r\n                    className=\"btn btn-primary\"\r\n                    type=\"submit\" >\r\n                    Sign Up\r\n                </button>\r\n\r\n                {error && <p className={classes.error}> {error.message} </p>}\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nconst SignUpLink = () => (\r\n    <p>\r\n        Don 't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\r\n    </p>\r\n);\r\n\r\nconst SignUpForm = withRouter(withFirebase(SignUpFormBase));\r\n\r\nexport default SignUpPage;\r\n\r\nexport { SignUpForm, SignUpLink };","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { withFirebase } from '../../Firebase';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nconst PasswordForgetPage = () => (\r\n  <div>\r\n    <h5>PasswordForget</h5>\r\n    <PasswordForgetForm />\r\n  </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  error: null,\r\n};\r\n\r\nclass PasswordForgetFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { email } = this.state;\r\n\r\n    this.props.firebase\r\n      .doPasswordReset(email)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, error } = this.state;\r\n\r\n    const isInvalid = email === '';\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <input\r\n          name=\"email\"\r\n          value={this.state.email}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Email Address\"\r\n        />\r\n        <button disabled={isInvalid} type=\"submit\">\r\n          Reset My Password\r\n        </button>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst PasswordForgetLink = () => (\r\n  <p>\r\n    <Link to={ROUTES.PASSWORD_FORGET}>Forgot Password?</Link>\r\n  </p>\r\n);\r\n\r\nexport default PasswordForgetPage;\r\n\r\nconst PasswordForgetForm = withFirebase(PasswordForgetFormBase);\r\n\r\nexport { PasswordForgetForm, PasswordForgetLink };\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\nimport PasswordMask from 'react-password-mask';\r\n\r\nimport classes from './signIn.module.css';\r\nimport { SignUpLink } from '../../Partials/SignUp';\r\nimport { PasswordForgetLink } from '../../Partials/PasswordForget';\r\nimport { withFirebase } from '../../Firebase';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nconst signInPageStyle = {\r\n  margin:\"20px\"\r\n}\r\nconst SignInPage = () => (\r\n  <div style={signInPageStyle}>\r\n    <h5>Sign In</h5>\r\n    <SignInForm />\r\n    <PasswordForgetLink />\r\n    <SignUpLink />\r\n  </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  password: '',\r\n  error: null,\r\n};\r\n\r\nclass SignInFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { email, password } = this.state;\r\n\r\n    this.props.firebase\r\n      .doSignInWithEmailAndPassword(email, password)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n        this.props.history.push(ROUTES.HOME);\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, password, error } = this.state;\r\n\r\n    const isInvalid = password === '' || email === '';\r\n\r\n    const signInButtonStyle = {\r\n      marginTop:\"8px\",\r\n    }\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <input\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Email Address\"\r\n          className={classes.inputStyle}\r\n        />\r\n        <PasswordMask\r\n          name=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={this.onChange}\r\n          buttonClassName={classes.maskButton}\r\n          inputClassName={classes.inputStyle}\r\n        />\r\n        <button className={`btn btn-primary`}  style={signInButtonStyle} disabled={isInvalid} type=\"submit\">\r\n          Sign In\r\n        </button>\r\n\r\n        {error && <p className={classes.error}>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst SignInForm = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(SignInFormBase);\r\n\r\nexport default SignInPage;\r\n\r\nexport { SignInForm };\r\n","import React, { Component } from 'react';\r\nimport classes from './reviewCard.module.css';\r\nimport StarRatings from 'react-star-ratings';\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nconst dateOptions = { weekday: 'long', hour: 'numeric', minute: 'numeric', year: 'numeric', month: 'short', day: 'numeric' };\r\n\r\nclass ReviewCard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const inlineStyle={\r\n            display:\"inline\",\r\n            paddingLeft:\"4px\",\r\n            paddingRight:\"4px\"\r\n        }\r\n\r\n        return (\r\n            <div className={`${classes.reviewCard}`}>\r\n                <Link className={`${classes.headerLink}`} to={{ pathname: ROUTES.SHOPS, state: { shop: this.props.shop } }}>\r\n                    {this.props.shop}\r\n                </Link>\r\n                {this.props.shop != undefined && this.props.username != undefined ?\r\n                    <div style={inlineStyle}>-</div>\r\n                    : <div></div>}\r\n                <Link className={`${classes.headerLink}`} to={{ pathname: ROUTES.MEMBERS, state: { userid: this.props.userid, username: this.props.username } }}>\r\n                    {this.props.username}\r\n                </Link>\r\n                <div className={`row ${classes.borderTop}`}>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Drink Quality</p>\r\n                        <StarRatings\r\n                            rating={this.props.score1}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Sweet Boba</p>\r\n                        <StarRatings\r\n                            rating={this.props.score2}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Chewy Boba</p>\r\n                        <StarRatings\r\n                            rating={this.props.score3}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Customize</p>\r\n                        <StarRatings\r\n                            rating={this.props.score4}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Consistent</p>\r\n                        <StarRatings\r\n                            rating={this.props.score5}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Variety</p>\r\n                        <StarRatings\r\n                            rating={this.props.score6}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Price</p>\r\n                        <StarRatings\r\n                            rating={this.props.score7}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Overall</p>\r\n                        <StarRatings\r\n                            rating={this.props.score8}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className={`row`}>\r\n                    <div className={`col-sm-12 ${classes.note}`}>\r\n                        <p>{this.props.note}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {this.props.isHomeCard ?\r\n                    <div>\r\n                        <button className={`btn btn-info ${classes.updateButton}`} onClick={() => this.props.editReview(this.props.review)}>Edit</button>\r\n                        <button className={`btn btn-danger ${classes.updateButton}`} onClick={() => this.props.deleteReview(this.props.shop)}>Delete</button>\r\n                    </div>\r\n                    : <div></div>}\r\n\r\n                {this.props.isReviewsCard ?\r\n                    <div className={`${classes.dateTime}`}>\r\n                        <i> {new Date(this.props.dateTime).toLocaleDateString(\"en-US\", dateOptions)}</i>\r\n                    </div>\r\n                    : <div></div>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default ReviewCard;\r\n\r\n","import React from 'react';\r\nimport Autosuggest from 'react-autosuggest';\r\nimport { withFirebase } from '../../Firebase';\r\nimport theme from './theme.css';\r\n// import classes from '*.module.css';\r\n\r\nlet bobaShops = [\r\n];\r\n\r\n// Teach Autosuggest how to calculate suggestions for any given input value.\r\nconst getSuggestions = value => {\r\n  const inputValue = value.trim().toLowerCase();\r\n  const inputLength = inputValue.length;\r\n\r\n  return inputLength === 0 ? [] : bobaShops.filter(shop =>\r\n    shop.name.toLowerCase().slice(0, inputLength) === inputValue\r\n  );\r\n};\r\n\r\n// When suggestion is clicked, Autosuggest needs to populate the input\r\n// based on the clicked suggestion. Teach Autosuggest how to calculate the\r\n// input value for every given suggestion.\r\nconst getSuggestionValue = suggestion => suggestion.name;\r\n\r\n// Use your imagination to render suggestions.\r\nconst renderSuggestion = suggestion => (\r\n  <div>\r\n    {suggestion.name}\r\n  </div>\r\n);\r\n\r\nclass AutoSuggestShops extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // Autosuggest is a controlled component.\r\n    // This means that you need to provide an input value\r\n    // and an onChange handler that updates this value (see below).\r\n    // Suggestions also need to be provided to the Autosuggest,\r\n    // and they are initially empty because the Autosuggest is closed.\r\n    this.state = {\r\n      value: this.props.bobaShop,\r\n      suggestions: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.firebase.bobaShops().on('value', snapshot => {\r\n      const bobaShopsObject = snapshot.val();\r\n      if (bobaShopsObject) {\r\n        const bobaShopsList = Object.keys(bobaShopsObject).map(key => ({\r\n          name: key,\r\n        }))\r\n        bobaShops = bobaShopsList;\r\n      }\r\n    });\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    this.setState({ value: props.bobaShop });\r\n  }\r\n\r\n  onChange = (event, { newValue }) => {\r\n    this.setState({\r\n      value: newValue\r\n    });\r\n    this.props.getInputData(newValue);\r\n\r\n  };\r\n\r\n  // Autosuggest will call this function every time you need to update suggestions.\r\n  // You already implemented this logic above, so just use it.\r\n  onSuggestionsFetchRequested = ({ value }) => {\r\n    this.setState({\r\n      suggestions: getSuggestions(value)\r\n    });\r\n  };\r\n\r\n  onSuggestionSelected = (event, { suggestion, suggestionValue, suggestionIndex, sectionIndex, method }) => {\r\n    this.props.getSelectedData(suggestionValue);\r\n  }\r\n\r\n\r\n  // Autosuggest will call this function every time you need to clear suggestions.\r\n  onSuggestionsClearRequested = () => {\r\n    this.setState({\r\n      suggestions: []\r\n    });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.props.firebase.bobaShops().off();\r\n  }\r\n\r\n\r\n  render() {\r\n    const { value, suggestions } = this.state;\r\n\r\n    // Autosuggest will pass through all these props to the input.\r\n    const inputProps = {\r\n      placeholder: 'Enter shop name',\r\n      value,\r\n      onChange: this.onChange\r\n    };\r\n\r\n    // Finally, render it!\r\n    return (\r\n\r\n      <Autosuggest\r\n        suggestions={suggestions}\r\n        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\r\n        onSuggestionSelected={this.onSuggestionSelected}\r\n        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\r\n        getSuggestionValue={getSuggestionValue}\r\n        renderSuggestion={renderSuggestion}\r\n        inputProps={inputProps}\r\n      //styling from theme.css   \r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(AutoSuggestShops);\r\n","import React from 'react';\r\nimport classes from './home.module.css';\r\nimport { withAuthorization, AuthUserContext } from '../../Session';\r\nimport { withFirebase } from '../../Firebase';\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../../constants/routes';\r\nimport ReviewCard from '../../Partials/ReviewCard'\r\n\r\nimport StarRatings from 'react-star-ratings';\r\nimport AutoSuggestShops from '../../ThirdParty/AutoSuggestShops/index';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport { ClipLoader } from 'react-spinners';\r\nimport { css } from '@emotion/core';\r\n\r\n\r\nconst INITIAL_STATE = {\r\n  bobaShop: '',\r\n  location: '',\r\n  score1: 1,\r\n  score2: 1,\r\n  score3: 1,\r\n  score4: 1,\r\n  score5: 1,\r\n  score6: 1,\r\n  score7: 1,\r\n  score8: 1,\r\n  note: \"\",\r\n  error: null,\r\n};\r\n\r\nclass HomePage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { formValues: INITIAL_STATE };\r\n    this.editFormValues = this.editFormValues.bind(this);\r\n  }\r\n\r\n  editFormValues(params) {\r\n    params.score1 = parseInt(params.score1);\r\n    params.score2 = parseInt(params.score2);\r\n    params.score3 = parseInt(params.score3);\r\n    params.score4 = parseInt(params.score4);\r\n    params.score5 = parseInt(params.score5);\r\n    params.score6 = parseInt(params.score6);\r\n    params.score7 = parseInt(params.score7);\r\n    params.score8 = parseInt(params.score8);\r\n    this.setState({ formValues: params });\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  render() {\r\n\r\n    // <div className={`col-sm-6\" ${classes.scroll}`}></div>\r\n    return (\r\n      <div className={classes.Content}>\r\n        <div className={`row\" ${classes.Wrapper}`}>\r\n          <div className={`col-12 col-sm-6\" ${classes.left}`}>\r\n            <NewReview formValues={this.state.formValues} />\r\n          </div>\r\n          <div className={`col-12 col-sm-6\" ${classes.right}`}>\r\n            <MyReviews editReview={this.editFormValues} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\n\r\nclass NewReviewBase extends React.Component {\r\n  static contextType = AuthUserContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.formValues;\r\n    this.getAutosuggestInput = this.getAutosuggestInput.bind(this);\r\n    this.getAutoSuggestSelected = this.getAutoSuggestSelected.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    this.setState(props.formValues);\r\n\r\n    const bobaShopAndLocation = props.formValues.bobaShop;\r\n    const shop = bobaShopAndLocation.substr(0, bobaShopAndLocation.indexOf('(') - 1);\r\n    const location = bobaShopAndLocation.substring(\r\n      bobaShopAndLocation.lastIndexOf(\"(\") + 1,\r\n      bobaShopAndLocation.lastIndexOf(\")\")\r\n    );\r\n    this.setState({\r\n      bobaShop: shop,\r\n      location: location\r\n    });\r\n  }\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const { score1, score2, score3, score4, score5, score6, score7, score8, note } = this.state;\r\n    const dateTime = new Date().toLocaleString();\r\n    const userId = this.context.authUser.uid;\r\n    const username = this.context.username;\r\n    const comment = \"\";\r\n\r\n    const bobaShop = this.state.bobaShop.trim();\r\n    const location = this.state.location.trim();\r\n    const bobaShopAndLocation = bobaShop + ' (' + location + ')';\r\n\r\n    this.props.firebase\r\n      .bobaShopUserReview(bobaShopAndLocation, userId)\r\n      .update({\r\n        username,\r\n        score1,\r\n        score2,\r\n        score3,\r\n        score4,\r\n        score5,\r\n        score6,\r\n        score7,\r\n        score8,\r\n        note,\r\n        dateTime,\r\n        comment\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    this.props.firebase\r\n      .userReview(userId, bobaShopAndLocation)\r\n      .update({\r\n        username,\r\n        score1,\r\n        score2,\r\n        score3,\r\n        score4,\r\n        score5,\r\n        score6,\r\n        score7,\r\n        score8,\r\n        note,\r\n        dateTime,\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    this.props.firebase\r\n      .bobaShop(bobaShopAndLocation)\r\n      .update({\r\n        bobaShop: bobaShopAndLocation,\r\n      })\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n        this.notify();\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  onChangeScore = (rating, name) => {\r\n    this.setState({ [name]: rating });\r\n  };\r\n\r\n  getAutosuggestInput(value) {\r\n    this.setState({ bobaShop: value })\r\n  }\r\n  getAutoSuggestSelected(value) {\r\n    const shop = value.substr(0, value.indexOf('(') - 1);\r\n    const location = value.substring(\r\n      value.lastIndexOf(\"(\") + 1,\r\n      value.lastIndexOf(\")\")\r\n    );\r\n    this.setState({\r\n      bobaShop: shop,\r\n      location: location\r\n    });\r\n  }\r\n\r\n  notify = () => toast(\"Review added\");\r\n\r\n  render() {\r\n    const {\r\n      bobaShop,\r\n      location,\r\n      score1,\r\n      score2,\r\n      score3,\r\n      score4,\r\n      score5,\r\n      score6,\r\n      score7,\r\n      score8,\r\n      note,\r\n      error,\r\n    } = this.state;\r\n\r\n    const scores = [score1, score2, score3, score4, score5, score6, score7, score8];\r\n    const scoreNames = [\"Drink Quality:\", \"Sweet Boba:\", \"Chewy Boba:\", \"Customize:\", \"Consistent:\", \"Variety:\", \"Price:\", \"Overall:\"];\r\n\r\n    const ratingInputs = []\r\n    for (const [index, value] of scores.entries()) {\r\n      ratingInputs.push(\r\n        <div key={index} className={`row`}>\r\n          <p className={`${classes.scoreReviewHeader}`}>\r\n            {scoreNames[index]}\r\n          </p>\r\n          <div className={`${classes.starRating}`}>\r\n            <StarRatings\r\n              rating={value}\r\n              starRatedColor=\"#0099ff\"\r\n              starHoverColor=\"#66ccff\"\r\n              changeRating={this.onChangeScore}\r\n              numberOfStars={5}\r\n              name={\"score\" + (index + 1)}\r\n              starDimension=\"20px\"\r\n            /></div>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    const isInvalid =\r\n      bobaShop === '' ||\r\n      bobaShop.indexOf('(') > -1 ||\r\n      bobaShop.indexOf(')') > -1 ||\r\n      location === '' ||\r\n      score1 === '' ||\r\n      score2 === '' ||\r\n      score3 === '' ||\r\n      score4 === '' ||\r\n      score5 === '' ||\r\n      score6 === '' ||\r\n      score7 === '' ||\r\n      score8 === '';\r\n\r\n    return (\r\n      <div className={`container ${classes.well}`}>\r\n        <ToastContainer />\r\n        <form onSubmit={this.onSubmit} className={classes.submitForm}>\r\n          <div className={`row`}>\r\n            <div className={`col-xs-12 ${classes.inputTop}`}>\r\n              <h5>New Review</h5>\r\n              <AutoSuggestShops\r\n                getInputData={this.getAutosuggestInput}\r\n                getSelectedData={this.getAutoSuggestSelected}\r\n                bobaShop={bobaShop} />\r\n              <input name=\"location\"\r\n                value={location}\r\n                onChange={this.onChange}\r\n                type=\"text\"\r\n                className={`${classes.locationInput}`}\r\n                placeholder=\"Enter location\" />\r\n            </div>\r\n          </div>\r\n\r\n          {ratingInputs}\r\n\r\n          <div className={`row`}>\r\n            <textarea name=\"note\"\r\n              value={note}\r\n              onChange={this.onChange}\r\n              type=\"text\"\r\n              placeholder=\"Note\"\r\n              className={`${classes.textarea}`}\r\n            />\r\n          </div>\r\n          <div className={`row`}>\r\n            <button className={`btn btn-primary ${classes.submitButton}`} disabled={isInvalid} type=\"submit\">\r\n              Submit\r\n            </button>\r\n          </div>\r\n\r\n          {error && <p>{error.message}</p>}\r\n        </form>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nclass MyReviewsBase extends React.Component {\r\n  static contextType = AuthUserContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      myReviews: [],\r\n      loading: true\r\n    };\r\n\r\n    this.deleteReview = this.deleteReview.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getReviewList();\r\n  }\r\n\r\n  deleteReview(key) {\r\n    console.log('hello', key)\r\n    var result = window.confirm(\"Are you sure you want to delete?\");\r\n    if (result) {\r\n      this.props.firebase.userReviews(this.context.authUser.uid).child(key).remove();\r\n      this.props.firebase.bobaShopUserReviews(key).child(this.context.authUser.uid).remove();\r\n      this.props.firebase.bobaShops().child(key).remove();\r\n    }\r\n  }\r\n\r\n  getReviewList() {\r\n    const userId = this.context.authUser.uid\r\n\r\n    this.props.firebase.userReviews(userId).on('value', snapshot => {\r\n      const myReviewsObject = snapshot.val();\r\n      if (myReviewsObject) {\r\n        console.log('hh', myReviewsObject);\r\n        const myReviewsList = Object.keys(myReviewsObject).map(key => ({\r\n          bobaShop: key,\r\n          ...myReviewsObject[key],\r\n        }))\r\n\r\n        this.setState({\r\n          myReviews: myReviewsList,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          myReviews: [],\r\n        });\r\n      }\r\n      this.setState({\r\n        loading: false,\r\n      });\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.firebase.userReviews().off();\r\n  }\r\n\r\n  render() {\r\n    const { myReviews, loading } = this.state;\r\n    const override = css`\r\n    display: block;\r\n    margin: 150px auto;\r\n    `;\r\n\r\n    return (\r\n      <div>\r\n        <h5 className={`${classes.rightHeader}`}>\r\n          My Reviews\r\n        </h5>\r\n        <div className='sweet-loading'>\r\n          <ClipLoader\r\n            sizeUnit={\"px\"}\r\n            css={override}\r\n            size={70}\r\n            color={'#61aceb'}\r\n            loading={this.state.loading}\r\n          />\r\n        </div>\r\n        {!loading && (myReviews === undefined || myReviews.length == 0) ?\r\n          <div className={`${classes.noReviewsWell}`}>\r\n            No Reviews Added.\r\n            </div>\r\n          :\r\n          <ul>\r\n            {myReviews.map(review => (\r\n              <li key={review.bobaShop} className={``}>\r\n                <ReviewCard isHomeCard=\"true\" review={review} editReview={this.props.editReview} deleteReview={this.deleteReview}\r\n                  shop={review.bobaShop} note={review.note}\r\n                  score1={review.score1} score2={review.score2}\r\n                  score3={review.score3} score4={review.score4}\r\n                  score5={review.score5} score6={review.score6}\r\n                  score7={review.score7} score8={review.score8} />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nconst NewReview = withFirebase(withAuthorization(condition)(NewReviewBase));\r\nconst MyReviews = withFirebase(withAuthorization(condition)(MyReviewsBase));\r\n\r\nexport default HomePage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Modal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.node = React.createRef()\r\n\r\n        this.state = {\r\n            comment: \"\"\r\n        }\r\n\r\n    }\r\n\r\n    handleContainerClick = (e) => {\r\n        if (this.node.contains(e.target)) {\r\n            return;\r\n        }\r\n        this.props.onClose();\r\n    }\r\n\r\n    onChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n\r\n    render() {\r\n        // Render nothing if the \"show\" prop is false\r\n        if (!this.props.show) {\r\n            return null;\r\n        }\r\n\r\n        // The gray background\r\n        const backdropStyle = {\r\n            position: 'fixed',\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n            backgroundColor: 'rgba(0,0,0,0.1)',\r\n            padding: 50\r\n        };\r\n\r\n        // The modal \"window\"\r\n        const modalStyle = {\r\n            backgroundColor: 'white',\r\n            borderRadius: 5,\r\n            maxWidth: 500,\r\n            minHeight: 300,\r\n            margin: '10% auto',\r\n            padding: 30,\r\n        };\r\n\r\n        const parentContentStyle = {\r\n            marginBottom: '10px'\r\n        }\r\n\r\n        const buttonStyle = {\r\n            display: 'inline',\r\n            marginRight: '6px'\r\n        }\r\n\r\n        const buttonsStyle = {\r\n            paddingTop: '10px',\r\n            float: 'right'\r\n        }\r\n\r\n        const shop = this.props.commentModal.shop;\r\n        const uid = this.props.commentModal.uid;\r\n        const {comment} = this.state;\r\n        const isInvalid = comment === ''\r\n        \r\n        return (\r\n            <div style={backdropStyle} onClick={this.handleContainerClick}>\r\n                <div style={modalStyle} ref={node => this.node = node}>\r\n                    <div style={parentContentStyle}>\r\n                        {this.props.children}\r\n                    </div>\r\n                    <div className=\"footer\">\r\n                        <textarea autoFocus={true} onChange={this.onChange} name=\"comment\" className='form-control' rows='3'></textarea>\r\n                        <div style={buttonsStyle}>\r\n                            <button style={buttonStyle} className='btn btn-info' onClick={this.props.onClose}>\r\n                                Cancel\r\n                            </button>\r\n                            <button className='btn btn-success' \r\n                            disabled={isInvalid}\r\n                            onClick={() => this.props.submitComment(shop, uid, comment)}>\r\n                                Submit\r\n                            </button>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// Modal.propTypes = {\r\n//   onClose: PropTypes.func.isRequired,\r\n//   show: PropTypes.bool,\r\n//   children: PropTypes.node\r\n// };\r\n\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport classes from './reviewCommentsCard.module.css';\r\nimport StarRatings from 'react-star-ratings';\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nconst dateOptions = { weekday: 'long', hour: 'numeric', minute: 'numeric', year: 'numeric', month: 'short', day: 'numeric' };\r\n\r\nclass ReviewCommentsCard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const normal = {\r\n            fontWeight:\"normal\"\r\n        }\r\n\r\n        const inlineStyle = {\r\n            display: \"inline\",\r\n            paddingLeft: \"4px\",\r\n            paddingRight: \"4px\"\r\n        }\r\n\r\n        return (\r\n            <div className={`${classes.reviewCard}`}>\r\n                <Link className={`${classes.headerLink}`} to={{ pathname: ROUTES.SHOPS, state: { shop: this.props.shop } }}>\r\n                    {this.props.shop}\r\n                </Link>\r\n                {this.props.shop != undefined && this.props.username != undefined ?\r\n                    <div style={inlineStyle}>-</div>\r\n                    : <div></div>}\r\n                <Link className={`${classes.headerLink}`} to={{ pathname: ROUTES.MEMBERS, state: { userid: this.props.uid, username: this.props.username } }}>\r\n                    {this.props.username}\r\n                </Link>\r\n                <div className={`row ${classes.borderTop}`}>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Drink Quality</p>\r\n                        <StarRatings\r\n                            rating={this.props.score1}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Sweet Boba</p>\r\n                        <StarRatings\r\n                            rating={this.props.score2}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Chewy Boba</p>\r\n                        <StarRatings\r\n                            rating={this.props.score3}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Customize</p>\r\n                        <StarRatings\r\n                            rating={this.props.score4}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Consistent</p>\r\n                        <StarRatings\r\n                            rating={this.props.score5}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Variety</p>\r\n                        <StarRatings\r\n                            rating={this.props.score6}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Price</p>\r\n                        <StarRatings\r\n                            rating={this.props.score7}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                    <div className={`col-4 col-lg-3 ${classes.scoreLine}`}>\r\n                        <p className={classes.scoreHeader}>Overall</p>\r\n                        <StarRatings\r\n                            rating={this.props.score8}\r\n                            starRatedColor=\"#0099ff\"\r\n                            starHoverColor=\"#66ccff\"\r\n                            numberOfStars={5}\r\n                            name=\"score1\"\r\n                            starDimension=\"12px\"\r\n                            starSpacing=\"2px\"\r\n                            isSelectable=\"false\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className={`row`}>\r\n                    <div className={`col-sm-12 ${classes.note}`}>\r\n                        <p>{this.props.note}</p>\r\n                    </div>\r\n                </div>\r\n                <div className={`col-sm-12 ${classes.comments}`}>\r\n                    {\r\n                        this.props.comments ?\r\n                            <div className={`${classes.commentsWell}`}>\r\n                                <div>\r\n                                    {this.props.comments.map((comment, index) => (\r\n                                        <div key={index} className={`${classes.commentWell}`}>\r\n                                            <div className={`${classes.commentText}`}>\r\n                                                <p>{comment.username} <span style={normal}>{comment.comment}</span></p>\r\n                                                <p className={`${classes.dateTime}`}><i> {new Date(comment.dateTime).toLocaleDateString(\"en-US\", dateOptions)}</i></p>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                                <div>\r\n                                    {\r\n                                        this.props.authUser ?\r\n                                            <button className={`btn btn-info ${classes.addCommentButton}`} onClick={() => this.props.toggleModal(this.props.shop, this.props.uid)}>\r\n                                                Comment\r\n                                                            </button>\r\n                                            : <div></div>\r\n                                    }\r\n\r\n                                </div>\r\n                            </div>\r\n                            :\r\n                            this.props.authUser ?\r\n                                <div className={`${classes.commentsWell}`}>\r\n                                    <button className={`btn btn-info ${classes.addCommentButton}`} onClick={() => this.props.toggleModal(this.props.shop, this.props.uid)}>\r\n                                        Comment\r\n                                                            </button>\r\n                                </div>\r\n                                :\r\n                                <div></div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default ReviewCommentsCard;\r\n\r\n","import React from 'react';\r\nimport { withFirebase } from '../../Firebase';\r\nimport { withAuthorization, AuthUserContext } from '../../Session';\r\nimport classes from './review.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nimport StarRatings from 'react-star-ratings';\r\nimport Modal from './reviewModal';\r\nimport ReviewCommentsCard from '../../Partials/ReviewCommentsCard'\r\n\r\nimport { ClipLoader } from 'react-spinners';\r\nimport { css } from '@emotion/core';\r\n\r\nconst dateOptions = { weekday: 'long', hour: 'numeric', minute: 'numeric', year: 'numeric', month: 'short', day: 'numeric' };\r\n\r\nclass Reviews extends React.Component {\r\n    static contextType = AuthUserContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            reviews: {},\r\n            sortedReviews: [],\r\n            sortedReviewsCopy: [],\r\n            commentModal: {\r\n                shop: \"\",\r\n                uid: \"\"\r\n            },\r\n            modalIsOpen: false,\r\n            currentTime: new Date(),\r\n            loading: true,\r\n            contextUid:\"\",\r\n            contextUsername:\"\"\r\n          \r\n        }\r\n\r\n        this.submitComment = this.submitComment.bind(this);\r\n        this.toggleModal = this.toggleModal.bind(this);\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.context.authUser != null){\r\n            this.setState({\r\n                contextUid:this.context.authUser.uid,\r\n                contextUsername:this.context.username\r\n            });\r\n        }\r\n        this.getAllReviewList();\r\n        // this.interval = setInterval(() => this.setState({ currentTime: new Date() }), 1000);\r\n    }\r\n\r\n    getAllReviewList() {\r\n        this.props.firebase.bobaShopReviews().on('value', snapshot => {\r\n            const reviewsObject = snapshot.val();\r\n            if (reviewsObject) {\r\n                this.setState({\r\n                    reviews: reviewsObject,\r\n                }, () => {\r\n                    this.sortReviews();\r\n                });\r\n            }\r\n            this.setState({\r\n                loading: false\r\n            });\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.firebase.bobaShopReviews().off();\r\n        // clearInterval(this.interval);\r\n    }\r\n\r\n\r\n    sortReviews() {\r\n        let sortedReviews = [];\r\n        for (let shop in this.state.reviews) {\r\n            for (let uid in this.state.reviews[shop]) {\r\n                let review = {\r\n                    ...this.state.reviews[shop][uid],\r\n                    shop: shop,\r\n                    uid: uid,\r\n                };\r\n                if (review.comments) {\r\n\r\n                    review.comments = Object.keys(review.comments).map(key => ({\r\n                        ...review.comments[key],\r\n                        uid: key,\r\n                    }));\r\n                    review.comments.sort(function (a, b) {\r\n                        return new Date(a.dateTime) - new Date(b.dateTime);\r\n                    });\r\n                }\r\n                sortedReviews.push(review);\r\n            }\r\n        }\r\n        sortedReviews.sort(function (a, b) {\r\n            return new Date(b.dateTime) - new Date(a.dateTime);\r\n        });\r\n        sortedReviews = sortedReviews.splice(0, 50); //show top 50 reviews\r\n        this.setState({ sortedReviews: sortedReviews });\r\n    }\r\n\r\n    toggleModal = (shop, uid) => {\r\n        console.log(shop, uid)\r\n        const commentModal = { ...this.state.commentModal };\r\n        commentModal.shop = shop;\r\n        commentModal.uid = uid;\r\n\r\n        this.setState({\r\n            modalIsOpen: !this.state.modalIsOpen,\r\n            commentModal: commentModal\r\n        });\r\n    }\r\n\r\n    submitComment(shop, uid, comment) {\r\n        const {contextUid, contextUsername} = this.state;\r\n\r\n        let dateTime = new Date();\r\n        // dateTime.setSeconds(dateTime.getSeconds() + 3);\r\n        dateTime = dateTime.toLocaleString();\r\n\r\n        console.log(uid, contextUsername, contextUid);\r\n        this.props.firebase\r\n            .bobaShopUserComment(shop, uid)\r\n            .push({\r\n                comment,\r\n                username: contextUsername,\r\n                uid: contextUid,\r\n                dateTime\r\n            })\r\n            .then(() => {\r\n                this.setState({\r\n                    modalIsOpen: !this.state.modalIsOpen,\r\n                    ommentModal: {\r\n                        comment: \"\",\r\n                        shop: \"\",\r\n                        uid: \"\"\r\n                    }\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const { sortedReviews, currentTime, loading, contextUsername } = this.state;\r\n        const override = css`\r\n            display: block;\r\n            margin: 150px auto;\r\n        `;\r\n\r\n        return (\r\n            <div>\r\n                <div className='sweet-loading'>\r\n                    <ClipLoader\r\n                        sizeUnit={\"px\"}\r\n                        css={override}\r\n                        size={70}\r\n                        color={'#61aceb'}\r\n                        loading={this.state.loading}\r\n                    />\r\n                </div>\r\n                <div className={`container ${classes.recentReviews}`}>\r\n                    {!loading && (sortedReviews === undefined || sortedReviews.length == 0) ?\r\n                        <div className={`${classes.reviewWell}`}>\r\n                            No Recent Reviews.\r\n            </div>\r\n                        :\r\n                        <div>\r\n                            {sortedReviews.map((review, index) => (\r\n                                <div key={index}>\r\n                                    <div className={`${classes.reviewWell}`}>\r\n                                        <ReviewCommentsCard toggleModal={this.toggleModal}\r\n                                            currentTime={currentTime} dateTime={review.dateTime} authUser={contextUsername}\r\n                                            uid={review.uid} username={review.username}\r\n                                            shop={review.shop} note={review.note}\r\n                                            score1={review.score1} score2={review.score2}\r\n                                            score3={review.score3} score4={review.score4}\r\n                                            score5={review.score5} score6={review.score6}\r\n                                            score7={review.score7} score8={review.score8}\r\n                                            comments={review.comments} />\r\n\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <Modal show={this.state.modalIsOpen}\r\n                    onClose={this.toggleModal}\r\n                    commentModal={this.state.commentModal}\r\n                    submitComment={this.submitComment}>\r\n                    Add a comment\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// const condition = authUser => !!authUser;\r\n// export default withFirebase(withAuthorization(condition)(Reviews));\r\nexport default withFirebase(Reviews);\r\n","import React from 'react';\r\nimport { withFirebase } from '../../Firebase';\r\nimport classes from './shops.module.css'\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nimport AutoSuggestShops from '../../ThirdParty/AutoSuggestShops/index';\r\nimport StarRatings from 'react-star-ratings';\r\nimport ReviewCard from '../../Partials/ReviewCard'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\r\nimport { faUsers } from '@fortawesome/free-solid-svg-icons'\r\n\r\n\r\n\r\n\r\nclass Shops extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            shop: '',\r\n            shopReviews: [],\r\n            shopAverageScore: 1,\r\n            numberOfReviews: 0\r\n        }\r\n\r\n        this.getAutosuggestInput = this.getAutosuggestInput.bind(this);\r\n        this.getAutoSuggestSelected = this.getAutoSuggestSelected.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.location.state) {\r\n            const shop = this.props.location.state.shop;\r\n            this.getShopReviews(shop);\r\n        }\r\n    }\r\n\r\n    getAutosuggestInput(value) {\r\n    }\r\n    getAutoSuggestSelected(value) {\r\n        this.getShopReviews(value);\r\n    }\r\n\r\n    getShopReviews(shop) {\r\n        this.setState({ shop: shop });\r\n\r\n        this.props.firebase.bobaShopUserReviews(shop).on('value', snapshot => {\r\n            const shopReviewsObject = snapshot.val();\r\n            console.log(shopReviewsObject);\r\n            if (shopReviewsObject) {\r\n                const shopReviewsList = Object.keys(shopReviewsObject).map(key => ({\r\n                    userid: key,\r\n                    ...shopReviewsObject[key],\r\n                }))\r\n\r\n                this.setState({\r\n                    shopReviews: shopReviewsList,\r\n                    numberOfReviews: shopReviewsList.length\r\n                }, () => {\r\n                    this.gradeReviews();\r\n                });\r\n\r\n\r\n            } else {\r\n                this.setState({\r\n                    shopReviews: [],\r\n                    numberOfReviews: 0\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    gradeReviews() {\r\n        let count = 0;\r\n        let finalScore = 0;\r\n        let score1Total = 0; let score2Total = 0; let score3Total = 0; let score4Total = 0;\r\n        let score5Total = 0; let score6Total = 0; let score7Total = 0; let score8Total = 0;\r\n        for (let review in this.state.shopReviews) {\r\n            let userReview = this.state.shopReviews[review];\r\n            score1Total += userReview.score1;\r\n            score2Total += userReview.score2;\r\n            score3Total += userReview.score3;\r\n            score4Total += userReview.score4;\r\n            score5Total += userReview.score5;\r\n            score6Total += userReview.score6;\r\n            score7Total += userReview.score7;\r\n            score8Total += userReview.score8;\r\n            count++;\r\n        }\r\n\r\n        finalScore = (parseFloat(score1Total) + parseFloat(score2Total) + parseFloat(score3Total) + parseFloat(score4Total) +\r\n            parseFloat(score5Total) + parseFloat(score6Total) + parseFloat(score7Total) + parseFloat(score8Total)) / (count * 8);\r\n        finalScore = Math.round(finalScore * 100) / 100\r\n        this.setState({\r\n            shopAverageScore: finalScore\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.firebase.bobaShopUserReviews().off();\r\n    }\r\n\r\n    render() {\r\n        const { shop, shopReviews, shopAverageScore, numberOfReviews } = this.state;\r\n        return (\r\n            <div className={`container`}>\r\n                <div className={`row`}>\r\n                    <div className={`col-lg-12 ${classes.header}`}>\r\n                        <h5>Shops</h5>\r\n                    </div>\r\n                </div>\r\n                <div className={`row`}>\r\n                    <div className={`col-lg-12 ${classes.header}`}>\r\n                        <AutoSuggestShops\r\n                            getInputData={this.getAutosuggestInput}\r\n                            getSelectedData={this.getAutoSuggestSelected}\r\n                            bobaShop={shop} />\r\n                    </div>\r\n                </div>\r\n                <div>\r\n\r\n                    {shopReviews === undefined || shopReviews.length == 0 ?\r\n                        <div>\r\n                        </div>\r\n                        :\r\n                        <div>\r\n                            <h5 className={`${classes.info}`}>\r\n                                {shop} - {' '}\r\n                                <FontAwesomeIcon icon={faUsers} size=\"1x\" />{numberOfReviews} {' '}\r\n                                <FontAwesomeIcon icon={faStar} size=\"1x\" /> {shopAverageScore} {' - '}\r\n                                <Link to={{ pathname: ROUTES.PHOTOS, state: { shop: shop } }}>\r\n                                    Photos\r\n                                </Link>\r\n                            </h5>\r\n                            <ul>\r\n                                {shopReviews.map(review => (\r\n                                    <li key={review.userid} className={`${classes.well}`}>\r\n                                        <ReviewCard userid={review.userid} username={review.username} note={review.note}\r\n                                            score1={review.score1} score2={review.score2}\r\n                                            score3={review.score3} score4={review.score4}\r\n                                            score5={review.score5} score6={review.score6}\r\n                                            score7={review.score7} score8={review.score8} />\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withFirebase(Shops);","import React from 'react';\r\nimport Autosuggest from 'react-autosuggest';\r\nimport { withFirebase } from '../../Firebase';\r\nimport theme from './theme.css';\r\n// import classes from '*.module.css';\r\n\r\nlet users = [\r\n];\r\n\r\n// Teach Autosuggest how to calculate suggestions for any given input value.\r\nconst getSuggestions = value => {\r\n  const inputValue = value.trim().toLowerCase();\r\n  const inputLength = inputValue.length;\r\n\r\n  return inputLength === 0 ? [] : users.filter(user =>\r\n    user.username.toLowerCase().slice(0, inputLength) === inputValue\r\n  );\r\n};\r\n\r\n// When suggestion is clicked, Autosuggest needs to populate the input\r\n// based on the clicked suggestion. Teach Autosuggest how to calculate the\r\n// input value for every given suggestion.\r\nconst getSuggestionValue = suggestion => suggestion.username;\r\n\r\n// Use your imagination to render suggestions.\r\nconst renderSuggestion = suggestion => (\r\n  <div>\r\n    {suggestion.username}\r\n  </div>\r\n);\r\n\r\nclass AutoSuggestUsers extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // Autosuggest is a controlled component.\r\n    // This means that you need to provide an input value\r\n    // and an onChange handler that updates this value (see below).\r\n    // Suggestions also need to be provided to the Autosuggest,\r\n    // and they are initially empty because the Autosuggest is closed.\r\n    this.state = {\r\n      value: this.props.user,\r\n      suggestions: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.firebase.users().on('value', snapshot => {\r\n      const usersObject = snapshot.val();\r\n      if (usersObject) {\r\n        const usersList = Object.keys(usersObject).map(key => ({\r\n          userid: key,\r\n          ...usersObject[key],\r\n        }))\r\n        users = usersList;\r\n      }\r\n    });\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    this.setState({ value: props.user });\r\n  }\r\n\r\n  onChange = (event, { newValue }) => {\r\n    this.setState({\r\n      value: newValue\r\n    });\r\n    this.props.getInputData(newValue);\r\n\r\n  };\r\n\r\n  // Autosuggest will call this function every time you need to update suggestions.\r\n  // You already implemented this logic above, so just use it.\r\n  onSuggestionsFetchRequested = ({ value }) => {\r\n    this.setState({\r\n      suggestions: getSuggestions(value)\r\n    });\r\n  };\r\n\r\n  onSuggestionSelected = (event, { suggestion, suggestionValue, suggestionIndex, sectionIndex, method }) => {\r\n    this.props.getSelectedData(suggestion);\r\n  }\r\n\r\n  // Autosuggest will call this function every time you need to clear suggestions.\r\n  onSuggestionsClearRequested = () => {\r\n    this.setState({\r\n      suggestions: []\r\n    });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.props.firebase.users().off();\r\n  }\r\n\r\n\r\n  render() {\r\n    const { value, suggestions } = this.state;\r\n\r\n    // Autosuggest will pass through all these props to the input.\r\n    const inputProps = {\r\n      placeholder: 'Enter member name',\r\n      value,\r\n      onChange: this.onChange\r\n    };\r\n\r\n    // Finally, render it!\r\n    return (\r\n\r\n      <Autosuggest\r\n        suggestions={suggestions}\r\n        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\r\n        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\r\n        onSuggestionSelected={this.onSuggestionSelected}\r\n        getSuggestionValue={getSuggestionValue}\r\n        renderSuggestion={renderSuggestion}\r\n        inputProps={inputProps}\r\n      //styling from theme.css   \r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(AutoSuggestUsers);\r\n","import React from 'react';\r\nimport { withFirebase } from '../../Firebase';\r\nimport classes from './users.module.css'\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nimport AutoSuggestUsers from '../../ThirdParty/AutoSuggestUsers/index';\r\nimport ReviewCard from '../../Partials/ReviewCard'\r\nimport StarRatings from 'react-star-ratings';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCoffee } from '@fortawesome/free-solid-svg-icons'\r\n\r\nclass Users extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: '',\r\n            userReviews: [],\r\n            numberOfReviews: 0\r\n        }\r\n\r\n        this.getAutosuggestInput = this.getAutosuggestInput.bind(this);\r\n        this.getAutoSuggestSelected = this.getAutoSuggestSelected.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.location.state) {\r\n            const userid = this.props.location.state.userid;\r\n            const username = this.props.location.state.username;\r\n            this.getUserReviews(userid, username);\r\n        }\r\n    }\r\n\r\n    getAutosuggestInput(value) {\r\n    }\r\n    getAutoSuggestSelected(value) {\r\n        this.getUserReviews(value.userid, value.username);\r\n    }\r\n\r\n    getUserReviews(userid, username) {\r\n        this.setState({ user: username });\r\n\r\n        this.props.firebase.userReviews(userid).on('value', snapshot => {\r\n            const userReviewsObject = snapshot.val();\r\n            if (userReviewsObject) {\r\n                const userReviewsList = Object.keys(userReviewsObject).map(key => ({\r\n                    shop: key,\r\n                    ...userReviewsObject[key],\r\n                }))\r\n                this.setState({\r\n                    userReviews: userReviewsList,\r\n                    numberOfReviews: userReviewsList.length\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    userReviews: [],\r\n                    numberOfReviews: 0\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { user, userReviews, numberOfReviews } = this.state;\r\n        console.log(user);\r\n\r\n        return (\r\n            <div className={`container`}>\r\n                <div className={`row`}>\r\n                    <div className={`col-lg-12 ${classes.header}`}>\r\n                        <h5>Members</h5>\r\n                    </div>\r\n                </div>\r\n                <div className={`row`}>\r\n                    <div className={`col-lg-12 ${classes.header}`}>\r\n                        <AutoSuggestUsers\r\n                            getInputData={this.getAutosuggestInput}\r\n                            getSelectedData={this.getAutoSuggestSelected}\r\n                            user={user} />\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n\r\n                    {userReviews === undefined || userReviews.length == 0 ?\r\n                        <div>\r\n                        </div>\r\n                        :\r\n                        <div>\r\n                            <h5 className={`${classes.info}`}>\r\n                                {user} -  <FontAwesomeIcon icon={faCoffee} size=\"1x\" />{numberOfReviews}\r\n                            </h5>\r\n                            <ul>\r\n                                {userReviews.map(review => (\r\n                                    <li key={review.shop} className={`${classes.well}`}>\r\n                                        <ReviewCard shop={review.shop} note={review.note}\r\n                                            score1={review.score1} score2={review.score2}\r\n                                            score3={review.score3} score4={review.score4}\r\n                                            score5={review.score5} score6={review.score6}\r\n                                            score7={review.score7} score8={review.score8} />\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withFirebase(Users);","import React from 'react';\r\nimport classes from './photos.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport { withFirebase } from '../../Firebase';\r\nimport FileUploader from \"react-firebase-file-uploader\";\r\nimport CustomUploadButton from 'react-firebase-file-uploader/lib/CustomUploadButton';\r\n\r\n\r\nclass AddImageModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.node = React.createRef()\r\n\r\n        this.state = {\r\n            description: \"\",\r\n            isUploading: false,\r\n            error: \"\"\r\n        }\r\n    }\r\n\r\n    handleContainerClick = (e) => {\r\n        if (this.node.contains(e.target)) {\r\n            return;\r\n        }\r\n        this.props.toggleModal();\r\n    }\r\n\r\n    onChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n\r\n    handleUploadStart = () => this.setState({ isUploading: true });\r\n    handleUploadError = error => {\r\n        this.setState({ isUploading: false, error: error });\r\n    };\r\n    onUploadSuccess = (filename, description) => {\r\n        this.setState({ isUploading: false });\r\n        this.props.handleUploadSuccess(filename, description);\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.show) {\r\n            return null;\r\n        }\r\n\r\n        // The gray background\r\n        const backdropStyle = {\r\n            position: 'fixed',\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n            backgroundColor: 'rgba(0,0,0,0.1)',\r\n            padding: 50\r\n        };\r\n\r\n        // The modal \"window\"\r\n        const modalStyle = {\r\n            backgroundColor: 'white',\r\n            borderRadius: 5,\r\n            maxWidth: 500,\r\n            minHeight: 300,\r\n            margin: '10% auto',\r\n            padding: 30,\r\n        };\r\n\r\n        const { description, isUploading, error } = this.state;\r\n        const isInvalid = description === ''\r\n\r\n        return (\r\n            <div style={backdropStyle} onClick={this.handleContainerClick}>\r\n                <div style={modalStyle} ref={node => this.node = node}>\r\n                    <div style={{ marginTop: \"40px\" }}>\r\n                        <input autoFocus={true} onChange={this.onChange} name=\"description\" className='form-control'\r\n                            placeholder=\"Enter description\"></input>\r\n                        <div className={`${classes.uploadBtns}`}>\r\n                            <button className={`btn btn-default ${classes.cancelBtn}`} onClick={this.props.toggleModal}>\r\n                                Cancel\r\n                            </button>\r\n                            <CustomUploadButton\r\n                                accept=\"image/*\"\r\n                                randomizeFilename\r\n                                storageRef={this.props.firebase.storageBobaShopImages(this.props.shop)}\r\n                                onUploadSuccess={(event) => this.onUploadSuccess(event, description)}\r\n                                onUploadStart={this.handleUploadStart}\r\n                                onUploadError={this.handleUploadError}\r\n                                className={`btn btn-info ${classes.uploadBtn}`}\r\n                                disabled={isInvalid}>\r\n                                Select &amp; Submit</CustomUploadButton>\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ display: \"block\" }}>\r\n                        {isUploading ?\r\n                            <div>Uploading...</div>\r\n                            : <div></div>}\r\n                    </div>\r\n                    <div style={{ display: \"block\" }}>\r\n                    {error ?\r\n                            <div>{error}</div>\r\n                            : <div></div>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withFirebase(AddImageModal);","import React from 'react';\r\nimport classes from './photos.module.css';\r\nimport { withFirebase } from '../../Firebase';\r\n\r\n\r\nclass ImageModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.node = React.createRef()\r\n\r\n        this.state = {\r\n            backdropDiv: ''\r\n        }\r\n    }\r\n\r\n    handleContainerClick = (e) => {\r\n        if (this.node.contains(e.target)) {\r\n            return;\r\n        }\r\n        this.props.toggleImage();\r\n\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.show) {\r\n            return null;\r\n        }\r\n\r\n        // The gray background\r\n        const backdropStyle = {\r\n            position: 'fixed',\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n            backgroundColor: 'rgba(0,0,0,0.7)',\r\n            padding: 50,\r\n            zIndex: 1\r\n        };\r\n\r\n        // The modal \"window\"\r\n        const modalStyle = {\r\n            // backgroundColor: 'white',\r\n            // borderRadius: 5,\r\n            // maxWidth: 500,\r\n            // minHeight: 300,\r\n            margin: '10% auto',\r\n            padding: 30,\r\n            zIndex: 100\r\n        };\r\n        return (\r\n            <div style={backdropStyle} onClick={this.handleContainerClick}>\r\n                <div style={modalStyle} ref={node => this.node = node}>\r\n                    <div className={`${classes.outer}`}>\r\n                        <div className={`${classes.inner}`}>\r\n                            <img src={this.props.imageInfo.url} className={`${classes.largeImage}`} />\r\n                            <div className={`${classes.imageDescriptionArea}`}>\r\n                                <p>{this.props.imageInfo.description}</p>\r\n                                <br/>\r\n                                <p>{this.props.imageInfo.username} {this.props.imageInfo.dateTime}</p>\r\n                                {this.props.imageInfo.uid == this.props.contextUid ?\r\n                                    <div>\r\n                                        <br />\r\n                                        <button className={`btn btn-danger`} \r\n                                        onClick={() => this.props.deleteImage(this.props.imageInfo.id, this.props.imageInfo.filename)}\r\n                                        >Delete</button>\r\n                                    </div>\r\n                                    : <div></div>}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withFirebase(ImageModal);","import React, { forwardRef } from 'react';\r\nimport classes from './photos.module.css';\r\nimport AddImageModal from './addImageModal';\r\nimport ImageModal from './imageModal';\r\nimport { withAuthorization, AuthUserContext } from '../../Session';\r\nimport { withFirebase } from '../../Firebase';\r\nimport FileUploader from \"react-firebase-file-uploader\";\r\nimport CustomUploadButton from 'react-firebase-file-uploader/lib/CustomUploadButton';\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\nimport { ClipLoader } from 'react-spinners';\r\nimport { css } from '@emotion/core';\r\n\r\nimport AutoSuggestShops from '../../ThirdParty/AutoSuggestShops/index';\r\n\r\n\r\nclass Photos extends React.Component {\r\n    static contextType = AuthUserContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            loading: true,\r\n            images: [],\r\n            modalIsOpen: false,\r\n            shop: \"\",\r\n\r\n            contextUid: \"\",\r\n            contextUsername: \"\",\r\n\r\n            imageInfo: {},\r\n            imageIsOpen: false\r\n        }\r\n\r\n        this.getAutosuggestInput = this.getAutosuggestInput.bind(this);\r\n        this.getAutoSuggestSelected = this.getAutoSuggestSelected.bind(this);\r\n        this.toggleModal = this.toggleModal.bind(this);\r\n        this.handleUploadSuccess = this.handleUploadSuccess.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.context.authUser != null) {\r\n            this.setState({\r\n                contextUid: this.context.authUser.uid,\r\n                contextUsername: this.context.username\r\n            });\r\n        }\r\n        if (this.props.location.state) {\r\n            const shop = this.props.location.state.shop;\r\n            this.getShopImages(shop);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.firebase.bobaShopImages().off();\r\n    }\r\n\r\n    toggleModal = () => {\r\n        this.setState({ modalIsOpen: !this.state.modalIsOpen });\r\n    }\r\n\r\n    toggleImage = (imageInfo) => {\r\n        imageInfo = imageInfo || {};\r\n        this.setState({\r\n            imageIsOpen: !this.state.imageIsOpen,\r\n            imageInfo: imageInfo\r\n        });\r\n    }\r\n\r\n    getAutosuggestInput(value) {\r\n    }\r\n    getAutoSuggestSelected(value) {\r\n        this.getShopImages(value);\r\n    }\r\n\r\n    getShopImages(shop) {\r\n        this.setState({\r\n            shop: shop,\r\n            loading: true\r\n        });\r\n\r\n        this.props.firebase.bobaShopImages(shop).on('value', snapshot => {\r\n            const shopImagesObject = snapshot.val();\r\n            if (shopImagesObject) {\r\n                const shopImagesList = Object.keys(shopImagesObject).map(key => ({\r\n                    id: key,\r\n                    ...shopImagesObject[key],\r\n                }))\r\n                console.log(shopImagesList);\r\n\r\n                this.setState({\r\n                    images: shopImagesList,\r\n                    loading: false\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    images: [],\r\n                    loading: false\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    handleUploadSuccess = (filename, description) => {\r\n        this.toggleModal();\r\n        const { shop, contextUid, contextUsername } = this.state;\r\n        const dateTime = new Date().toLocaleString();\r\n        this.props.firebase.storageBobaShopImages(shop)\r\n            .child(filename)\r\n            .getDownloadURL()\r\n            .then(url => {\r\n                const pushedRef = this.props.firebase\r\n                    .images()\r\n                    .push({\r\n                        shop,\r\n                        uid: contextUid,\r\n                        username: contextUsername,\r\n                        filename,\r\n                        url,\r\n                        description,\r\n                        dateTime\r\n                    });\r\n                const imageId = pushedRef.key;\r\n\r\n                this.props.firebase\r\n                    .bobaShopImage(shop, imageId)\r\n                    .update({\r\n                        filename,\r\n                        url,\r\n                        uid: contextUid,\r\n                        username: contextUsername,\r\n                        description,\r\n                        dateTime\r\n                    });\r\n                this.props.firebase\r\n                    .userImage(contextUid, imageId)\r\n                    .push({\r\n                        shop,\r\n                        filename,\r\n                        url,\r\n                        description,\r\n                        dateTime\r\n                    });\r\n            });\r\n    };\r\n\r\n    deleteImage = (fileid, filename) => {\r\n        var result = window.confirm(\"Are you sure you want to delete?\");\r\n        if (result) {\r\n            const { shop, contextUid } = this.state;\r\n            this.props.firebase.storageBobaShopImage(shop, filename)\r\n                .delete().then(() => {\r\n                    this.props.firebase.bobaShopImages(shop).child(fileid).remove();\r\n                    this.props.firebase.userImages(contextUid).child(fileid).remove();\r\n                    this.props.firebase.images().child(fileid).remove();\r\n                    this.toggleImage();\r\n                }).catch(function (error) {\r\n                    alert(error);\r\n                });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { shop, contextUid, images } = this.state;\r\n        console.log(images);\r\n        const imagesGrid = [];\r\n        for (const [index, value] of images.entries()) {\r\n            console.log(index, value);\r\n            imagesGrid.push(\r\n                <div key={index} className={`col-4 col-sm-3 col-lg-2 ${classes.column}`}>\r\n                    <img className={`${classes.image}`} src={value.url}\r\n                        onClick={() => this.toggleImage(value)} />\r\n                </div>\r\n            )\r\n        }\r\n\r\n        const override = css`\r\n        display: block;\r\n        margin: 20px auto;\r\n        `;\r\n\r\n        return (\r\n            <div className={`container`}>\r\n                <div className={`row`}>\r\n                    <div className={`col-lg-12 ${classes.header}`}>\r\n                        <h5></h5>\r\n                    </div>\r\n                </div>\r\n                <div className={`row`}>\r\n                    <div className={`col-lg-12 ${classes.header}`}>\r\n                        <AutoSuggestShops\r\n                            getInputData={this.getAutosuggestInput}\r\n                            getSelectedData={this.getAutoSuggestSelected}\r\n                            bobaShop={shop} />\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    {shop != \"\" ?\r\n                        <div>\r\n                            <div className={`${classes.info}`}>\r\n                                <h5>\r\n                                    {shop}\r\n                                </h5>\r\n                                {contextUid ?\r\n                                    <button className={`btn btn-info ${classes.addCommentButton}`}\r\n                                        onClick={() => this.toggleModal()}>\r\n                                        Add Photo\r\n                                    </button>\r\n                                    : <div></div>}\r\n                            </div>\r\n                            <div>\r\n                                {(images === undefined || images.length == 0) ?\r\n                                    <div className={`row ${classes.noPhotosWell}`}>No Photos Added</div>\r\n                                    : <div className={`row`}>{imagesGrid}</div>\r\n                                }\r\n\r\n                                <div className='sweet-loading'>\r\n                                    <ClipLoader\r\n                                        sizeUnit={\"px\"}\r\n                                        css={override}\r\n                                        size={70}\r\n                                        color={'#61aceb'}\r\n                                        loading={this.state.loading}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        :\r\n                        <div></div>\r\n                    }\r\n\r\n                </div>\r\n\r\n                <AddImageModal show={this.state.modalIsOpen}\r\n                    toggleModal={this.toggleModal}\r\n                    shop={shop}\r\n                    handleUploadSuccess={this.handleUploadSuccess}>\r\n                </AddImageModal>\r\n                <ImageModal show={this.state.imageIsOpen}\r\n                    imageInfo={this.state.imageInfo}\r\n                    contextUid={contextUid}\r\n                    toggleImage={this.toggleImage}\r\n                    deleteImage={this.deleteImage}>\r\n                </ImageModal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withFirebase(Photos);","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../../Firebase';\r\n\r\nconst INITIAL_STATE = {\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  error: null,\r\n};\r\n\r\nclass PasswordChangeForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { passwordOne } = this.state;\r\n\r\n    this.props.firebase\r\n      .doPasswordUpdate(passwordOne)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { passwordOne, passwordTwo, error } = this.state;\r\n\r\n    const isInvalid =\r\n      passwordOne !== passwordTwo || passwordOne === '';\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <input\r\n          name=\"passwordOne\"\r\n          value={passwordOne}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"New Password\"\r\n        />\r\n        <input\r\n          name=\"passwordTwo\"\r\n          value={passwordTwo}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"Confirm New Password\"\r\n        />\r\n        <button disabled={isInvalid} type=\"submit\">\r\n          Reset My Password\r\n        </button>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(PasswordChangeForm);\r\n","import React from 'react';\r\nimport classes from './account.module.css';\r\n\r\nimport { AuthUserContext } from '../../Session';\r\nimport { PasswordForgetForm } from '../../Partials/PasswordForget';\r\nimport  PasswordChangeForm  from '../../Partials/PasswordChange';\r\nimport { withAuthorization } from '../../Session';\r\n\r\nconst divStyle={\r\n  margin: '15px',\r\n}\r\n\r\nconst AccountPage = () => (\r\n  <AuthUserContext.Consumer>\r\n    {login => (\r\n      <div style={divStyle}>\r\n        <h5>Account: {login.authUser.email}</h5>\r\n        <PasswordForgetForm />\r\n        {/* <PasswordChangeForm /> */}\r\n      </div>\r\n    )}\r\n  </AuthUserContext.Consumer>\r\n);\r\n\r\nconst authCondition = authUser => !!authUser;\r\n\r\nexport default withAuthorization(authCondition)(AccountPage);\r\n","import React, { Component } from 'react';\r\nimport { compose } from 'recompose';\r\n\r\nimport { withFirebase } from '../../Firebase';\r\n\r\nimport { AuthUserContext } from '../../Session';\r\nimport { withAuthorization } from '../../Session';\r\nimport * as ROUTES from '../../../constants/routes';\r\n\r\n\r\nclass AdminPageBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      users: [],\r\n    };\r\n  }\r\n\r\n  componentWillMount(){\r\n    // this.props.history.push(ROUTES.LANDING);\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n\r\n    this.props.firebase.users().on('value', snapshot => {\r\n      const usersObject = snapshot.val();\r\n\r\n      const usersList = Object.keys(usersObject).map(key => ({\r\n        ...usersObject[key],\r\n        uid: key,\r\n      }));\r\n\r\n      this.setState({\r\n        users: usersList,\r\n        loading: false,\r\n      });\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.firebase.users().off();\r\n  }\r\n\r\n  render() {\r\n    const {users, loading} = this.state;\r\n\r\n    return (\r\n      <div>\r\n\r\n        {loading && <div>Loading...</div>}\r\n\r\n        <UserList users={users} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst UserList = ({users}) => (\r\n  <ul>\r\n    {users.map(user => (\r\n      <li key={user.uid}>\r\n        <span>\r\n          <strong>ID:</strong> {user.uid}\r\n        </span>\r\n        <span>\r\n          <strong>E-Mail:</strong> {user.email}\r\n        </span>\r\n        <span>\r\n          <strong>Username:</strong> {user.username}\r\n        </span>\r\n      </li>\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nconst authCondition = authUsera => !!authUsera;\r\n\r\nconst AdminPage = compose(\r\n  withAuthorization(authCondition),\r\n  withFirebase,\r\n)(AdminPageBase);\r\n\r\nexport default AdminPage;","import React, { Component } from 'react';\r\nimport { withFirebase } from '../../Firebase';\r\nimport FileUploader from \"react-firebase-file-uploader\";\r\nimport CustomUploadButton from 'react-firebase-file-uploader/lib/CustomUploadButton';\r\n\r\n\r\nclass Test extends Component {\r\n    state = {\r\n        username: \"\",\r\n        avatar: \"\",\r\n        isUploading: false,\r\n        progress: 0,\r\n        avatarURL: \"\",\r\n        files: \"\"\r\n    };\r\n\r\n    componentDidMount() {\r\n        // this.props.firebase.bobaShopImage(\"Ding Tea (Rowland Heights)\", \"70f2696e-5343-4980-bc58-e4bca378749a.PNG\")\r\n        //     .getDownloadURL().then(url => { this.setState({ files: url }) });\r\n    };\r\n\r\n    handleChangeUsername = event =>\r\n        this.setState({ username: event.target.value });\r\n    handleUploadStart = () => this.setState({ isUploading: true, progress: 0 });\r\n    handleProgress = progress => this.setState({ progress });\r\n    handleUploadError = error => {\r\n        this.setState({ isUploading: false });\r\n        console.error(error);\r\n    };\r\n    handleUploadSuccess = filename => {\r\n        // this.setState({ avatar: filename, progress: 100, isUploading: false });\r\n        this.props.firebase.storageBobaShopImages(\"Ding Tea (Rowland Heights)\")\r\n            .child(filename)\r\n            .getDownloadURL()\r\n            .then(url => this.setState({ avatarURL: url }));\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <form>\r\n                    <label>Username:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={this.state.username}\r\n                        name=\"username\"\r\n                        onChange={this.handleChangeUsername}\r\n                    />\r\n                    <label>Avatar:</label>\r\n                    {this.state.isUploading && <p>Progress: {this.state.progress}</p>}\r\n                    {this.state.avatarURL && <img src={this.state.avatarURL} />}\r\n                    <img src={this.state.files} />\r\n                    <CustomUploadButton\r\n                        accept=\"image/*\"\r\n                        name=\"avatar\"\r\n                        randomizeFilename\r\n                        storageRef={this.props.firebase.storageBobaShopImages(\"Ding Tea (Rowland Heights)\")}\r\n                        // onUploadStart={this.handleUploadStart}\r\n                        // onUploadError={this.handleUploadError}\r\n                        onUploadSuccess={this.handleUploadSuccess}\r\n                        // onProgress={this.handleProgress}\r\n                        style={{ backgroundColor: 'steelblue', color: 'white', padding: 10, borderRadius: 4 }}\r\n                    >\r\n                        Select\r\n                        </CustomUploadButton>\r\n                    <button onClick={this.startUploadManually}>Upload all the things</button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default withFirebase(Test);","import React from 'react';\r\nimport { BrowserRouter as Router, Route, HashRouter } from 'react-router-dom';\r\nimport classes from './app.module.css';\r\n\r\nimport Navigation from '../Navigation';\r\nimport LandingPage from '../Pages/Landing';\r\nimport SignUpPage from '../Partials/SignUp';\r\nimport SignInPage from '../Pages/SignIn';\r\nimport PasswordForgetPage from '../Partials/PasswordForget';\r\nimport HomePage from '../Pages/Home';\r\nimport ReviewsPage from '../Pages/Reviews';\r\nimport ShopsPage from '../Pages/Shops';\r\nimport UsersPage from '../Pages/Users';\r\nimport PhotosPage from '../Pages/Photos';\r\nimport AccountPage from '../Pages/Account';\r\nimport AdminPage from '../Pages/Admin';\r\nimport TestPage from '../Pages/Test';\r\n\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { withAuthentication } from '../Session';\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {}\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <HashRouter>\r\n        <div>\r\n          <div>\r\n            <Navigation />\r\n            <hr />\r\n          </div>\r\n          <div className={classes.main}>\r\n            <Route exact path={ROUTES.LANDING} component={LandingPage} />\r\n            <Route exact path={ROUTES.SIGN_UP} component={SignUpPage} />\r\n            <Route exact path={ROUTES.SIGN_IN} component={SignInPage} />\r\n            <Route exact path={ROUTES.HOME} component={HomePage} />\r\n            <Route exact path={ROUTES.REVIEWS} component={ReviewsPage} />\r\n            <Route exact path={ROUTES.SHOPS} component={ShopsPage} />\r\n            <Route exact path={ROUTES.MEMBERS} component={UsersPage} />\r\n            <Route exact path={ROUTES.PHOTOS} component={PhotosPage} />\r\n            <Route exact path={ROUTES.ACCOUNT} component={AccountPage} />\r\n            <Route exact path={ROUTES.ADMIN} component={AdminPage} />\r\n            <Route exact path={ROUTES.TEST} component={TestPage} />\r\n            <Route\r\n              exact\r\n              path={ROUTES.PASSWORD_FORGET}\r\n              component={PasswordForgetPage}\r\n            />\r\n          </div>\r\n        </div>\r\n      </HashRouter>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default withAuthentication(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport App from './components/App';\r\nimport Firebase, { FirebaseContext } from './components/Firebase';\r\nimport { ToastContainer } from \"react-toastr\";\r\n\r\nReactDOM.render(\r\n  <FirebaseContext.Provider value={new Firebase()}>\r\n    <App />\r\n  </FirebaseContext.Provider>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n//https://www.robinwieruch.de/complete-firebase-authentication-react-tutorial/\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"navigation_active__2gNDB\",\"navbar\":\"navigation_navbar__3FMp0\",\"icon\":\"navigation_icon__1Z5WP\",\"responsive\":\"navigation_responsive__3q-0y\",\"responsiveSignout\":\"navigation_responsiveSignout__1tzNy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tierList\":\"landing_tierList__3XqZp\",\"tierLabel\":\"landing_tierLabel__3wVSG\",\"row\":\"landing_row__ysYOi\",\"tierItem\":\"landing_tierItem__20fR_\",\"header\":\"landing_header__3dej6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputStyle\":\"signUp_inputStyle__bk6sA\",\"maskButton\":\"signUp_maskButton__Xd7z2\",\"error\":\"signUp_error__hH3Xe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signInInput\":\"signIn_signInInput__hYAld\",\"inputStyle\":\"signIn_inputStyle__1Y77P\",\"maskButton\":\"signIn_maskButton__fv5LH\",\"error\":\"signIn_error__1Rnr4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"shops_header__2Zh0Z\",\"info\":\"shops_info__kIesd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"users_header__2nsx_\",\"info\":\"users_info__3pZgp\"};"],"sourceRoot":""}